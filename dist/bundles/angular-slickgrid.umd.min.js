!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs/Observable"),require("rxjs/add/operator/first"),require("rxjs/add/operator/take"),require("rxjs/add/operator/toPromise"),require("moment-mini"),require("@angular/core"),require("@ngx-translate/core"),require("rxjs/Subject"),require("text-encoding-utf-8"),require("jquery-ui-dist/jquery-ui"),require("slickgrid/lib/jquery.event.drag-2.3.0"),require("slickgrid/slick.core"),require("slickgrid/slick.dataview"),require("slickgrid/slick.grid"),require("slickgrid/slick.groupitemmetadataprovider"),require("slickgrid/controls/slick.columnpicker"),require("slickgrid/controls/slick.gridmenu"),require("slickgrid/controls/slick.pager"),require("slickgrid/plugins/slick.autotooltips"),require("slickgrid/plugins/slick.cellexternalcopymanager"),require("slickgrid/plugins/slick.cellrangedecorator"),require("slickgrid/plugins/slick.cellrangeselector"),require("slickgrid/plugins/slick.cellselectionmodel"),require("slickgrid/plugins/slick.checkboxselectcolumn"),require("slickgrid/plugins/slick.headerbuttons"),require("slickgrid/plugins/slick.headermenu"),require("slickgrid/plugins/slick.rowmovemanager"),require("slickgrid/plugins/slick.rowselectionmodel"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","rxjs/Observable","rxjs/add/operator/first","rxjs/add/operator/take","rxjs/add/operator/toPromise","moment-mini","@angular/core","@ngx-translate/core","rxjs/Subject","text-encoding-utf-8","jquery-ui-dist/jquery-ui","slickgrid/lib/jquery.event.drag-2.3.0","slickgrid/slick.core","slickgrid/slick.dataview","slickgrid/slick.grid","slickgrid/slick.groupitemmetadataprovider","slickgrid/controls/slick.columnpicker","slickgrid/controls/slick.gridmenu","slickgrid/controls/slick.pager","slickgrid/plugins/slick.autotooltips","slickgrid/plugins/slick.cellexternalcopymanager","slickgrid/plugins/slick.cellrangedecorator","slickgrid/plugins/slick.cellrangeselector","slickgrid/plugins/slick.cellselectionmodel","slickgrid/plugins/slick.checkboxselectcolumn","slickgrid/plugins/slick.headerbuttons","slickgrid/plugins/slick.headermenu","slickgrid/plugins/slick.rowmovemanager","slickgrid/plugins/slick.rowselectionmodel","@angular/common"],e):e(t["angular-slickgrid"]={},t.Rx,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.moment,t.ng.core,t["ngx-translate-core"],t.Rx,t.textEncodingUtf8,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,t.ng.common)}(this,function(t,e,i,r,n,o,a,s,l,u,c,d,p,h,f,m,g,v,y,b,S,C,_,w,O,T,k,E,P,F){"use strict";function D(t,e,i,r){return new(i||(i=Promise))(function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):new i(function(e){e(t.value)}).then(a,s)}l((r=r.apply(t,e||[])).next())})}function x(t,e){function i(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function I(t){var e="function"==typeof Symbol&&t[Symbol.iterator],i=0;return e?e.call(t):{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}function A(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,n,o=i.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){n={error:s}}finally{try{r&&!r.done&&(i=o["return"])&&i.call(o)}finally{if(n)throw n.error}}return a}function M(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(A(arguments[e]));return t}function V(t){for(var e="",i=0;i<t;i++)e+=" ";return e}function N(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(e)})}function R(t,e,i){if(void 0===i&&(i=!1),t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;i||(t.sort(),e.sort());for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function B(t,i){void 0===i&&(i="");var r=t;if(t instanceof Promise)return t;if(t instanceof e.Observable&&((r=t.first().toPromise())instanceof Promise||(r=t.take(1).toPromise()),!(r instanceof Promise)))throw new Error("Something went wrong, Angular-Slickgrid "+i+" is not able to convert the Observable into a Promise.\n        If you are using Angular HttpClient, you could try converting your http call to a Promise with \".toPromise()\"\n        for example::  this.http.post('graphql', { query: graphqlQuery }).toPromise()\n        ");return r}function H(t,e,i){return void 0===i&&(i={}),t.find(e)||i}function G(t,e,i){if(isNaN(+t))return t;var r=e===undefined?2:e,n=i===undefined?2:i,o=String(Math.round(+t*Math.pow(10,n))/Math.pow(10,n));for(o.indexOf(".")<0&&(o+=".");o.length-o.indexOf(".")<=r;)o+="0";return o}function L(t){var e;switch(t){case J.dateTime:case J.dateTimeIso:e="YYYY-MM-DD HH:mm:ss";break;case J.dateTimeIsoAmPm:e="YYYY-MM-DD hh:mm:ss a";break;case J.dateTimeIsoAM_PM:e="YYYY-MM-DD hh:mm:ss A";break;case J.dateUs:e="MM/DD/YYYY";break;case J.dateUsShort:e="M/D/YY";break;case J.dateTimeUs:e="MM/DD/YYYY HH:mm:ss";break;case J.dateTimeUsAmPm:e="MM/DD/YYYY hh:mm:ss a";break;case J.dateTimeUsAM_PM:e="MM/DD/YYYY hh:mm:ss A";break;case J.dateTimeUsShort:e="M/D/YY H:m:s";break;case J.dateTimeUsShortAmPm:e="M/D/YY h:m:s a";break;case J.dateUtc:e="YYYY-MM-DDTHH:mm:ss.SSSZ";break;case J.date:case J.dateIso:default:e="YYYY-MM-DD"}return e}function z(t){var e;switch(t){case J.dateTime:case J.dateTimeIso:e="Y-m-d H:i:S";break;case J.dateTimeIsoAmPm:case J.dateTimeIsoAM_PM:e="Y-m-d h:i:S K";break;case J.dateUs:e="m/d/Y";break;case J.dateUsShort:e="m/d/y";break;case J.dateTimeUs:e="m/d/Y H:i:S";break;case J.dateTimeUsAmPm:e="m/d/Y h:i:S K";break;case J.dateTimeUsAM_PM:e="m/d/Y h:i:s K";break;case J.dateTimeUsShort:e="m/d/y H:i:s";break;case J.dateTimeUsShortAmPm:e="m/d/y h:i:s K";break;case J.dateUtc:e="Z";break;case J.date:case J.dateIso:default:e="Y-m-d"}return e}function U(t){var e;switch(t){case"<":e=ot.lessThan;break;case"<=":e=ot.lessThanOrEqual;break;case">":e=ot.greaterThan;break;case">=":e=ot.greaterThanOrEqual;break;case"<>":case"!=":case"neq":case"NEQ":e=ot.notEqual;break;case"*":case".*":case"startsWith":e=ot.startsWith;break;case"*.":case"endsWith":e=ot.endsWith;break;case"=":case"==":case"eq":case"EQ":e=ot.equal;break;case"in":case"IN":e=ot["in"];break;case"notIn":case"NIN":case"NOT_IN":e=ot.notIn;break;default:e=ot.contains}return e}function j(t){var e;switch(t){case J.string:case J.unknown:e=ot.contains;break;case J["float"]:case J.number:case J.date:case J.dateIso:case J.date:case J.dateUtc:case J.dateTime:case J.dateTimeIso:case J.dateTimeIsoAmPm:case J.dateTimeIsoAM_PM:case J.dateUs:case J.dateUsShort:case J.dateTimeUs:case J.dateTimeUsAmPm:case J.dateTimeUsAM_PM:case J.dateTimeUsShort:case J.dateTimeUsShortAmPm:case J.dateTimeUsShortAM_PM:default:e=ot.equal}return e}function q(t){var e;switch(t){case et.multipleSelect:e=ot["in"];break;case et.singleSelect:e=ot.equal}return e}function W(t,e){var i=null;if(/^[0-9\-\/]*$/.test(t)){var r=decodeURIComponent(t),n=lt(new Date(r));n.isValid()&&4===n.year().toString().length&&(i=e?n.utc().format():n.format())}return i}function Y(t){return t.replace(/(?:^\w|[A-Z]|\b\w|[\s+\-_\/])/g,function(t,e){return/[\s+\-_\/]/.test(t)?"":0===e?t.toLowerCase():t.toUpperCase()})}function Q(t,e,i,r){var n=0;switch(i){case J.number:n=_t.numeric(t,e,r);break;case J.date:n=_t.date(t,e,r);break;case J.dateIso:n=_t.dateIso(t,e,r);break;case J.dateUs:n=_t.dateUs(t,e,r);break;case J.dateUsShort:n=_t.dateUsShort(t,e,r);break;default:n=_t.string(t,e,r)}return n}function K(t){return/(true|1)/i.test(t+"")}var X={camelCase:0,pascalCase:1,snakeCase:2};X[X.camelCase]="camelCase",X[X.pascalCase]="pascalCase",X[X.snakeCase]="snakeCase";var Z={colon:":",comma:",",equalSign:"=",pipe:"|",semicolon:";",space:" ",tab:"\t",doubleColon:"::",doublePipe:"||",doubleSemicolon:";;"},J={unknown:0,string:1,"boolean":2,integer:3,"float":4,number:5,date:6,dateIso:7,dateUtc:8,dateTime:9,dateTimeIso:10,dateTimeIsoAmPm:11,dateTimeIsoAM_PM:12,dateUs:13,dateUsShort:14,dateTimeUs:15,dateTimeUsAmPm:16,dateTimeUsAM_PM:17,dateTimeUsShort:18,dateTimeUsShortAmPm:19,dateTimeUsShortAM_PM:20};J[J.unknown]="unknown",J[J.string]="string",J[J["boolean"]]="boolean",J[J.integer]="integer",J[J["float"]]="float",J[J.number]="number",J[J.date]="date",J[J.dateIso]="dateIso",J[J.dateUtc]="dateUtc",J[J.dateTime]="dateTime",J[J.dateTimeIso]="dateTimeIso",J[J.dateTimeIsoAmPm]="dateTimeIsoAmPm",J[J.dateTimeIsoAM_PM]="dateTimeIsoAM_PM",J[J.dateUs]="dateUs",J[J.dateUsShort]="dateUsShort",J[J.dateTimeUs]="dateTimeUs",J[J.dateTimeUsAmPm]="dateTimeUsAmPm",J[J.dateTimeUsAM_PM]="dateTimeUsAM_PM",J[J.dateTimeUsShort]="dateTimeUsShort",J[J.dateTimeUsShortAmPm]="dateTimeUsShortAmPm",J[J.dateTimeUsShortAM_PM]="dateTimeUsShortAM_PM";var tt={csv:"csv",doc:"doc",docx:"docx",pdf:"pdf",txt:"txt",xls:"xls",xlsx:"xlsx"},et={input:0,select:1,multipleSelect:2,singleSelect:3,custom:4,compoundDate:5,compoundInput:6};et[et.input]="input",et[et.select]="select",et[et.multipleSelect]="multipleSelect",et[et.singleSelect]="singleSelect",et[et.custom]="custom",et[et.compoundDate]="compoundDate",et[et.compoundInput]="compoundInput";var it={input:0,select:1,multipleSelect:2,singleSelect:3,custom:4,inputNoPlaceholder:5,textarea:6};it[it.input]="input",it[it.select]="select",it[it.multipleSelect]="multipleSelect",it[it.singleSelect]="singleSelect",it[it.custom]="custom",it[it.inputNoPlaceholder]="inputNoPlaceholder",it[it.textarea]="textarea";var rt={filter:"filter",pagination:"pagination",sorter:"sorter"},nt={BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38};nt[nt.BACKSPACE]="BACKSPACE",nt[nt.DELETE]="DELETE",nt[nt.DOWN]="DOWN",nt[nt.END]="END",nt[nt.ENTER]="ENTER",nt[nt.ESCAPE]="ESCAPE",nt[nt.HOME]="HOME",nt[nt.INSERT]="INSERT",nt[nt.LEFT]="LEFT",nt[nt.PAGE_DOWN]="PAGE_DOWN",nt[nt.PAGE_UP]="PAGE_UP",nt[nt.RIGHT]="RIGHT",nt[nt.TAB]="TAB",nt[nt.UP]="UP";var ot={contains:"Contains",lessThan:"LT",lessThanOrEqual:"LE",greaterThan:"GT",greaterThanOrEqual:"GE",notEqual:"NE",equal:"EQ",endsWith:"EndsWith",startsWith:"StartsWith","in":"IN",notIn:"NIN"},at={asc:"asc",ASC:"ASC",desc:"desc",DESC:"DESC"},st={asc:1,desc:-1,neutral:0};st[st.asc]="asc",st[st.desc]="desc",st[st.neutral]="neutral";var lt=o,ut=o,ct=L(J.dateUsShort),dt=function(t,e,i){if(!ut(t,ct,!0).isValid()||!ut(e,ct,!0).isValid())return 0;var r=ut(t,ct,!0),n=ut(e,ct,!0),o=parseInt(r.format("X"),10)-parseInt(n.format("X"),10);return i*(0===o?0:o>0?1:-1)},pt=o,ht=function(t,e,i){if(!pt(t,pt.ISO_8601).isValid()||!pt(e,pt.ISO_8601,!0).isValid())return 0;var r=pt(t),n=pt(e),o=parseInt(r.format("X"),10)-parseInt(n.format("X"),10);return i*(0===o?0:o>0?1:-1)},ft=o,mt=L(J.dateIso),gt=function(t,e,i){if(!ft(t,mt,!0).isValid()||!ft(e,mt,!0).isValid())return 0;var r=ft(t,mt,!0),n=ft(e,mt,!0),o=parseInt(r.format("X"),10)-parseInt(n.format("X"),10);return i*(0===o?0:o>0?1:-1)},vt=o,yt=L(J.dateUs),bt=function(t,e,i){if(!vt(t,yt,!0).isValid()||!vt(e,yt,!0).isValid())return 0;var r=vt(t,yt,!0),n=vt(e,yt,!0),o=parseInt(r.format("X"),10)-parseInt(n.format("X"),10);return i*(0===o?0:o>0?1:-1)},St=function(t,e,i){var r=isNaN(t)||""===t||null===t?-99e10:parseFloat(t),n=isNaN(e)||""===e||null===e?-99e10:parseFloat(e);return i*(r===n?0:r>n?1:-1)},Ct=function(t,e,i){var r;return null===t?r=-1:null===e?r=1:t===e?r=0:i?r=t<e?-1:1:i||(r=t<e?1:-1),i*r},_t={date:ht,dateIso:gt,dateUs:bt,dateUsShort:dt,numeric:St,string:Ct},wt=function(){function t(t){this.translate=t}return t.prototype.filterCollection=function(t,e){var i;if(e){var r=e.property||"",n=e.operator||ot.equal,o=e.value||"";i=n===ot.equal?t.filter(function(t){return t[r]!==o}):t.filter(function(t){return t[r]===o})}return i},t.prototype.sortCollection=function(t,e,i){var r,n=this;if(e){var o=e.property||"",a=e.hasOwnProperty("sortDesc")&&e.sortDesc?-1:1,s=e.fieldType||J.string;r=t.sort(function(t,e){return Q(i?n.translate.instant(t[o]||" "):t[o],i?n.translate.instant(e[o]||" "):e[o],s,a)})}return r},t}();wt.decorators=[{type:a.Injectable}],wt.ctorParameters=function(){return[{type:s.TranslateService}]};var Ot=function(t){return K(t.cellValue)===K(t.searchTerm)},Tt=function(t,e,i){switch(t){case"<":case"LT":return e<i;case"<=":case"LE":return e<=i;case">":case"GT":return e>i;case">=":case"GE":return e>=i;case"!=":case"<>":case"NE":return e!==i;case"=":case"==":case"EQ":return e===i;case"IN":return!(!i||!i.includes)&&i.includes(e)}return!0},kt=o,Et=function(t){var e=L(t.filterSearchType||J.dateIso);if(!kt(t.cellValue,kt.ISO_8601).isValid()||!kt(t.searchTerm,e,!0).isValid())return!0;var i=kt(t.cellValue),r=kt(t.searchTerm);return Tt(t.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Pt=o,Ft=L(J.dateIso),Dt=function(t){if(!Pt(t.cellValue,Ft,!0).isValid()||!Pt(t.searchTerm,Ft,!0).isValid())return!0;var e=Pt(t.cellValue,Ft,!0),i=Pt(t.searchTerm,Ft,!0);return Tt(t.operator||"==",parseInt(e.format("X"),10),parseInt(i.format("X"),10))},xt=o,It=L(J.dateUs),At=function(t){if(!xt(t.cellValue,It,!0).isValid()||!xt(t.searchTerm,It,!0).isValid())return!0;var e=xt(t.cellValue,It,!0),i=xt(t.searchTerm,It,!0);return Tt(t.operator||"==",parseInt(e.format("X"),10),parseInt(i.format("X"),10))},$t=o,Mt=L(J.dateUsShort),Vt=function(t){if(!$t(t.cellValue,Mt,!0).isValid()||!$t(t.searchTerm,Mt,!0).isValid())return!0;var e=$t(t.cellValue,Mt,!0),i=$t(t.searchTerm,Mt,!0);return Tt(t.operator||"==",parseInt(e.format("X"),10),parseInt(i.format("X"),10))},Nt=o,Rt=function(t){var e=L(t.filterSearchType||t.fieldType);if(!Nt(t.cellValue,Nt.ISO_8601).isValid()||!Nt(t.searchTerm,e,!0).isValid())return!0;var i=Nt(t.cellValue,Nt.ISO_8601,!0),r=Nt(t.searchTerm,e,!0);return Tt(t.operator||"==",parseInt(i.format("X"),10),parseInt(r.format("X"),10))},Bt=function(t){var e=t.cellValue+"";return Tt(t.operator||"IN",e,t.searchTerms||[])},Ht=function(t){var e=parseFloat(t.cellValue),i="string"==typeof t.searchTerm?parseFloat(t.searchTerm):t.searchTerm;return Tt(t.operator||"==",e,i)},Gt=function(t){t.cellValue=t.cellValue===undefined||null===t.cellValue?"":t.cellValue.toString();var e=t.cellValue.toLowerCase(),i="string"==typeof t.searchTerm?t.searchTerm.toLowerCase():t.searchTerm;return"*"===t.operator||t.operator===ot.endsWith?e.endsWith(i):""===t.operator&&"*"===t.cellValueLastChar||t.operator===ot.startsWith?e.startsWith(i):""===t.operator?e.includes(i):Tt(t.operator||"==",e,i)},Lt=function(t){if(t&&t.operator&&"IN"===t.operator.toUpperCase())return Bt(t);switch(t.fieldType){case J["boolean"]:return Ot(t);case J.date:return Et(t);case J.dateUtc:return Rt(t);case J.dateIso:return Dt(t);case J.dateUs:case J.dateTimeUs:return At(t);case J.dateUsShort:case J.dateTimeUsShort:return Vt(t);case J.number:return Ht(t);case J.string:default:return Gt(t)}},zt={executeMappedCondition:Lt,booleanFilter:Ot,collectionSearchFilter:Bt,dateFilter:Et,dateIsoFilter:Dt,dateUtcFilter:Rt,dateUsFilter:At,dateUsShortFilter:Vt,numberFilter:Ht,stringFilter:Gt,testFilter:Tt};require("flatpickr");var Ut=function(){function t(t){this.translate=t}return t.prototype.init=function(t){var e=this;this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator,this.searchTerm=t.searchTerm,this.grid&&"function"==typeof this.grid.getOptions&&(this.gridOptions=this.grid.getOptions()),this.$filterElm=this.createDomElement(),this.$filterInputElm.keyup(function(t){e.onTriggerEvent(t)}),this.$selectOperatorElm.change(function(t){e.onTriggerEvent(t)})},t.prototype.clear=function(t){void 0===t&&(t=!0),this.flatInstance&&this.$selectOperatorElm&&(this.$selectOperatorElm.val(0),this.flatInstance.clear())},t.prototype.destroy=function(){this.$filterElm&&(this.$filterElm.off("keyup").remove(),this.$selectOperatorElm.off("change").remove())},t.prototype.setValues=function(t){t&&this.flatInstance.setDate(t)},t.prototype.buildDatePickerInput=function(t){var e=this,i=z(this.columnDef.type||J.dateIso),r=z(this.columnDef.outputType||this.columnDef.type||J.dateUtc),n=this.getCurrentLocale(this.columnDef,this.gridOptions)||"";n.length>2&&(n=n.substring(0,2));var o={defaultDate:t||"",altInput:!0,altFormat:r,dateFormat:i,wrap:!0,closeOnSelect:!0,locale:"en"!==n?this.loadFlatpickrLocale(n):"en",onChange:function(t,i,r){e._currentValue=i,o.enableTime?e.onTriggerEvent(new CustomEvent("keyup")):e.onTriggerEvent(undefined)}};r&&("Z"===r||r.toLowerCase().includes("h"))&&(o.enableTime=!0);var a=this.gridOptions?this.gridOptions.defaultFilterPlaceholder||"":"",s=$('<div class=flatpickr><input type="text" class="form-control" data-input placeholder="'+a+'"></div>');return this.flatInstance=s[0]&&"function"==typeof s[0].flatpickr?s[0].flatpickr(o):null,s},t.prototype.buildSelectOperatorHtmlString=function(){var t="";return this.getOptionValues().forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},t.prototype.getOptionValues=function(){return[{operator:"",description:""},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]},t.prototype.createDomElement=function(){var t=this.grid.getHeaderRowColumn(this.columnDef.id);$(t).empty();var e=this.searchTerm||"";e&&(this._currentValue=e),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=this.buildDatePickerInput(e);var i=$('<div class="form-group search-filter"></div>'),r=$('<div class="input-group flatpickr"></div>'),n=$('<div class="input-group-addon operator"></div>');return n.append(this.$selectOperatorElm),r.append(n),r.append(this.$filterInputElm),i.append(r),i.attr("id","filter-"+this.columnDef.id),this.$filterInputElm.data("columnId",this.columnDef.id),this.operator&&this.$selectOperatorElm.val(this.operator),this.searchTerm&&i.addClass("filled"),i&&"function"==typeof i.appendTo&&i.appendTo(t),i},t.prototype.getCurrentLocale=function(t,e){var i=e.params||t.params||{};return i.i18n&&i.i18n instanceof s.TranslateService?i.i18n.currentLang:"en"},t.prototype.loadFlatpickrLocale=function(t){if("en"!==t){var e=require("flatpickr/dist/l10n/"+t+".js")["default"];return e&&e[t]?e[t]:"en"}return"en"},t.prototype.onTriggerEvent=function(t){var e=this.$selectOperatorElm.find("option:selected").text();this._currentValue?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(t,{columnDef:this.columnDef,searchTerm:this._currentValue,operator:e||"="})},t.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},t.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},t}();Ut.decorators=[{type:a.Injectable}],Ut.ctorParameters=function(){return[{type:s.TranslateService}]};var jt=function(){function t(t){this.translate=t}return t.prototype.init=function(t){var e=this;this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.operator=t.operator,this.searchTerm=t.searchTerm,this.grid&&"function"==typeof this.grid.getOptions&&(this.gridOptions=this.grid.getOptions()),this.$filterElm=this.createDomElement(),this.$filterInputElm.keyup(function(t){e.onTriggerEvent(t)}),this.$selectOperatorElm.change(function(t){e.onTriggerEvent(t)})},t.prototype.clear=function(t){void 0===t&&(t=!0),this.$filterElm&&this.$selectOperatorElm&&(this.$selectOperatorElm.val(0),this.$filterInputElm.val(""),t&&this.$filterElm.trigger("keyup"))},t.prototype.destroy=function(){this.$filterElm&&(this.$filterElm.off("keyup").remove(),this.$selectOperatorElm.off("change").remove())},t.prototype.setValues=function(t){t&&this.$filterElm.val(t)},t.prototype.buildInputHtmlString=function(){return'<input class="form-control" type="text" placeholder="'+(this.gridOptions?this.gridOptions.defaultFilterPlaceholder||"":"")+'" />'},t.prototype.buildSelectOperatorHtmlString=function(){var t="";return this.getOptionValues().forEach(function(e){t+='<option value="'+e.operator+'" title="'+e.description+'">'+e.operator+"</option>"}),'<select class="form-control">'+t+"</select>"},t.prototype.getOptionValues=function(){var t=[];switch(this.columnDef.type&&this.columnDef.type?this.columnDef.type:J.string){case J.string:t=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:this.translate.instant("EQUALS")},{operator:"a*",description:this.translate.instant("STARTS_WITH")},{operator:"*z",description:this.translate.instant("ENDS_WITH")}];break;default:t=[{operator:"",description:this.translate.instant("CONTAINS")},{operator:"=",description:""},{operator:"<",description:""},{operator:"<=",description:""},{operator:">",description:""},{operator:">=",description:""},{operator:"<>",description:""}]}return t},t.prototype.createDomElement=function(){var t=this.grid.getHeaderRowColumn(this.columnDef.id);$(t).empty(),this.$selectOperatorElm=$(this.buildSelectOperatorHtmlString()),this.$filterInputElm=$(this.buildInputHtmlString());var e=$('<div class="form-group search-filter"></div>'),i=$('<div class="input-group"></div>'),r=$('<div class="input-group-addon operator"></div>');r.append(this.$selectOperatorElm),i.append(r),i.append(this.$filterInputElm),e.append(i),e.attr("id","filter-"+this.columnDef.id);var n="boolean"==typeof this.searchTerm?""+this.searchTerm:this.searchTerm;return this.$filterInputElm.val(n),this.$filterInputElm.data("columnId",this.columnDef.id),this.operator&&this.$selectOperatorElm.val(this.operator),this.searchTerm&&e.addClass("filled"),e&&"function"==typeof e.appendTo&&e.appendTo(t),e},t.prototype.onTriggerEvent=function(t){var e=this.$selectOperatorElm.find("option:selected").text(),i=this.$filterInputElm.val();i?this.$filterElm.addClass("filled"):this.$filterElm.removeClass("filled"),this.callback(t,{columnDef:this.columnDef,searchTerm:i,operator:e||""})},t}();jt.decorators=[{type:a.Injectable}],jt.ctorParameters=function(){return[{type:s.TranslateService}]};var qt=function(){function t(){}return t.prototype.init=function(t){var e=this;this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerm=t.searchTerm,this.grid&&"function"==typeof this.grid.getOptions&&(this.gridOptions=this.grid.getOptions());var i=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(i),this.$filterElm.keyup(function(t){t&&t.target&&t.target.value?e.$filterElm.addClass("filled"):e.$filterElm.removeClass("filled"),e.callback(t,{columnDef:e.columnDef})})},t.prototype.clear=function(t){void 0===t&&(t=!0),this.$filterElm&&(this.$filterElm.val(""),t&&this.$filterElm.trigger("keyup"))},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("keyup").remove()},t.prototype.setValues=function(t){t&&this.$filterElm.val(t)},t.prototype.buildTemplateHtmlString=function(){return'<input type="text" class="form-control search-filter" placeholder="'+(this.gridOptions?this.gridOptions.defaultFilterPlaceholder||"":"")+'">'},t.prototype.createDomElement=function(t){var e=this.grid.getHeaderRowColumn(this.columnDef.id);$(e).empty();var i=$(t),r="boolean"==typeof this.searchTerm?""+this.searchTerm:this.searchTerm;return i.val(r),i.attr("id","filter-"+this.columnDef.id),i.data("columnId",this.columnDef.id),this.searchTerm&&i.addClass("filled"),i&&"function"==typeof i.appendTo&&i.appendTo(e),i},t}(),Wt=function(){function t(t,e){var i=this;this.collectionService=t,this.translate=e,this.isFilled=!1,this.enableTranslateLabel=!1,this.defaultOptions={container:"body",filter:!1,maxHeight:200,okButton:!0,addTitle:!0,countSelected:this.translate.instant("X_OF_Y_SELECTED"),allSelected:this.translate.instant("ALL_SELECTED"),selectAllText:this.translate.instant("SELECT_ALL"),selectAllDelimiter:["",""],onClose:function(){var t=i.$filterElm.multipleSelect("getSelects");Array.isArray(t)&&t.length>0?(i.isFilled=!0,i.$filterElm.addClass("filled").siblings("div .search-filter").addClass("filled")):(i.isFilled=!1,i.$filterElm.removeClass("filled").siblings("div .search-filter").removeClass("filled")),i.callback(undefined,{columnDef:i.columnDef,operator:"IN",searchTerms:t})}}}return t.prototype.init=function(t){if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerms=t.searchTerms||[],!(this.grid&&this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collection))throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" for the MultipleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: type: FilterType.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");this.enableTranslateLabel=this.columnDef.filter.enableTranslateLabel,this.labelName=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.label:"label",this.valueName=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.value:"value";var e=this.columnDef.filter.collection||[];if(this.gridOptions=this.grid.getOptions(),this.gridOptions.params&&this.columnDef.filter.collectionFilterBy){var i=this.columnDef.filter.collectionFilterBy;e=this.collectionService.filterCollection(e,i)}if(this.gridOptions.params&&this.columnDef.filter.collectionSortBy){var r=this.columnDef.filter.collectionSortBy;e=this.collectionService.sortCollection(e,r,this.enableTranslateLabel)}var n=this.buildTemplateHtmlString(e);this.createDomElement(n)},t.prototype.clear=function(t){void 0===t&&(t=!0),this.$filterElm&&this.$filterElm.multipleSelect&&(this.$filterElm.multipleSelect("setSelects",[]),t&&(this.$filterElm.removeClass("filled"),this.callback(undefined,{columnDef:this.columnDef,operator:"IN",searchTerms:[]})))},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off().remove()},t.prototype.setValues=function(t){t&&this.$filterElm.multipleSelect("setSelects",t)},t.prototype.buildTemplateHtmlString=function(t){var e=this,i="";return t.forEach(function(t){if(!t||t[e.labelName]===undefined&&t.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: type: FilterType.multipleSelect, collection: [ { value: '1', label: 'One' } ]')");var r=t.labelKey||t[e.labelName],n=e.findValueInSearchTerms(t[e.valueName])>=0?"selected":"",o=(t.labelKey||e.enableTranslateLabel)&&e.translate&&"function"==typeof e.translate.instant?e.translate.instant(r||" "):r;i+='<option value="'+t[e.valueName]+'" '+n+">"+o+"</option>",n&&(e.isFilled=!0)}),'<select class="ms-filter search-filter" multiple="multiple">'+i+"</select>"},t.prototype.createDomElement=function(t){var e=this.grid.getHeaderRowColumn(this.columnDef.id);if($(e).empty(),this.$filterElm=$(t),"function"!=typeof this.$filterElm.multipleSelect)throw new Error('multiple-select.js was not found, make sure to modify your "angular-cli.json" file and include "../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js" and it\'s css or SASS file');this.$filterElm.attr("id","filter-"+this.columnDef.id),this.$filterElm.data("columnId",this.columnDef.id),this.isFilled&&this.$filterElm.addClass("filled"),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(e);var i=Object.assign({},this.defaultOptions,this.columnDef.filter.filterOptions);this.$filterElm=this.$filterElm.multipleSelect(i)},t.prototype.findValueInSearchTerms=function(t){if(this.searchTerms&&Array.isArray(this.searchTerms))for(var e=0;e<this.searchTerms.length;e++)if(this.searchTerms[e]&&this.searchTerms[e]===t)return e;return-1},t}();Wt.decorators=[{type:a.Injectable}],Wt.ctorParameters=function(){return[{type:wt},{type:s.TranslateService}]};var Yt=function(){function t(t){this.translate=t}return t.prototype.init=function(t){var e=this;this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerm=t.searchTerm;var i=this.buildTemplateHtmlString();this.$filterElm=this.createDomElement(i),this.$filterElm.change(function(t){t&&t.target&&t.target.value?e.$filterElm.addClass("filled"):e.$filterElm.removeClass("filled"),e.callback(t,{columnDef:e.columnDef,operator:"EQ"})})},t.prototype.clear=function(t){void 0===t&&(t=!0),this.$filterElm&&(this.$filterElm.val(""),t&&this.$filterElm.trigger("change"))},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off("change").remove()},t.prototype.setValues=function(t){t&&this.$filterElm.val(t)},t.prototype.buildTemplateHtmlString=function(){var t=this;if(!this.columnDef||!this.columnDef.filter||!this.columnDef.filter.collection&&!this.columnDef.filter.selectOptions)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" for the Select Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: type: FilterType.select, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");!this.columnDef.filter.collection&&this.columnDef.filter.selectOptions&&console.warn('[Angular-SlickGrid] The Select Filter "selectOptions" property will de deprecated in future version. Please use the new "collection" property which is more generic and can be used with other Filters (not just Select).');var e=this.columnDef.filter.collection||this.columnDef.filter.selectOptions||[],i=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.label:"label",r=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.value:"value",n="";return e.forEach(function(e){if(!e||e[i]===undefined&&e.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: type: FilterType.select, collection: [ { value: '1', label: 'One' } ]')");var o=e.labelKey||e[i],a=(e.labelKey||t.columnDef.filter.enableTranslateLabel)&&t.translate&&"function"==typeof t.translate.instant?t.translate.instant(o||" "):o;n+='<option value="'+e[r]+'">'+a+"</option>"}),'<select class="form-control search-filter">'+n+"</select>"},t.prototype.createDomElement=function(t){var e=this.grid.getHeaderRowColumn(this.columnDef.id);$(e).empty();var i=$(t),r="boolean"==typeof this.searchTerm?""+this.searchTerm:this.searchTerm;return i.val(r),i.attr("id","filter-"+this.columnDef.id),i.data("columnId",this.columnDef.id),i&&"function"==typeof i.appendTo&&i.appendTo(e),i},t}(),Qt=function(){function t(t,e){var i=this;this.collectionService=t,this.translate=e,this.isFilled=!1,this.enableTranslateLabel=!1,this.defaultOptions={container:"body",filter:!1,maxHeight:200,single:!0,onClose:function(){var t=i.$filterElm.multipleSelect("getSelects"),e="";Array.isArray(t)&&t.length>0?(e=t[0],i.isFilled=!0,i.$filterElm.addClass("filled").siblings("div .search-filter").addClass("filled")):(i.isFilled=!1,i.$filterElm.removeClass("filled").siblings("div .search-filter").removeClass("filled")),i.callback(undefined,{columnDef:i.columnDef,operator:"EQ",searchTerm:e})}}}return t.prototype.init=function(t){if(this.grid=t.grid,this.callback=t.callback,this.columnDef=t.columnDef,this.searchTerm=t.searchTerm,!(this.grid&&this.columnDef&&this.columnDef.filter&&this.columnDef.filter.collection))throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" for the MultipleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: type: FilterType.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }");this.enableTranslateLabel=this.columnDef.filter.enableTranslateLabel,this.labelName=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.label:"label",this.valueName=this.columnDef.filter.customStructure?this.columnDef.filter.customStructure.value:"value";var e=this.columnDef.filter.collection||[];if(this.gridOptions=this.grid.getOptions(),this.gridOptions.params&&this.columnDef.filter.collectionFilterBy){var i=this.columnDef.filter.collectionFilterBy;e=this.collectionService.filterCollection(e,i)}if(this.gridOptions.params&&this.columnDef.filter.collectionSortBy){var r=this.columnDef.filter.collectionSortBy;e=this.collectionService.sortCollection(e,r,this.enableTranslateLabel)}var n=this.buildTemplateHtmlString(e||[]);this.createDomElement(n)},t.prototype.clear=function(t){void 0===t&&(t=!0),this.$filterElm&&this.$filterElm.multipleSelect&&(this.$filterElm.multipleSelect("setSelects",[]),t&&this.callback(undefined,{columnDef:this.columnDef,operator:"IN",searchTerm:undefined}))},t.prototype.destroy=function(){this.$filterElm&&this.$filterElm.off().remove()},t.prototype.setValues=function(t){t&&(t=Array.isArray(t)?t:[t],this.$filterElm.multipleSelect("setSelects",t))},t.prototype.buildTemplateHtmlString=function(t){var e=this,i="";return t.forEach(function(t){if(!t||t[e.labelName]===undefined&&t.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: type: FilterType.singleSelect, collection: [ { value: '1', label: 'One' } ]')");var r=t.labelKey||t[e.labelName],n=t[e.valueName]===e.searchTerm?"selected":"",o=(t.labelKey||e.columnDef.filter.enableTranslateLabel)&&e.translate&&"function"==typeof e.translate.instant?e.translate.instant(r||" "):r;i+='<option value="'+t[e.valueName]+'" '+n+">"+o+"</option>",n&&(e.isFilled=!0)}),'<select class="ms-filter search-filter">'+i+"</select>"},t.prototype.createDomElement=function(t){var e=this.grid.getHeaderRowColumn(this.columnDef.id);if($(e).empty(),this.$filterElm=$(t),"function"!=typeof this.$filterElm.multipleSelect)throw new Error('multiple-select.js was not found, make sure to modify your "angular-cli.json" file and include "../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js" and it\'s css or SASS file');this.$filterElm.attr("id","filter-"+this.columnDef.id),this.$filterElm.data("columnId",this.columnDef.id),this.$filterElm&&"function"==typeof this.$filterElm.appendTo&&this.$filterElm.appendTo(e);var i=Object.assign({},this.defaultOptions,this.columnDef.filter.filterOptions);this.$filterElm=this.$filterElm.multipleSelect(i)},t}();Qt.decorators=[{type:a.Injectable}],Qt.ctorParameters=function(){return[{type:wt},{type:s.TranslateService}]};var Kt={input:qt,multipleSelect:Wt,singleSelect:Qt,select:Yt,compoundDate:Ut,compoundInput:jt},Xt=function(){function t(t,e){this.collectionService=t,this.translate=e,this._eventHandler=new Slick.EventHandler,this._filters=[],this._columnFilters={},this._isFirstQuery=!0,this.onFilterChanged=new l.Subject}return t.prototype.init=function(t,e,i){this._grid=t,this._gridOptions=e},t.prototype.attachBackendOnFilter=function(t,e){var i=this;this._filters=[],this._slickSubscriber=new Slick.Event,this._slickSubscriber.subscribe(this.attachBackendOnFilterSubscribe.bind(this)),this._eventHandler.subscribe(t.onHeaderRowCellRendered,function(t,e){i.addFilterTemplateToHeaderRow(e)})},t.prototype.attachBackendOnFilterSubscribe=function(t,e){return D(this,void 0,void 0,function(){var i,r,n,o,a;return x(this,function(s){switch(s.label){case 0:if(!e||!e.grid)throw new Error('Something went wrong when trying to attach the "attachBackendOnFilterSubscribe(event, args)" function, it seems that "args" is not populated correctly');if(i=e.grid.getOptions()||{},!(r=i.backendServiceApi||i.onBackendEventApi)||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');return r.preProcess&&r.preProcess(),[4,r.service.onFilterChanged(t,e)];case 1:return n=s.sent(),this.emitFilterChanged("remote"),o=r.process(n),[4,B(o)];case 2:return(a=s.sent())&&r.internalPostProcess&&r.internalPostProcess(a),r.postProcess!==undefined&&r.postProcess(a),[2]}})})},t.prototype.attachLocalOnFilter=function(t,e,i){var r=this;this._filters=[],this._dataView=i,this._slickSubscriber=new Slick.Event,i.setFilterArgs({columnFilters:this._columnFilters,grid:this._grid}),i.setFilter(this.customLocalFilter.bind(this,i)),this._slickSubscriber.subscribe(function(t,e){null!=e.columnId&&i.refresh(),r.emitFilterChanged("local")}),this._eventHandler.subscribe(t.onHeaderRowCellRendered,function(t,e){r.addFilterTemplateToHeaderRow(e)})},t.prototype.clearFilters=function(){this._filters.forEach(function(t,e){t&&t.clear&&t.clear(!0)});for(var t in this._columnFilters)t&&this._columnFilters[t]&&delete this._columnFilters[t];this._dataView&&(this._dataView.refresh(),this._grid.invalidate(),this._grid.render())},t.prototype.customLocalFilter=function(t,e,i){try{for(var r=I(Object.keys(i.columnFilters)),n=r.next();!n.done;n=r.next()){var o=n.value,a=i.columnFilters[o],s=i.grid.getColumnIndex(o),l=i.grid.getColumns()[s];if(!l)return!1;var u=l.type||J.string,c=l.filterSearchType?l.filterSearchType:null,d=e[l.queryField||l.queryFieldFilter||l.field],p=a&&a.searchTerms?a.searchTerms:null,h=!a||a.searchTerm===undefined&&null===a.searchTerm?undefined:a.searchTerm;void 0===h&&(h="");var f=(h=""+h).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),m=a.operator||(f?f[1]:""),g=f?f[2]:"",v=f?f[3]:"*z"===m?"*":"";p&&p.length>0?h=p.join(","):"string"==typeof h&&(h=h.replace("'","''"),"*"!==m&&"a*"!==m&&"*z"!==m&&"*"!==v||(m="*"===m||"*z"===m?ot.endsWith:ot.startsWith));var y=l.filter&&l.filter.type?l.filter.type:et.input;if(!m&&y!==et.custom)switch(y){case et.select:case et.multipleSelect:m="IN";break;case et.singleSelect:m="EQ";break;default:m=m}if(""===g&&!p)return!0;if(p&&Array.isArray(p))for(var b=0,S=p.length;b<S;b++)p[b]=(p[b]===undefined||null===p[b]?"":p[b])+"";if(l&&l.params&&l.params.useFormatterOuputToFilter){var C=t&&"function"==typeof t.getIdxById?t.getIdxById(e.id):0;d=l.formatter(C,s,d,l,e,this._grid)}"number"==typeof d&&(d=d.toString());if(!zt.executeMappedCondition({fieldType:u,searchTerms:p,searchTerm:g,cellValue:d,operator:m,cellValueLastChar:v,filterSearchType:c}))return!1}}catch(O){_={error:O}}finally{try{n&&!n.done&&(w=r["return"])&&w.call(r)}finally{if(_)throw _.error}}return!0;var _,w},t.prototype.dispose=function(){this.disposeColumnFilters(),this._eventHandler.unsubscribeAll(),this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe()},t.prototype.disposeColumnFilters=function(){for(var t in this._columnFilters)t&&this._columnFilters[t]&&delete this._columnFilters[t];this._filters.forEach(function(t,e){t&&t.destroy&&t.destroy(!0)})},t.prototype.getColumnFilters=function(){return this._columnFilters},t.prototype.getCurrentLocalFilters=function(){var t=[];if(this._columnFilters)try{for(var e=I(Object.keys(this._columnFilters)),i=e.next();!i.done;i=e.next()){var r=i.value,n=this._columnFilters[r],o=(n.columnDef,{columnId:r||""});n&&n.searchTerms?o.searchTerms=n.searchTerms:o.searchTerm=!n||n.searchTerm===undefined&&null===n.searchTerm?undefined:n.searchTerm,n.operator&&(o.operator=n.operator),t.push(o)}}catch(l){a={error:l}}finally{try{i&&!i.done&&(s=e["return"])&&s.call(e)}finally{if(a)throw a.error}}return t;var a,s},t.prototype.callbackSearchEvent=function(t,e){if(e){var i=e.searchTerm?e.searchTerm:t&&t.target?t.target.value:undefined,r=e.searchTerms&&Array.isArray(e.searchTerms)?e.searchTerms:undefined,n=e.columnDef||null,o=n?n.id||"":"",a=e.operator||undefined;if(i||r&&(!Array.isArray(r)||0!==r.length)){var s=""+o,l={columnId:s,columnDef:n,searchTerm:i,searchTerms:r};a&&(l.operator=a),this._columnFilters[s]=l}else delete this._columnFilters[o];this.triggerEvent(this._slickSubscriber,{columnId:o,columnDef:e.columnDef||null,columnFilters:this._columnFilters,operator:a,searchTerm:i,searchTerms:r,serviceOptions:this._onFilterChangedOptions,grid:this._grid},t)}},t.prototype.addFilterTemplateToHeaderRow=function(t){var e=t.column,i=e.id||"";if(e&&"selector"!==i&&e.filterable){var r=void 0,n=void 0,o=void 0;this._columnFilters[e.id]?(n=this._columnFilters[e.id].searchTerm||undefined,r=this._columnFilters[e.id].searchTerms||undefined,o=this._columnFilters[e.id].operator||undefined):e.filter&&(r=e.filter.searchTerms||undefined,n=e.filter.searchTerm||undefined,o=e.filter.operator||undefined,this.updateColumnFilters(n,r,e));var a={grid:this._grid,operator:o,searchTerm:n,searchTerms:r,columnDef:e,callback:this.callbackSearchEvent.bind(this)},s=e.filter&&e.filter.type?e.filter.type:et.input;s||(s=this._gridOptions.defaultFilterType);var l;switch(s){case et.custom:e&&e.filter&&e.filter.customFilter&&(l=e.filter.customFilter);break;case et.select:l=new Kt.select(this.translate);break;case et.multipleSelect:l=new Kt.multipleSelect(this.collectionService,this.translate);break;case et.singleSelect:l=new Kt.singleSelect(this.collectionService,this.translate);break;case et.compoundDate:l=new Kt.compoundDate(this.translate);break;case et.compoundInput:l=new Kt.compoundInput(this.translate);break;case et.input:default:l=new Kt.input}if(l){l.init(a);var u=this._filters.findIndex(function(t){return l.columnDef.name===t.columnDef.name});-1===u?this._filters.push(l):this._filters[u]=l,(n||r)&&l.setValues&&l.setValues(n||r)}}},t.prototype.emitFilterChanged=function(t){if("remote"===t&&this._gridOptions&&this._gridOptions.backendServiceApi){var e=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentFilters&&(e=i.getCurrentFilters()),this.onFilterChanged.next(e)}else"local"===t&&this.onFilterChanged.next(this.getCurrentLocalFilters())},t.prototype.populateColumnFilterSearchTerms=function(t,e){if(t.presets&&t.presets.filters){var i=t.presets.filters;e.forEach(function(t){var e=i.find(function(e){return e.columnId===t.id});e&&e.searchTerm&&(t.filter=t.filter||{},t.filter.operator=e.operator,t.filter.searchTerm=e.searchTerm),e&&e.searchTerms&&(t.filter=t.filter||{},t.filter.operator=e.operator||t.filter.operator||ot["in"],t.filter.searchTerms=e.searchTerms)})}return e},t.prototype.updateColumnFilters=function(t,e,i){t!==undefined&&null!==t&&""!==t&&(this._columnFilters[i.id]={columnId:i.id,columnDef:i,searchTerm:t,operator:i&&i.filter&&i.filter.operator?i.filter.operator:null,type:i&&i.filter&&i.filter.type?i.filter.type:et.input}),e&&(this._columnFilters[i.id]={columnId:i.id,columnDef:i,searchTerms:e,operator:i&&i.filter&&i.filter.operator?i.filter.operator:null,type:i&&i.filter&&i.filter.type?i.filter.type:et.input})},t.prototype.triggerEvent=function(t,e,i){t=t||new Slick.Event;var r=i;i&&"function"!=typeof i.isPropagationStopped&&(r=$.extend({},new Slick.EventData,i)),t.notify(e,r,e.grid)},t}();Xt.decorators=[{type:a.Injectable}],Xt.ctorParameters=function(){return[{type:wt},{type:s.TranslateService}]};var Zt=function(){function t(t){this.translate=t,this._lineCarriageReturn="\n",this._hasGroupedItems=!1,this.onGridBeforeExportToFile=new l.Subject,this.onGridAfterExportToFile=new l.Subject}return t.prototype.init=function(t,e,i){this._grid=t,this._gridOptions=e,this._dataView=i},t.prototype.exportToFile=function(t){var e=this;this.onGridBeforeExportToFile.next(!0),this._exportOptions=$.extend(!0,{},this._gridOptions.exportOptions,t);var i=this.getDataOutput();setTimeout(function(){var t={filename:e._exportOptions.filename+"."+e._exportOptions.format,csvContent:i,format:e._exportOptions.format,useUtf8WithBom:e._exportOptions.useUtf8WithBom};e.startDownloadFile(t),e.onGridAfterExportToFile.next({options:t})},0)},t.prototype.getDataOutput=function(){var t=this,e=this._grid.getColumns()||[],i=this._exportOptions.delimiter||"",r=this._exportOptions.format||"",n=this._exportOptions.groupingColumnHeaderTitle||this.translate.instant("GROUP_BY");this._exportQuoteWrapper=r===tt.csv?'"':"";var o="",a=this._dataView.getGrouping();if(a&&Array.isArray(a)&&a.length>0?(this._hasGroupedItems=!0,o+=""+n+i):this._hasGroupedItems=!1,this._columnHeaders=this.getColumnHeaders(e)||[],this._columnHeaders&&Array.isArray(this._columnHeaders)&&this._columnHeaders.length>0){o+=this._columnHeaders.map(function(e){return t._exportQuoteWrapper+e.title+t._exportQuoteWrapper}).join(i)+this._lineCarriageReturn}return o+=this.getAllGridRowData(e,this._lineCarriageReturn)},t.prototype.getAllGridRowData=function(t,e){for(var i="",r=this._dataView.getLength(),n=0;n<r;n++){var o=this._dataView.getItem(n);null!=o&&(null!=o.id?i+=this.readRegularRowData(t,n,o):this._hasGroupedItems&&o.__groupTotals===undefined?i+=this.readGroupedTitleRow(o)+this._exportOptions.delimiter:o.__groupTotals&&(i+=this.readGroupedTotalRow(t,o)+this._exportOptions.delimiter),i+=e)}return i},t.prototype.getColumnHeaders=function(t){var e=this;if(!t||!Array.isArray(t)||0===t.length)return null;var i=[];return t.forEach(function(t){var r=t.headerKey?e.translate.instant(t.headerKey):t.name,n=t.excludeFromExport||!1;(t.width===undefined||t.width>0)&&!n&&i.push({key:t.field||t.id,title:r})}),i},t.prototype.readRegularRowData=function(t,e,i){for(var r=0,n="",o=this._exportOptions.delimiter,a=this._exportOptions.format,s=this._exportQuoteWrapper||"",l=0,u=t.length;l<u;l++){var c=t[l],d=c.field||c.id||"";if(!c.excludeFromExport){this._hasGroupedItems&&0===r&&(n+='""'+o);var p=c.exportWithFormatter!==undefined?c.exportWithFormatter:this._exportOptions.exportWithFormatter||this._gridOptions.exportWithFormatter,h=c.exportCustomFormatter!==undefined?c.exportCustomFormatter:undefined,f="";f=h?h(e,l,i[d],c,i,this._grid):p&&c.formatter?c.formatter(e,l,i[d],c,i,this._grid):null===i[d]||i[d]===undefined?"":i[d],(c.sanitizeDataExport||this._exportOptions.sanitizeDataExport)&&(f=this.sanitizeHtmlToText(f)),a===tt.csv&&(f=f.toString().replace(/"/gi,'""'));n+=(c&&c.exportCsvForceToKeepAsString?"=":"")+s+f+s+o,r++}}return n},t.prototype.readGroupedTitleRow=function(t){var e=this.sanitizeHtmlToText(t.title),i=this._exportQuoteWrapper||"",r=this._exportOptions.delimiter,n=this._exportOptions.format;return e=V(5*t.level)+e,n===tt.csv&&(e=e.toString().replace(/"/gi,'""')),i+" "+e+i+r},t.prototype.readGroupedTotalRow=function(t,e){var i=this,r="",n=this._exportOptions.delimiter,o=this._exportOptions.format,a=this._exportOptions.groupingAggregatorRowText||"",s=this._exportQuoteWrapper||"",l=""+s+a+s+n;return t.forEach(function(t){var a="";t.groupTotalsFormatter&&(a=t.groupTotalsFormatter(e,t)),(t.sanitizeDataExport||i._exportOptions.sanitizeDataExport)&&(a=i.sanitizeHtmlToText(a)),o===tt.csv&&(a=a.toString().replace(/"/gi,'""'),r=a.match(/^\s*\d+E\d+\s*$/i)?"=":""),l+=s+a+s+n}),l},t.prototype.sanitizeHtmlToText=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText},t.prototype.startDownloadFile=function(t){if("Microsoft Internet Explorer"===navigator.appName)throw new Error("Microsoft Internet Explorer 6 to 10 do not support javascript export to CSV. Please upgrade your browser.");var e,i=t.format===tt.csv?"text/csv":"text/plain",r=N(t.csvContent);e=t.format===tt.csv?new u.TextEncoder("utf-8").encode(r):r;var n=new Blob([t.useUtf8WithBom?"\ufeff":"",e],{type:i+";charset=utf-8;"});if("function"==typeof navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,t.filename);else{var o=document.createElement("a"),a=URL.createObjectURL(n);o.textContent="download",o.href=a,o.setAttribute("download",t.filename),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},t}();Zt.decorators=[{type:a.Injectable}],Zt.ctorParameters=function(){return[{type:s.TranslateService}]};var Jt=function(){function t(){}return t.prototype.init=function(t,e,i,r){this.grid=t,this.dataView=e,this.gridOptions=i,this.columnDefinitions=r},t}(),te=function(){function t(){this._currentLocalSorters=[],this._eventHandler=new Slick.EventHandler,this._isBackendGrid=!1,this.onSortChanged=new l.Subject}return t.prototype.attachBackendOnSort=function(t,e){this._isBackendGrid=!0,this._grid=t,this._dataView=e,t&&(this._gridOptions=t.getOptions()),this._slickSubscriber=t.onSort,this._slickSubscriber.subscribe(this.onBackendSortChanged.bind(this))},t.prototype.onBackendSortChanged=function(t,e){return D(this,void 0,void 0,function(){var i,r,n,o,a;return x(this,function(s){switch(s.label){case 0:if(!e||!e.grid)throw new Error('Something went wrong when trying to attach the "onBackendSortChanged(event, args)" function, it seems that "args" is not populated correctly');if(i=e.grid.getOptions()||{},!(r=i.backendServiceApi||i.onBackendEventApi)||!r.process||!r.service)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');return r.preProcess&&r.preProcess(),n=r.service.onSortChanged(t,e),this.emitSortChanged("remote"),o=r.process(n),[4,B(o)];case 1:return(a=s.sent())&&r.internalPostProcess&&r.internalPostProcess(a),r.postProcess&&r.postProcess(a),[2]}})})},t.prototype.attachLocalOnSort=function(t,e){var i=this;this._isBackendGrid=!1,this._grid=t,this._dataView=e;var r=[];t&&(this._gridOptions=t.getOptions(),r=t.getColumns()),this._slickSubscriber=t.onSort,this._slickSubscriber.subscribe(function(r,n){var o=n.multiColumnSort?n.sortCols:new Array({sortAsc:n.sortAsc,sortCol:n.sortCol});i._currentLocalSorters=[],Array.isArray(o)&&o.forEach(function(t){t.sortCol&&i._currentLocalSorters.push({columnId:t.sortCol.id,direction:t.sortAsc?at.ASC:at.DESC})}),i.onLocalSortChanged(t,i._gridOptions,e,o),i.emitSortChanged("local")}),e&&e.onRowCountChanged&&this._eventHandler.subscribe(e.onRowCountChanged,function(n,o){o.current>0&&i.loadLocalPresets(t,i._gridOptions,e,r)})},t.prototype.clearSorting=function(){if(this._grid&&this._gridOptions&&this._dataView)if(this._grid.setSortColumns([]),this._isBackendGrid)this.onBackendSortChanged(undefined,{grid:this._grid,sortCols:[]});else{var t=this._grid.getColumns();t&&Array.isArray(t)&&this.onLocalSortChanged(this._grid,this._gridOptions,this._dataView,new Array({sortAsc:!0,sortCol:t[0]}))}},t.prototype.getCurrentLocalSorters=function(){return this._currentLocalSorters},t.prototype.getPreviousColumnSorts=function(t){var e=this,i=this._grid.getSortColumns(),r=this._grid.getColumns();return i.reduce(function(i,n){return t&&n.columnId===t||i.push({sortCol:r[e._grid.getColumnIndex(n.columnId)],sortAsc:n.sortAsc}),i},[])},t.prototype.loadLocalPresets=function(t,e,i,r){var n=this,o=[];if(this._currentLocalSorters=[],e&&e.presets&&e.presets.sorters){var a=e.presets.sorters;r.forEach(function(t){var e=a.find(function(e){return e.columnId===t.id});e&&(o.push({columnId:t.id,sortAsc:e.direction.toUpperCase()===at.ASC,sortCol:t}),n._currentLocalSorters.push({columnId:t.id+"",direction:e.direction.toUpperCase()}))}),o.length>0&&(this.onLocalSortChanged(t,e,i,o),t.setSortColumns(o))}},t.prototype.onLocalSortChanged=function(t,e,i,r){i.sort(function(t,e){for(var i=0,n=r.length;i<n;i++){var o=r[i];if(o&&o.sortCol){var a=o.sortAsc?st.asc:st.desc,s=o.sortCol.queryField||o.sortCol.queryFieldFilter||o.sortCol.field,l=o.sortCol.type||J.string,u=Q(t[s],e[s],l,a);if(u!==st.neutral)return u}}return 0}),t.invalidate(),t.render()},t.prototype.dispose=function(){this._slickSubscriber&&"function"==typeof this._slickSubscriber.unsubscribe&&this._slickSubscriber.unsubscribe(),this._eventHandler.unsubscribeAll()},t.prototype.emitSortChanged=function(t){if("remote"===t&&this._gridOptions&&this._gridOptions.backendServiceApi){var e=[],i=this._gridOptions.backendServiceApi.service;i&&i.getCurrentSorters&&(e=i.getCurrentSorters()),this.onSortChanged.next(e)}else"local"===t&&this.onSortChanged.next(this.getCurrentLocalSorters())},t}(),ee=function(){function t(t,e,i,r,n){this.exportService=t,this.filterService=e,this.sharedService=i,this.sortService=r,this.translate=n}return t.prototype.autoResizeColumns=function(){this._grid.autosizeColumns()},t.prototype.attachDifferentControlOrPlugins=function(){var t=this;if(this._grid=this.sharedService.grid,this._gridOptions=this.sharedService.gridOptions,this._dataView=this.sharedService.dataView,this._columnDefinitions=this.sharedService.columnDefinitions,this.visibleColumns=this.sharedService.columnDefinitions,this._gridOptions.enableColumnPicker&&(this.columnPickerControl=this.createColumnPicker(this._grid,this._columnDefinitions,this._gridOptions)),this._gridOptions.enableGridMenu&&(this.gridMenuControl=this.createGridMenu(this._grid,this._columnDefinitions,this._gridOptions)),this._gridOptions.enableAutoTooltip&&(this.autoTooltipPlugin=new Slick.AutoTooltips(this._gridOptions.autoTooltipOptions||{}),this._grid.registerPlugin(this.autoTooltipPlugin)),this._gridOptions.enableGrouping){var e=this.sharedService.groupItemMetadataProvider||{};this._grid.registerPlugin(e)}this._gridOptions.enableCheckboxSelector&&(this._grid.registerPlugin(this.checkboxSelectorPlugin),this.rowSelectionPlugin||(this.rowSelectionPlugin=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{}),this._grid.setSelectionModel(this.rowSelectionPlugin))),this._gridOptions.enableRowSelection&&(this.rowSelectionPlugin=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{}),this._grid.setSelectionModel(this.rowSelectionPlugin)),this._gridOptions.enableHeaderButton&&(this.headerButtonsPlugin=new Slick.Plugins.HeaderButtons(this._gridOptions.headerButton||{}),this._grid.registerPlugin(this.headerButtonsPlugin),this.headerButtonsPlugin.onCommand.subscribe(function(e,i){t._gridOptions.headerButton&&"function"==typeof t._gridOptions.headerButton.onCommand&&t._gridOptions.headerButton.onCommand(e,i)})),this._gridOptions.enableHeaderMenu&&(this.headerMenuPlugin=this.createHeaderMenu(this._grid,this._dataView,this._columnDefinitions,this._gridOptions)),this._gridOptions.enableExcelCopyBuffer&&(this.createUndoRedoBuffer(),this.hookUndoShortcutKey(),this.createCellExternalCopyManagerPlugin(this._grid,this._gridOptions)),this._gridOptions.registerPlugins!==undefined&&(Array.isArray(this._gridOptions.registerPlugins)?this._gridOptions.registerPlugins.forEach(function(e){t._grid.registerPlugin(e)}):this._grid.registerPlugin(this._gridOptions.registerPlugins))},t.prototype.createPluginBeforeGridCreation=function(t,e){if(e.enableCheckboxSelector){this.checkboxSelectorPlugin=new Slick.CheckboxSelectColumn(e.checkboxSelector||{});var i=this.checkboxSelectorPlugin.getColumnDefinition();i.excludeFromExport=!0,i.excludeFromQuery=!0,t.unshift(i)}},t.prototype.createCellExternalCopyManagerPlugin=function(t,e){var i=this,r=0,n={clipboardCommandHandler:function(t){i.undoRedoBuffer.queueAndExecuteCommand.call(i.undoRedoBuffer,t)},dataItemColumnValueExtractor:function(t,r){if(!e.editable||!r.editor){var n=r.exportWithFormatter!==undefined?r.exportWithFormatter:e.exportOptions.exportWithFormatter;if(r.formatter&&n)return r.formatter(0,0,t[r.field],r,t,i._grid)}return null},readOnlyMode:!1,includeHeaderWhenCopying:!1,newRowCreator:function(e){for(var i=0;i<e;i++){var n={id:"newRow_"+r++};t.getData().addItem(n)}}};t.setSelectionModel(new Slick.CellSelectionModel),t.registerPlugin(new Slick.CellExternalCopyManager(n))},t.prototype.createColumnPicker=function(t,e,i){var r=i.enableTranslate?this.translate.instant("FORCE_FIT_COLUMNS"):"Force fit columns",n=i.enableTranslate?this.translate.instant("SYNCHRONOUS_RESIZE"):"Synchronous resize";i.columnPicker=i.columnPicker||{},i.columnPicker.forceFitTitle=i.columnPicker.forceFitTitle||r,i.columnPicker.syncResizeTitle=i.columnPicker.syncResizeTitle||n,this.columnPickerControl=new Slick.Controls.ColumnPicker(e,t,i),t&&i.enableColumnPicker&&this.columnPickerControl.onColumnsChanged.subscribe(function(t,e){i.columnPicker&&"function"==typeof i.columnPicker.onColumnsChanged&&i.columnPicker.onColumnsChanged(t,e)})},t.prototype.createGridMenu=function(t,e,i){i.gridMenu=Object.assign({},this.getDefaultGridMenuOptions(),i.gridMenu),this.addGridMenuCustomCommands(t,i);var r=new Slick.Controls.GridMenu(e,t,i);return t&&i.gridMenu&&(r.onBeforeMenuShow.subscribe(function(t,e){i.gridMenu&&"function"==typeof i.gridMenu.onBeforeMenuShow&&i.gridMenu.onBeforeMenuShow(t,e)}),r.onColumnsChanged.subscribe(function(t,e){i.gridMenu&&"function"==typeof i.gridMenu.onColumnsChanged&&i.gridMenu.onColumnsChanged(t,e)}),r.onCommand.subscribe(function(t,e){i.gridMenu&&"function"==typeof i.gridMenu.onCommand&&i.gridMenu.onCommand(t,e)}),r.onMenuClose.subscribe(function(e,r){if(i.gridMenu&&"function"==typeof i.gridMenu.onMenuClose&&i.gridMenu.onMenuClose(e,r),t&&"function"==typeof t.autosizeColumns){var n=t.getUID();n&&$("."+n).length>0&&t.autosizeColumns()}})),r},t.prototype.createHeaderMenu=function(t,e,i,r){r.headerMenu=Object.assign({},this.getDefaultHeaderMenuOptions(),r.headerMenu),r.enableHeaderMenu&&(r.headerMenu=this.addHeaderMenuCustomCommands(t,e,r,i));var n=new Slick.Plugins.HeaderMenu(r.headerMenu);return t.registerPlugin(n),n.onCommand.subscribe(function(t,e){r.headerMenu&&"function"==typeof r.headerMenu.onCommand&&r.headerMenu.onCommand(t,e)}),n.onCommand.subscribe(function(t,e){r.headerMenu&&"function"==typeof r.headerMenu.onBeforeMenuShow&&r.headerMenu.onBeforeMenuShow(t,e)}),n},t.prototype.createUndoRedoBuffer=function(){var t=[],e=0;this.undoRedoBuffer={queueAndExecuteCommand:function(i){t[e]=i,e++,i.execute()},undo:function(){if(0!==e){var i=t[--e];i&&Slick.GlobalEditorLock.cancelCurrentEdit()&&i.undo()}},redo:function(){if(!(e>=t.length)){var i=t[e];e++,i&&Slick.GlobalEditorLock.cancelCurrentEdit()&&i.execute()}}}},t.prototype.hideColumn=function(t){if(this._grid&&this.visibleColumns){var e=this._grid.getColumnIndex(t.id);this.visibleColumns=this.removeColumnByIndex(this.visibleColumns,e),this._grid.setColumns(this.visibleColumns)}},t.prototype.hookUndoShortcutKey=function(){var t=this;$(document).keydown(function(e){90===e.which&&(e.ctrlKey||e.metaKey)&&(e.shiftKey?t.undoRedoBuffer.redo():t.undoRedoBuffer.undo())})},t.prototype.dispose=function(){this._grid=null,this._dataView=null,this.visibleColumns=[],this.columnPickerControl&&(this.columnPickerControl.destroy(),this.columnPickerControl=null),this.gridMenuControl&&(this.gridMenuControl.destroy(),this.gridMenuControl=null),this.rowSelectionPlugin&&(this.rowSelectionPlugin.destroy(),this.rowSelectionPlugin=null),this.checkboxSelectorPlugin&&(this.checkboxSelectorPlugin.destroy(),this.checkboxSelectorPlugin=null),this.autoTooltipPlugin&&(this.autoTooltipPlugin.destroy(),this.autoTooltipPlugin=null),this.headerButtonsPlugin&&(this.headerButtonsPlugin.destroy(),this.headerButtonsPlugin=null),this.headerMenuPlugin&&(this.headerMenuPlugin.destroy(),this.headerMenuPlugin=null)},t.prototype.addGridMenuCustomCommands=function(t,e){var i=this,r=e.backendServiceApi||e.onBackendEventApi||null;if(e.enableFiltering&&(e&&e.gridMenu&&e.gridMenu.showClearAllFiltersCommand&&e.gridMenu.customItems&&0===e.gridMenu.customItems.filter(function(t){return"clear-filter"===t.command}).length&&e.gridMenu.customItems.push({iconCssClass:e.gridMenu.iconClearAllFiltersCommand||"fa fa-filter text-danger",title:e.enableTranslate?this.translate.instant("CLEAR_ALL_FILTERS"):"Clear All Filters",disabled:!1,command:"clear-filter",positionOrder:50}),e&&e.gridMenu&&e.gridMenu.showToggleFilterCommand&&e.gridMenu.customItems&&0===e.gridMenu.customItems.filter(function(t){return"toggle-filter"===t.command}).length&&e.gridMenu.customItems.push({iconCssClass:e.gridMenu.iconToggleFilterCommand||"fa fa-random",title:e.enableTranslate?this.translate.instant("TOGGLE_FILTER_ROW"):"Toggle Filter Row",disabled:!1,command:"toggle-filter",positionOrder:52}),e&&e.gridMenu&&e.gridMenu.showRefreshDatasetCommand&&r&&e.gridMenu.customItems&&0===e.gridMenu.customItems.filter(function(t){return"refresh-dataset"===t.command}).length&&e.gridMenu.customItems.push({iconCssClass:e.gridMenu.iconRefreshDatasetCommand||"fa fa-refresh",title:e.enableTranslate?this.translate.instant("REFRESH_DATASET"):"Refresh Dataset",disabled:!1,command:"refresh-dataset",positionOrder:54})),e.enableSorting&&e&&e.gridMenu&&e.gridMenu.showClearAllSortingCommand&&e.gridMenu.customItems&&0===e.gridMenu.customItems.filter(function(t){return"clear-sorting"===t.command}).length&&e.gridMenu.customItems.push({iconCssClass:e.gridMenu.iconClearAllSortingCommand||"fa fa-unsorted text-danger",title:e.enableTranslate?this.translate.instant("CLEAR_ALL_SORTING"):"Clear All Sorting",disabled:!1,command:"clear-sorting",positionOrder:51}),e&&e.enableExport&&e.gridMenu&&e.gridMenu.showExportCsvCommand&&e.gridMenu.customItems&&0===e.gridMenu.customItems.filter(function(t){return"export-csv"===t.command}).length&&e.gridMenu.customItems.push({iconCssClass:e.gridMenu.iconExportCsvCommand||"fa fa-download",title:e.enableTranslate?this.translate.instant("EXPORT_TO_CSV"):"Export in CSV format",disabled:!1,command:"export-csv",positionOrder:53}),e&&e.enableExport&&e.gridMenu&&e.gridMenu.showExportTextDelimitedCommand&&e.gridMenu.customItems&&0===e.gridMenu.customItems.filter(function(t){return"export-text-delimited"===t.command}).length&&e.gridMenu.customItems.push({iconCssClass:e.gridMenu.iconExportTextDelimitedCommand||"fa fa-download",title:e.enableTranslate?this.translate.instant("EXPORT_TO_TAB_DELIMITED"):"Export in Text format (Tab delimited)",disabled:!1,command:"export-text-delimited",positionOrder:54}),e.gridMenu&&e.gridMenu.customItems.length>0&&(e.gridMenu.onCommand=function(e,r){if(r&&r.command)switch(r.command){case"clear-filter":i.filterService.clearFilters(),i._dataView.refresh();break;case"clear-sorting":i.sortService.clearSorting(),i._dataView.refresh();break;case"export-csv":i.exportService.exportToFile({delimiter:Z.comma,filename:"export",format:tt.csv,useUtf8WithBom:!0});break;case"export-text-delimited":i.exportService.exportToFile({delimiter:Z.tab,filename:"export",format:tt.txt,useUtf8WithBom:!0});break;case"toggle-filter":t.setHeaderRowVisibility(!t.getOptions().showHeaderRow);break;case"toggle-toppanel":t.setTopPanelVisibility(!t.getOptions().showTopPanel);break;case"refresh-dataset":i.refreshBackendDataset();break;default:alert("Command: "+r.command)}}),e&&e.gridMenu&&e.gridMenu.customItems&&e.gridMenu.customItems.length>0){var n=e.enableTranslate?this.translate.instant("COMMANDS"):"Commands";e.gridMenu.customTitle=e.gridMenu.customTitle||n,e.gridMenu.customItems.sort(function(t,e){return t&&e&&t.hasOwnProperty("positionOrder")&&e.hasOwnProperty("positionOrder")?t.positionOrder-e.positionOrder:0})}},t.prototype.addHeaderMenuCustomCommands=function(t,e,i,r){var n=this,o=i.headerMenu;return r&&Array.isArray(r)&&i.enableHeaderMenu&&(r.forEach(function(t){if(t){t.header&&t.header.menu||(t.header={menu:{items:[]}});var e=t.header.menu.items||[];i.enableSorting&&t.sortable&&o.showSortCommands&&(0===e.filter(function(t){return"sort-asc"===t.command}).length&&e.push({iconCssClass:o.iconSortAscCommand||"fa fa-sort-asc",title:i.enableTranslate?n.translate.instant("SORT_ASCENDING"):"Sort Ascending",command:"sort-asc"}),0===e.filter(function(t){return"sort-desc"===t.command}).length&&e.push({iconCssClass:o.iconSortDescCommand||"fa fa-sort-desc",title:i.enableTranslate?n.translate.instant("SORT_DESCENDING"):"Sort Descending",command:"sort-desc"})),o.showColumnHideCommand&&0===e.filter(function(t){return"hide"===t.command}).length&&e.push({iconCssClass:o.iconColumnHideCommand||"fa fa-times",title:i.enableTranslate?n.translate.instant("HIDE_COLUMN"):"Hide Column",command:"hide"})}}),o&&(o.onCommand=function(r,o){if(o&&o.command)switch(o.command){case"hide":n.hideColumn(o.column),n.autoResizeColumns();break;case"sort-asc":case"sort-desc":var a=n.sortService.getPreviousColumnSorts(o.column.id+"");a.push({sortCol:o.column,sortAsc:"sort-asc"===o.command}),i.backendServiceApi?n.sortService.onBackendSortChanged(r,{multiColumnSort:!0,sortCols:a,grid:t}):n.sortService.onLocalSortChanged(t,i,e,a);var s=a.map(function(t){return{columnId:t.sortCol.id,sortAsc:t.sortAsc}});t.setSortColumns(s);break;default:alert("Command: "+o.command)}})),o},t.prototype.refreshBackendDataset=function(){var t,e=this._gridOptions.backendServiceApi||this._gridOptions.onBackendEventApi;if(!e||!e.service||!e.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(e.service&&(t=e.service.buildQuery()),t&&""!==t){e.preProcess&&e.preProcess();B(e.process(t)).then(function(t){t&&e.internalPostProcess&&e.internalPostProcess(t),e.postProcess&&e.postProcess(t)})}},t.prototype.removeColumnByIndex=function(t,e){return t.filter(function(t,i){return e!==i})},t.prototype.translateColumnPicker=function(){this.columnPickerControl&&(this.columnPickerControl.destroy(),this.columnPickerControl=null),this._gridOptions.columnPicker=undefined,this.createColumnPicker(this._grid,this.visibleColumns,this._gridOptions)},t.prototype.translateGridMenu=function(){this.gridMenuControl.destroy(),this._gridOptions&&this._gridOptions.gridMenu&&(this._gridOptions.gridMenu=this.resetGridMenuTranslations(this._gridOptions.gridMenu)),this.createGridMenu(this._grid,this.visibleColumns,this._gridOptions)},t.prototype.translateHeaders=function(t){t&&this.translate.use(t);try{for(var e=I(this._columnDefinitions),i=e.next();!i.done;i=e.next()){var r=i.value;r.headerKey&&(r.name=this.translate.instant(r.headerKey))}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=e["return"])&&o.call(e)}finally{if(n)throw n.error}}this._grid.setColumns(this._columnDefinitions);var n,o},t.prototype.getDefaultGridMenuOptions=function(){return{columnTitle:this.translate.instant("COLUMNS")||"Columns",forceFitTitle:this.translate.instant("FORCE_FIT_COLUMNS")||"Force fit columns",syncResizeTitle:this.translate.instant("SYNCHRONOUS_RESIZE")||"Synchronous resize",iconCssClass:"fa fa-bars",menuWidth:18,customTitle:undefined,customItems:[],showClearAllFiltersCommand:!0,showRefreshDatasetCommand:!0,showToggleFilterCommand:!0}},t.prototype.getDefaultHeaderMenuOptions=function(){return{autoAlignOffset:12,minWidth:140,showColumnHideCommand:!0,showSortCommands:!0}},t.prototype.resetGridMenuTranslations=function(t){return t.customItems=[],delete t.customTitle,t.columnTitle=this.translate.instant("COLUMNS")||"Columns",t.forceFitTitle=this.translate.instant("FORCE_FIT_COLUMNS")||"Force fit columns",t.syncResizeTitle=this.translate.instant("SYNCHRONOUS_RESIZE")||"Synchronous resize",t},t}();ee.decorators=[{type:a.Injectable}],ee.ctorParameters=function(){return[{type:Zt},{type:Xt},{type:Jt},{type:te},{type:s.TranslateService}]};var ie,re=function(){function t(t,e){if(this.queryFnName=t,this.head=[],"function"==typeof e)this.alias=e;else if("object"==typeof e)this.filter(e);else{if(undefined===e&&2===arguments.length)throw new TypeError('You have passed undefined as Second argument to "Query"');if(undefined!==e)throw new TypeError('Second argument to "Query" should be an alias name(String) or filter arguments(Object). was passed '+e)}}return t.prototype.filter=function(t){try{for(var e=I(Object.keys(t)),i=e.next();!i.done;i=e.next()){var r=i.value;if("function"!=typeof t[r]){var n=this.getGraphQLValue(t[r]);"{}"!==n&&this.head.push(r+":"+n)}}}catch(s){o={error:s}}finally{try{i&&!i.done&&(a=e["return"])&&a.call(e)}finally{if(o)throw o.error}}return this;var o,a},t.prototype.find=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!t)throw new TypeError("find value can not be >>falsy<<");var i=1===t.length&&Array.isArray(t[0])?t[0]:t;return this.body=this.parceFind(i),this},t.prototype.setAlias=function(t){this.alias=t},t.prototype.toString=function(){if(this.body===undefined)throw new ReferenceError("return properties are not defined. use the 'find' function to defined them");return(this.alias?this.alias+":":"")+" "+this.queryFnName+" "+(this.head.length>0?"("+this.head.join(",")+")":"")+"  { "+this.body+" }"},t.prototype.parceFind=function(e){return e.map(function(i,r){var n=e[r];if(n instanceof t)return n.toString();if(Array.isArray(n)||"object"!=typeof n){if("string"==typeof n)return n;throw new RangeError("cannot handle Find value of "+n)}var o=Object.keys(n);if(1!==o.length)throw new RangeError("Alias objects should only have one value. was passed: "+JSON.stringify(n));var a=o[0],s=n[a];return Array.isArray(s)?new t(a).find(s):a+" : "+s+" "}).join(",")},t.prototype.getGraphQLValue=function(t){var e=this;return"string"==typeof t?t=JSON.stringify(t):Array.isArray(t)?t="["+(t=t.map(function(t){return e.getGraphQLValue(t)}).join())+"]":t instanceof Date?t=JSON.stringify(t):null!==t&&"object"==typeof t&&(t=this.objectToString(t)),t},t.prototype.objectToString=function(t){var e=[];try{for(var i=I(Object.keys(t)),r=i.next();!r.done;r=i.next()){var n=r.value;"function"!=typeof t[n]&&e.push(n+":"+this.getGraphQLValue(t[n]))}}catch(s){o={error:s}}finally{try{r&&!r.done&&(a=i["return"])&&a.call(i)}finally{if(o)throw o.error}}return"{"+e.join()+"}";var o,a},t}(),ne=25,oe=function(){function t(t){this.translate=t,this.defaultOrderBy={field:"id",direction:at.ASC},this.defaultPaginationOptions={first:ne,offset:0}}return t.prototype.buildQuery=function(){if(!this.options||!this.options.datasetName||!this._columnDefinitions&&!this.options.columnDefinitions)throw new Error('GraphQL Service requires "datasetName" & "columnDefinitions" properties for it to work');var t=this._columnDefinitions||this.options.columnDefinitions;t=t.filter(function(t){return!t.excludeFromQuery});var e=new re("query"),i=new re(this.options.datasetName),r=new re(this.options.isWithCursor?"edges":"nodes"),n=[];if(t&&Array.isArray(t))try{for(var o=I(t),a=o.next();!a.done;a=o.next()){var s=a.value;n.push(s.field),s.fields&&n.push.apply(n,M(s.fields))}}catch(y){f={error:y}}finally{try{a&&!a.done&&(m=o["return"])&&m.call(o)}finally{if(f)throw f.error}}else n=this.options.columnIds||[];-1===n.indexOf("id")&&n.unshift("id");var l=this.buildFilterQuery(n);if(this.options.isWithCursor){var u=new re("pageInfo");u.find("hasNextPage","endCursor"),r.find(["cursor",{node:l}]),i.find(["totalCount",u,r])}else r.find(l),i.find(["totalCount",r]);var c=Object.assign({},this.options.paginationOptions,{first:(this.options.paginationOptions&&this.options.paginationOptions.first?this.options.paginationOptions.first:this.pagination&&this.pagination.pageSize?this.pagination.pageSize:null)||this.defaultPaginationOptions.first});if(this.options.isWithCursor||(c.offset=this.options.paginationOptions&&this.options.paginationOptions.hasOwnProperty("offset")?+this.options.paginationOptions.offset:0),this.options.sortingOptions&&Array.isArray(this.options.sortingOptions)&&this.options.sortingOptions.length>0&&(c.orderBy=this.options.sortingOptions),this.options.filteringOptions&&Array.isArray(this.options.filteringOptions)&&this.options.filteringOptions.length>0&&(c.filterBy=this.options.filteringOptions),this.options.addLocaleIntoQuery&&(c.locale=this.translate.currentLang||"en"),this.options.extraQueryArguments)try{for(var d=I(this.options.extraQueryArguments),p=d.next();!p.done;p=d.next()){var h=p.value;c[h.field]=h.value}}catch(b){g={error:b}}finally{try{p&&!p.done&&(v=d["return"])&&v.call(d)}finally{if(g)throw g.error}}i.filter(c),e.find(i);return this.trimDoubleQuotesOnEnumField(e.toString(),["direction:","field:","operator:"],this.options.keepArgumentFieldDoubleQuotes||!1);var f,m,g,v},t.prototype.buildFilterQuery=function(t){var e=function(t,i){void 0===t&&(t={});var r=i.shift();return t[r]=i.length?e(t[r],i):null,t},i=t.reduce(function(t,i){return e(t,i.split("."))},{});return JSON.stringify(i).replace(/\"|\:|null/g,"").replace(/^\{/,"").replace(/\}$/,"")},t.prototype.init=function(t,e,i){this._grid=i,this.options=t||{},this.pagination=e,i&&i.getColumns&&i.getOptions&&(this._columnDefinitions=i.getColumns(),this._gridOptions=i.getOptions())},t.prototype.getInitPaginationOptions=function(){return this.options.isWithCursor?{first:this.pagination?this.pagination.pageSize:ne}:{first:this.pagination?this.pagination.pageSize:ne,offset:0}},t.prototype.getDatasetName=function(){return this.options.datasetName||""},t.prototype.getCurrentFilters=function(){return this._currentFilters},t.prototype.getCurrentPagination=function(){return this._currentPagination},t.prototype.getCurrentSorters=function(){return this._currentSorters},t.prototype.resetPaginationOptions=function(){var t;this.options.isWithCursor?t={after:"",before:undefined,last:undefined}:(t=this.options.paginationOptions||this.getInitPaginationOptions()).offset=0,this._currentPagination={pageNumber:1,pageSize:t.first},this.updateOptions({paginationOptions:t})},t.prototype.updateOptions=function(t){this.options=Object.assign({},this.options,t)},t.prototype.onFilterChanged=function(t,e){var i=this,r=this._gridOptions||e.grid.getOptions(),n=r.backendServiceApi||r.onBackendEventApi;if(n===undefined)throw new Error('Something went wrong in the GraphqlService, "backendServiceApi" is not initialized');var o=0;!t||"keyup"!==t.type&&"keydown"!==t.type||(o=n.filterTypingDebounce||750);return new Promise(function(t,r){if(!e||!e.grid)throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that "args" is not populated correctly');clearTimeout(ie),ie=setTimeout(function(){i.updateFilters(e.columnFilters,!1),i.resetPaginationOptions(),t(i.buildQuery())},o)})},t.prototype.onPaginationChanged=function(t,e){var i=+(e.pageSize||(this.pagination?this.pagination.pageSize:20));return this.updatePagination(e.newPage,i),this.buildQuery()},t.prototype.onSortChanged=function(t,e){var i=e.multiColumnSort?e.sortCols:new Array({sortCol:e.sortCol,sortAsc:e.sortAsc});return this.updateSorters(i),this.buildQuery()},t.prototype.updateFilters=function(t,e){this._currentFilters=this.castFilterToColumnFilter(t);var i,r=[],n=function(n){if(t.hasOwnProperty(n)){var a=t[n],s=void 0;if(!(s=e&&Array.isArray(o._columnDefinitions)?o._columnDefinitions.find(function(t){return t.id===a.columnId}):a.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var l=s.queryField||s.queryFieldFilter||s.field||s.name||"",u=(a?a.searchTerms:null)||[],c=a.searchTerm;if(void 0===c&&(c=""),"string"!=typeof c&&!u)throw new Error('GraphQL filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {type: FilterType.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var d=(c=""+c).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),p=a.operator||(d?d[1]:"");i=d?d[2]:"";var h=d?d[3]:"*z"===p?"*":"";if(l&&""===i&&0===u.length)return"continue";u&&u.length>0?i=u.join(","):"string"==typeof i&&(i=i.replace("'","''"),"*"!==p&&"a*"!==p&&"*z"!==p&&"*"!==h||(p="*"===p||"*z"===p?"endsWith":"startsWith")),!p&&s.filter&&(p=q(s.filter.type||"")),p||(p=j(s.type||J.string)),r.push({field:l,operator:U(p),value:i})}},o=this;for(var a in t)n(a);this.updateOptions({filteringOptions:r})},t.prototype.updatePagination=function(t,e){this._currentPagination={pageNumber:t,pageSize:e};var i;i=this.options.isWithCursor?{first:e}:{first:e,offset:(t-1)*e},this.updateOptions({paginationOptions:i})},t.prototype.updateSorters=function(t,e){var i=this,r=[],n=[];if(!t&&e){(r=e).forEach(function(t){return t.direction=t.direction.toUpperCase()});var o=r.map(function(t){var e=i._columnDefinitions.find(function(e){return e.id===t.columnId});return e&&n.push({field:(e.queryField||e.queryFieldSorter||e.field||e.id)+"",direction:t.direction}),{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===at.ASC}});this._grid.setSortColumns(o)}else if(t&&!e)if(t&&0===t.length)n=new Array(this.defaultOrderBy),r=new Array({columnId:this.defaultOrderBy.field,direction:this.defaultOrderBy.direction});else if(t)try{for(var a=I(t),s=a.next();!s.done;s=a.next()){var l=s.value;l&&l.sortCol&&(r.push({columnId:l.sortCol.id+"",direction:l.sortAsc?at.ASC:at.DESC}),n.push({field:(l.sortCol.queryField||l.sortCol.queryFieldSorter||l.sortCol.field||l.sortCol.id)+"",direction:l.sortAsc?at.ASC:at.DESC}))}}catch(d){u={error:d}}finally{try{s&&!s.done&&(c=a["return"])&&c.call(a)}finally{if(u)throw u.error}}this._currentSorters=r,this.updateOptions({sortingOptions:n});var u,c},t.prototype.trimDoubleQuotesOnEnumField=function(t,e,i){var r=e.join('s?((field:s*)?".*?")|');r+='s?((field:s*)?".*?")';var n=new RegExp(r,"g");return t.replace(n,function(t,e,r){var n=!0;t.startsWith("field:")&&i&&(n=!1);return n?t.replace(/"/g,""):t})},t.prototype.castFilterToColumnFilter=function(t){return("object"==typeof t?Object.keys(t).map(function(e){return t[e]}):t).map(function(t){var e=t.columnDef,i=(e&&(e.headerKey||e.name),{columnId:t.columnId||""});return t.operator&&(i.operator=t.operator),Array.isArray(t.searchTerms)?i.searchTerms=t.searchTerms:i.searchTerm=t.searchTerm,i})},t}();oe.decorators=[{type:a.Injectable}],oe.ctorParameters=function(){return[{type:s.TranslateService}]},String.format=function(t,e){return t.replace(/{(\d+)}/g,function(t,i){return"undefined"!=typeof e[i]?e[i]:t})},String.padZero=function(t){for(var e=this;e.length<t;)e="0"+e;return e},String.trim=function(t){return t?t.replace(/\s+/g," "):t},String.allTitleCase=function(t){return t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},String.titleCase=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};var ae,se=function(){function t(){this._odataOptions={filterQueue:[],orderBy:""},this._defaultSortBy="",this._columnFilters={}}return t.prototype.buildQuery=function(){this._odataOptions.filterQueue=[];var t=[];if(this._odataOptions.top&&t.push("$top="+this._odataOptions.top),this._odataOptions.skip&&t.push("$skip="+this._odataOptions.skip),this._odataOptions.orderBy){var e="";e=Array.isArray(this._odataOptions.orderBy)?this._odataOptions.orderBy.join(","):this._odataOptions.orderBy,t.push("$orderby="+e)}if(this._odataOptions.filterBy||this._odataOptions.filter){if(this._odataOptions.filter){this._odataOptions.filterQueue=[];var i=this._odataOptions.filter;Array.isArray(this._odataOptions.filter)&&(i=this._odataOptions.filter.join(" "+(this._odataOptions.filterBySeparator||"and")+" ")),this._odataOptions.filterQueue.push("("+i+")")}this._odataOptions.filterBy&&this._odataOptions.filterBy.fieldName&&!this._columnFilters[this._odataOptions.filterBy.fieldName.toLowerCase()]&&""!==this._odataOptions.filterBy.searchTerm&&(this.saveColumnFilter(this._odataOptions.filterBy.fieldName.toLowerCase(),this._odataOptions.filterBy.searchTerm,this._odataOptions.filterBy.searchTerms),this.updateFilterFromListTerms(this._odataOptions.filterBy))}if(this._odataOptions.filterQueue.length>0){var r=this._odataOptions.filterQueue.join(" "+(this._odataOptions.filterBySeparator||"and")+" ");this._odataOptions.filter=r,t.push("$filter="+r)}return t.join("&")},t.prototype.getFilterByColumn=function(t){return this._columnFilters[t]?this._columnFilters[t]:null},t.prototype.getFilterCount=function(){return this._odataOptions.filterQueue?this._odataOptions.filterQueue.length:0},Object.defineProperty(t.prototype,"columnFilters",{get:function(){return this._columnFilters},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._odataOptions},set:function(t){this._odataOptions=t},enumerable:!0,configurable:!0}),t.prototype.removeColumnFilter=function(t){delete this._columnFilters[t]},t.prototype.saveColumnFilter=function(t,e,i){this._columnFilters[t]={search:i,value:e}},t.prototype.updateFilterFromListTerms=function(t){var e=this;Array.isArray(t)?t.forEach(function(t){e.updateFilterFromTerm(t)}):this.updateFilterFromTerm(t)},t.prototype.updateFilterFromTerm=function(t){var e="",i=[],r=t.fieldName,n=t.searchTerms,o=t.operator;if(n&&n.length>0){var a=[];if("IN"===o){for(var s=0,l=n.length;s<l;s++)a.push(r+" eq '"+n[s]+"'");e="$("+(e=a.join(" or "))+")"}else if("NIN"===o||"NOTIN"===o||"NOT IN"===o){for(var u=0,c=n.length;u<c;u++)a.push(r+" ne '"+n[u]+"'");e="$("+(e=a.join(" and "))+")"}}i.push(String.trim(e));var d=i.length>0?i.join(" and "):"";this._odataOptions.filterQueue&&-1===this._odataOptions.filterQueue.indexOf(d)&&this._odataOptions.filterQueue.push(d)},t.prototype.updateOptions=function(t){try{for(var e=I(Object.keys(t)),i=e.next();!i.done;i=e.next()){var r=i.value;if(t.hasOwnProperty(r)&&(this._odataOptions[r]=t[r]),"orderBy"===r||"sortBy"===r){var n=t[r];this._odataOptions.caseType===X.pascalCase&&(Array.isArray(n)?n.forEach(function(t,e,i){i[e]=String.titleCase(t)}):n=String.titleCase(t[r])),this._odataOptions.orderBy=n,this._defaultSortBy=n}}}catch(s){o={error:s}}finally{try{i&&!i.done&&(a=e["return"])&&a.call(e)}finally{if(o)throw o.error}}var o,a},t}(),le=25,ue=function(){function t(t){this.odataService=t,this.defaultOptions={top:le,orderBy:"",caseType:X.pascalCase}}return t.prototype.buildQuery=function(){return this.odataService.buildQuery()},t.prototype.init=function(t,e,i){this._grid=i;var r=Object.assign({},this.defaultOptions,t);e&&e.pageSize&&(r.top=e.pageSize),this.odataService.options=Object.assign({},r,{top:r.top||this.defaultOptions.top}),this.options=this.odataService.options,this.pagination=e,this._currentPagination={pageNumber:1,pageSize:this.odataService.options.top||this.defaultOptions.top},i&&i.getColumns&&i.getOptions&&(this._columnDefinitions=i.getColumns()||t.columnDefinitions,this._columnDefinitions=this._columnDefinitions.filter(function(t){return!t.excludeFromQuery}),this._gridOptions=i.getOptions())},t.prototype.updateOptions=function(t){this.options=Object.assign({},this.options,t)},t.prototype.removeColumnFilter=function(t){this.odataService.removeColumnFilter(t)},t.prototype.getCurrentFilters=function(){return this._currentFilters},t.prototype.getCurrentPagination=function(){return this._currentPagination},t.prototype.getCurrentSorters=function(){return this._currentSorters},t.prototype.resetPaginationOptions=function(){this.odataService.updateOptions({skip:0})},t.prototype.saveColumnFilter=function(t,e,i){this.odataService.saveColumnFilter(t,e,i)},t.prototype.onFilterChanged=function(t,e){var i=this,r=e.grid.getOptions(),n=r.backendServiceApi||r.onBackendEventApi;if(n===undefined)throw new Error('Something went wrong in the GridOdataService, "backendServiceApi" is not initialized');var o=0;!t||"keyup"!==t.type&&"keydown"!==t.type||(o=n.filterTypingDebounce||750);return new Promise(function(t,r){clearTimeout(ae),ae=setTimeout(function(){i.updateFilters(e.columnFilters),i.resetPaginationOptions(),t(i.odataService.buildQuery())},o)})},t.prototype.onPaginationChanged=function(t,e){var i=+(e.pageSize||20);return this.updatePagination(e.newPage,i),this.odataService.buildQuery()},t.prototype.onSortChanged=function(t,e){var i=e.multiColumnSort?e.sortCols:new Array({sortCol:e.sortCol,sortAsc:e.sortAsc});return this.updateSorters(i),this.odataService.buildQuery()},t.prototype.updateFilters=function(t,e){this._currentFilters=this.castFilterToColumnFilter(t);var i="",r=[],n=function(n){if(t.hasOwnProperty(n)){var a=t[n],s=void 0;if(!(s=e&&Array.isArray(o._columnDefinitions)?o._columnDefinitions.find(function(t){return t.id===a.columnId}):a.columnDef))throw new Error("[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?");var l=s.queryField||s.queryFieldFilter||s.field||s.name||"",u=s.type||"string",c=(a?a.searchTerms:null)||[],d=a.searchTerm;if(void 0===d&&(d=""),"string"!=typeof d&&!c)throw new Error('ODdata filter searchTerm property must be provided as type "string", if you use filter with options then make sure your IDs are also string. For example: filter: {type: FilterType.select, collection: [{ id: "0", value: "0" }, { id: "1", value: "1" }]');var p=(d=""+d).match(/^([<>!=\*]{0,2})(.*[^<>!=\*])([\*]?)$/),h=a.operator||(p?p[1]:""),f=p?p[2]:"",m=p?p[3]:"*z"===h?"*":"",g=a.bypassBackendQuery||!1;if(l&&""===f)return o.removeColumnFilter(l),"continue";if(f=f.replace("'","''"),f=encodeURIComponent(f),g)l&&o.saveColumnFilter(l,d,c);else{if(i="",o.odataService.options.caseType===X.pascalCase&&(l=String.titleCase(l||"")),c&&c.length>0){var v=[];if("IN"===h){for(var y=0,b=c.length;y<b;y++)v.push(l+" eq '"+c[y]+"'");i="("+(i=v.join(" or "))+")"}else if("NIN"===h||"NOTIN"===h||"NOT IN"===h){for(var S=0,C=c.length;S<C;S++)v.push(l+" ne '"+c[S]+"'");i="("+(i=v.join(" and "))+")"}}else if("*"===h||"a*"===h||"*z"===h||""!==m)i="*"===h||"*z"===h?"endswith("+l+", '"+f+"')":"startswith("+l+", '"+f+"')";else if(u===J.date){var _=W(f,!0);_&&(i=l+" "+o.mapOdataOperator(h)+" DateTime'"+_+"'")}else u===J.string?i=""===h?"substringof('"+f+"', "+l+")":l+" "+o.mapOdataOperator(h)+" '"+f+"'":(f=u===J.number?f:"'"+f+"'",i=l+" "+o.mapOdataOperator(h)+" "+f);""!==i&&(r.push(String.trim(i)),o.saveColumnFilter(l||"",d,c))}}},o=this;for(var a in t)n(a);this.odataService.updateOptions({filter:r.length>0?r.join(" and "):"",skip:undefined})},t.prototype.updatePagination=function(t,e){this._currentPagination={pageNumber:t,pageSize:e},this.odataService.updateOptions({top:e,skip:(t-1)*e})},t.prototype.updateSorters=function(t,e){var i=[],r=[];if(!t&&e){(i=e).forEach(function(t){return t.direction=t.direction.toLowerCase()});var n=i.map(function(t){return r.push({columnId:t.columnId+"",direction:t.direction}),{columnId:t.columnId,sortAsc:t.direction.toUpperCase()===at.ASC}});this._grid.setSortColumns(n)}else if(t&&!e)if(t&&0===t.length)i=new Array(this.defaultOptions.orderBy);else if(t){try{for(var o=I(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.sortCol){var l=(s.sortCol.queryField||s.sortCol.queryFieldSorter||s.sortCol.field||s.sortCol.id)+"",u=(s.sortCol.field||s.sortCol.id)+"";this.odataService.options.caseType===X.pascalCase&&(l=String.titleCase(l),u=String.titleCase(u)),r.push({columnId:u,direction:s.sortAsc?"asc":"desc"})}}}catch(h){d={error:h}}finally{try{a&&!a.done&&(p=o["return"])&&p.call(o)}finally{if(d)throw d.error}}i=r}var c=(i=i).map(function(t){return t.columnId+" "+t.direction.toLowerCase()}).join(",");return this.odataService.updateOptions({orderBy:this.odataService.options.caseType===X.pascalCase?String.titleCase(c):c}),this._currentSorters=i,this.odataService.buildQuery();var d,p},t.prototype.castFilterToColumnFilter=function(t){return("object"==typeof t?Object.keys(t).map(function(e){return t[e]}):t).map(function(t){var e=t.columnDef,i=(e&&(e.headerKey||e.name),{columnId:t.columnId||""});return t.operator&&(i.operator=t.operator),Array.isArray(t.searchTerms)?i.searchTerms=t.searchTerms:i.searchTerm=t.searchTerm,i})},t.prototype.mapOdataOperator=function(t){var e="";switch(t){case"<":e="lt";break;case"<=":e="le";break;case">":e="gt";break;case">=":e="ge";break;case"<>":case"!=":e="ne";break;case"=":case"==":default:e="eq"}return e},t}();ue.decorators=[{type:a.Injectable}],ue.ctorParameters=function(){return[{type:se}]};var ce,de=function(){function t(){this._eventHandler=new Slick.EventHandler}return t.prototype.attachOnCellChange=function(t,e,i){this._eventHandler.subscribe(t.onCellChange,function(r,n){if(r&&n&&n.grid&&n.cell!==undefined&&n.grid.getColumns&&n.grid.getDataItem){var o=n.grid.getColumns()[n.cell];if("function"==typeof o.onCellChange){var a={row:n.row,cell:n.cell,dataView:i,gridDefinition:e,grid:t,columnDef:o,dataContext:n.grid.getDataItem(n.row)};o.onCellChange(a)}}})},t.prototype.attachOnClick=function(t,e,i){this._eventHandler.subscribe(t.onClick,function(r,n){if(r&&n&&n.grid&&n.cell!==undefined&&n.grid.getColumns&&n.grid.getDataItem){var o=n.grid.getColumns()[n.cell];if("function"==typeof o.onCellClick){var a={row:n.row,cell:n.cell,dataView:i,gridDefinition:e,grid:t,columnDef:o,dataContext:n.grid.getDataItem(n.row)};o.onCellClick(a),r.stopImmediatePropagation()}t.getOptions&&t.getOptions().autoEdit}})},t.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},t}(),pe=function(){function t(){}return t.prototype.init=function(t,e,i,r){this._grid=t,this._gridOptions=i,this._dataView=r},t.prototype.getDataItemByRowNumber=function(t){if(!this._grid||"function"!=typeof this._grid.getDataItem)throw new Error("We could not find SlickGrid Grid object");return this._grid.getDataItem(t)},t.prototype.getItemRowMetadata=function(t){var e=this;return function(i){var r=e._dataView.getItem(i),n={cssClasses:""};return"object"!=typeof t||$.isEmptyObject(t)||(n=t(i)),r&&r._dirty&&(n.cssClasses=(n.cssClasses||"")+" dirty"),r&&r.rowClass&&(n.cssClasses+=" "+r.rowClass,n.cssClasses+=" row"+i),n}},t.prototype.highlightRow=function(t,e){var i=this;if(void 0===e&&(e=1500),!this._grid.getSelectionModel()){var r=new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions||{});this._grid.setSelectionModel(r)}this._grid.setSelectedRows([t]),this._dataView.getItemMetadata=this.getItemRowMetadata(this._dataView.getItemMetadata);var n=this._dataView.getItem(t);if(n&&n.id){n.rowClass="highlight",this._dataView.updateItem(n.id,n);var o=this._grid.getOptions();$("#"+o.gridId).find(".highlight.row"+t).first(),setTimeout(function(){if(n&&n.id){delete n.rowClass;i._dataView.getIdxById(n.id)!==undefined&&i._dataView.updateItem(n.id,n)}},e+10)}},t.prototype.getSelectedRows=function(){return this._grid.getSelectedRows()},t.prototype.setSelectedRow=function(t){this._grid.setSelectedRows([t])},t.prototype.setSelectedRows=function(t){this._grid.setSelectedRows(t)},t.prototype.renderGrid=function(){this._grid&&"function"==typeof this._grid.invalidate&&(this._grid.invalidate(),this._grid.render())},t.prototype.addItemToDatagrid=function(t){if(!this._grid||!this._gridOptions||!this._dataView)throw new Error("We could not find SlickGrid Grid, DataView objects");if(!this._gridOptions||!this._gridOptions.enableCheckboxSelector&&!this._gridOptions.enableRowSelection)throw new Error("addItemToDatagrid() requires to have a valid Slickgrid Selection Model. You can overcome this issue by enabling enableCheckboxSelector or enableRowSelection to True");this._dataView.insertItem(0,t),this._grid.scrollRowIntoView(0),this.highlightRow(0,1500),this._dataView.refresh()},t.prototype.updateDataGridItem=function(t){var e=this._dataView.getRowById(t.id),i=t&&t.hasOwnProperty("id")?t.id:-1;if(-1===i)throw new Error('Could not find the item in the item in the grid or it\'s associated "id"');this._dataView.getIdxById(i)!==undefined&&(this._dataView.updateItem(i,t),this.highlightRow(e,1500),this._dataView.refresh())},t}(),he=function(){function t(){}return t.getColumnDefinitionAndData=function(t){if(!(t&&t.grid&&t.grid.getColumns&&t.grid.getDataItem))throw new Error("To get the column definition and data, we need to have these arguments passed (row, cell, grid)");return{columnDef:t.grid.getColumns()[t.cell],dataContext:t.grid.getDataItem(t.row)}},t}(),fe=function(){function t(){this.onGridStateChanged=new l.Subject}return t.prototype.init=function(t,e,i){var r=this;this._grid=t,this.filterService=e,this.sortService=i,this._gridOptions=t&&t.getOptions?t.getOptions():{},this._filterSubcription=this.filterService.onFilterChanged.subscribe(function(t){r.onGridStateChanged.next({change:{newValues:t,type:rt.filter},gridState:r.getCurrentGridState()})}),this._sorterSubcription=this.sortService.onSortChanged.subscribe(function(t){r.onGridStateChanged.next({change:{newValues:t,type:rt.sorter},gridState:r.getCurrentGridState()})})},t.prototype.dispose=function(){this._filterSubcription.unsubscribe(),this._sorterSubcription.unsubscribe()},t.prototype.getCurrentGridState=function(){var t={filters:this.getCurrentFilters(),sorters:this.getCurrentSorters()},e=this.getCurrentPagination();return e&&(t.pagination=e),t},t.prototype.getCurrentFilters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var t=this._gridOptions.backendServiceApi.service;if(t&&t.getCurrentFilters)return t.getCurrentFilters()}else if(this.filterService&&this.filterService.getCurrentLocalFilters)return this.filterService.getCurrentLocalFilters();return null},t.prototype.getCurrentPagination=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var t=this._gridOptions.backendServiceApi.service;if(t&&t.getCurrentPagination)return t.getCurrentPagination()}return null},t.prototype.getCurrentSorters=function(){if(this._gridOptions&&this._gridOptions.backendServiceApi){var t=this._gridOptions.backendServiceApi.service;if(t&&t.getCurrentSorters)return t.getCurrentSorters()}else if(this.sortService&&this.sortService.getCurrentLocalSorters)return this.sortService.getCurrentLocalSorters();return null},t}(),me=function(){function t(){this._eventHandler=new Slick.EventHandler}return t.prototype.init=function(t,e){var i=this;this._grid=t,this._dataView=e,t&&(this._gridOptions=t.getOptions(),this._columnDefinitions=t.getColumns()),t&&this._gridOptions&&this._gridOptions.createPreHeaderPanel&&(this._eventHandler.subscribe(t.onSort,function(t,e){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(t.onColumnsResized,function(t,e){i.createPreHeaderRowGroupingTitle()}),this._eventHandler.subscribe(e.onRowCountChanged,function(t,e){i.createPreHeaderRowGroupingTitle()}),setTimeout(function(){i.createPreHeaderRowGroupingTitle()},50))},t.prototype.dispose=function(){this._eventHandler.unsubscribeAll()},t.prototype.createPreHeaderRowGroupingTitle=function(){var t=$(this._grid.getPreHeaderPanel()).empty().addClass("slick-header-columns").css("left","-1000px").width(this._grid.getHeadersWidth());t.parent().addClass("slick-header");for(var e,i,r=this._grid.getHeaderColumnWidthDiff(),n="",o=0,a=0;a<this._columnDefinitions.length;a++)n===(e=this._columnDefinitions[a]).columnGroup&&a>0?(o+=e.width,i.width(o-r)):(o=e.width,i=$('<div class="ui-state-default slick-header-column" />').html('<span class="slick-column-name">'+(e.columnGroup||"")+"</span>").width(e.width-r).appendTo(t)),n=e.columnGroup},t}(),ge=function(){function t(){this.onGridBeforeResize=new l.Subject}return t.prototype.init=function(t){this._grid=t,t&&(this._gridOptions=t.getOptions())},t.prototype.attachAutoResizeDataGrid=function(){var t=this,e=$("#"+(this._gridOptions&&this._gridOptions.gridId?this._gridOptions.gridId:"grid1"));if(e===undefined||e.offset()===undefined)return null;this.resizeGrid(),$(window).on("resize.grid",function(){t.onGridBeforeResize.next(!0),t.resizeGrid(),t.resizeGrid()})},t.prototype.calculateGridNewDimensions=function(t){var e=$("#"+t.gridId),i=t.autoResize&&t.autoResize.containerId?$("#"+t.autoResize.containerId):$("#"+t.gridContainerId),r=$(window);if(r===undefined||i===undefined||e===undefined)return null;var n=t.autoResize&&t.autoResize.bottomPadding?t.autoResize.bottomPadding:20;n&&(t.enablePagination||this._gridOptions.backendServiceApi)&&(n+=35);var o=r.height()||0,a=e.offset(),s=o-(a!==undefined?a.top:0)-n,l=i.width()||0,u=t.autoResize&&t.autoResize.minHeight<0?t.autoResize.minHeight:180,c=t.autoResize&&t.autoResize.minWidth<0?t.autoResize.minWidth:300,d=s,p=t.autoResize&&t.autoResize.sidePadding?l-t.autoResize.sidePadding:l;return d<u&&(d=u),p<c&&(p=c),{height:d,width:p}},t.prototype.dispose=function(){$(window).off("resize.grid")},t.prototype.getLastResizeDimensions=function(){return this._lastDimensions},t.prototype.resizeGrid=function(t,e){var i=this;if(!this._grid||!this._gridOptions)throw new Error('\n      Angular-Slickgrid resizer requires a valid Grid object and Grid Options defined.\n      You can fix this by setting your gridOption to use "enableAutoResize" or create an instance of the ResizerService by calling attachAutoResizeDataGrid()');t=t||0,clearTimeout(ce),ce=setTimeout(function(){e=e||i.calculateGridNewDimensions(i._gridOptions);var t=$("#"+i._gridOptions.gridId)||{},r=$("#"+i._gridOptions.gridContainerId)||{};e&&t.length>0&&(t.height(e.height),t.width(e.width),r.height(e.height),r.width(e.width),i._lastDimensions=e,(i._gridOptions.enablePagination||i._gridOptions.backendServiceApi)&&(i._lastDimensions.heightWithPagination=e.height+35),null===new RegExp("MSIE [6-8]").exec(navigator.userAgent)&&i._grid&&i._grid.resizeCanvas(),i._grid.autosizeColumns())},t)},t}(),ve=function(){function t(t){this._field=t}return t.prototype.init=function(){this._count=0,this._nonNullCount=0,this._sum=0},t.prototype.accumulate=function(t){var e=t[this._field];this._count++,null==e||""===e||isNaN(e)||(this._nonNullCount++,this._sum+=parseFloat(e))},t.prototype.storeResult=function(t){t.avg||(t.avg={}),0!==this._nonNullCount&&(t.avg[this._field]=this._sum/this._nonNullCount)},t}(),ye=function(){function t(t){this._field=t}return t.prototype.init=function(){this._min=null},t.prototype.accumulate=function(t){var e=t[this._field];null==e||""===e||isNaN(e)||(null==this._min||e<this._min)&&(this._min=e)},t.prototype.storeResult=function(t){t.min||(t.min={}),t.min[this._field]=this._min},t}(),be=function(){function t(t){this._field=t}return t.prototype.init=function(){this._max=null},t.prototype.accumulate=function(t){var e=t[this._field];null==e||""===e||isNaN(e)||(null==this._max||e>this._max)&&(this._max=e)},t.prototype.storeResult=function(t){t.max||(t.max={}),t.max[this._field]=this._max},t}(),Se=function(){function t(t){this._field=t}return t.prototype.init=function(){this._sum=null},t.prototype.accumulate=function(t){var e=t[this._field];null==e||""===e||isNaN(e)||(this._sum+=parseFloat(e))},t.prototype.storeResult=function(t){t.sum||(t.sum={}),t.sum[this._field]=this._sum},t}(),Ce={Avg:ve,Min:ye,Max:be,Sum:Se},_e=function(){function t(t){this.args=t,this.init()}return t.prototype.init=function(){this.$input=$('<input type="checkbox" value="true" class="editor-checkbox" />'),this.$input.appendTo(this.args.container),this.$input.focus()},t.prototype.destroy=function(){this.$input.remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.hide=function(){this.$input.hide()},t.prototype.show=function(){this.$input.show()},t.prototype.loadValue=function(t){this.defaultValue=!!t[this.args.column.field],this.defaultValue?this.$input.prop("checked",!0):this.$input.prop("checked",!1)},t.prototype.preClick=function(){this.$input.prop("checked",!this.$input.prop("checked"))},t.prototype.serializeValue=function(){return this.$input.prop("checked")},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.isValueChanged=function(){return this.serializeValue()!==this.defaultValue},t.prototype.validate=function(){return{valid:!0,msg:null}},t}(),we=o;require("flatpickr");var Oe=function(){function t(t){this.args=t,this.init()}return t.prototype.init=function(){var t=this;if(this.args&&this.args.column){var e=this.args.column,i=this.args.grid.getOptions();this.defaultDate=this.args.item?this.args.item[this.args.column.field]:null;var r=z(e.type||J.dateIso),n=z(e.outputType||J.dateUtc),o=this.getCurrentLocale(e,i);o.length>2&&(o=o.substring(0,2));var a={defaultDate:this.defaultDate,altInput:!0,altFormat:r,dateFormat:n,closeOnSelect:!1,locale:"en"!==o?this.loadFlatpickrLocale(o):"en",onChange:function(e,i,r){t.save()}};this.$input=$('<input type="text" data-defaultDate="'+this.defaultDate+'" class="editor-text flatpickr" />'),this.$input.appendTo(this.args.container),this.flatInstance=this.$input[0]&&"function"==typeof this.$input[0].flatpickr?this.$input[0].flatpickr(a):null,this.show()}},t.prototype.getCurrentLocale=function(t,e){var i=e.params||t.params||{};return i.i18n&&i.i18n instanceof s.TranslateService?i.i18n.currentLang:"en"},t.prototype.loadFlatpickrLocale=function(t){if("en"!==t){var e=require("flatpickr/dist/l10n/"+t+".js")["default"];return e&&e[t]?e[t]:"en"}return"en"},t.prototype.destroy=function(){this.hide(),this.$input.remove()},t.prototype.show=function(){this.flatInstance&&"function"==typeof this.flatInstance.open&&this.flatInstance.open()},t.prototype.hide=function(){this.flatInstance&&"function"==typeof this.flatInstance.close&&this.flatInstance.close()},t.prototype.focus=function(){this.$input.focus()},t.prototype.save=function(){this.args.commitChanges()},t.prototype.loadValue=function(t){this.defaultDate=t[this.args.column.field]},t.prototype.serializeValue=function(){var t=L(this.args.column.type||J.dateIso);return we(this.defaultDate).format(t)},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null==this.defaultDate)&&this.$input.val()!==this.defaultDate},t.prototype.validate=function(){if(this.args.column.validator){var t=this.args.column.validator(this.$input.val(),this.args);if(!t.valid)return t}return{valid:!0,msg:null}},t}(),Te=function(){function t(t){this.args=t,this.init()}return t.prototype.init=function(){this.$input=$("<input type=\"text\" class='editor-text' />").appendTo(this.args.container).on("keydown.nav",function(t){t.keyCode!==nt.LEFT&&t.keyCode!==nt.RIGHT||t.stopImmediatePropagation()}).focus().select()},t.prototype.destroy=function(){this.$input.remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.getDecimalPlaces=function(){var t=this.args.column.editorFixedDecimalPlaces;return t===undefined&&(t=0),t||0===t?t:null},t.prototype.loadValue=function(t){this.defaultValue=t[this.args.column.field];var e=this.getDecimalPlaces();null!==e&&(this.defaultValue||0===this.defaultValue)&&this.defaultValue.toFixed&&(this.defaultValue=this.defaultValue.toFixed(e)),this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()},t.prototype.serializeValue=function(){var t=parseFloat(this.$input.val())||0,e=this.getDecimalPlaces();return null!==e&&(t||0===t)&&t.toFixed&&(t=parseFloat(t.toFixed(e))),t},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null===this.defaultValue)&&this.$input.val()!==this.defaultValue},t.prototype.validate=function(){if(isNaN(this.$input.val()))return{valid:!1,msg:"Please enter a valid number"};if(this.args.column.validator){var t=this.args.column.validator(this.$input.val());if(!t.valid)return t}return{valid:!0,msg:null}},t}(),ke=function(){function t(t){this.args=t,this.init()}return t.prototype.init=function(){this.$input=$("<input type=\"text\" class='editor-text' />").appendTo(this.args.container).on("keydown.nav",function(t){t.keyCode!==nt.LEFT&&t.keyCode!==nt.RIGHT||t.stopImmediatePropagation()}).focus().select()},t.prototype.destroy=function(){this.$input.remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.loadValue=function(t){this.defaultValue=t[this.args.column.field],this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()},t.prototype.serializeValue=function(){return parseInt(this.$input.val(),10)||0},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null===this.defaultValue)&&this.$input.val()!==this.defaultValue},t.prototype.validate=function(){if(isNaN(this.$input.val()))return{valid:!1,msg:"Please enter a valid integer"};if(this.args.column.validator){var t=this.args.column.validator(this.$input.val());if(!t.valid)return t}return{valid:!0,msg:null}},t}(),Ee=function(){function t(t){this.args=t,this.init()}return t.prototype.init=function(){var t=this,e=$("body");this.$wrapper=$('<div class="slick-large-editor-text" />').appendTo(e),this.$input=$('<textarea hidefocus rows="5">').appendTo(this.$wrapper),$('<div class="editor-footer">\n        <button class="btn btn-primary btn-xs">Save</button>\n        <button class="btn btn-default btn-xs">Cancel</button>\n      </div>').appendTo(this.$wrapper),this.$wrapper.find("button:first").on("click",function(e){return t.save()}),this.$wrapper.find("button:last").on("click",function(e){return t.cancel()}),this.$input.on("keydown",this.handleKeyDown),this.position(this.args.position),this.$input.focus().select()},t.prototype.handleKeyDown=function(t){t.which===nt.ENTER&&t.ctrlKey?this.save():t.which===nt.ESCAPE?(t.preventDefault(),this.cancel()):t.which===nt.TAB&&t.shiftKey?(t.preventDefault(),this.args.grid.navigatePrev()):t.which===nt.TAB&&(t.preventDefault(),this.args.grid.navigateNext())},t.prototype.save=function(){this.args.commitChanges()},t.prototype.cancel=function(){this.$input.val(this.defaultValue),this.args.cancelChanges()},t.prototype.hide=function(){this.$wrapper.hide()},t.prototype.show=function(){this.$wrapper.show()},t.prototype.position=function(t){this.$wrapper.css("top",(t.top||0)-5).css("left",(t.left||0)-5)},t.prototype.destroy=function(){this.$wrapper.remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.loadValue=function(t){this.$input.val(this.defaultValue=t[this.args.column.field]),this.$input.select()},t.prototype.serializeValue=function(){return this.$input.val()},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null==this.defaultValue)&&this.$input.val()!==this.defaultValue},t.prototype.validate=function(){var t=!0,e=null;if(this.args.column.validator){var i=this.args.column.validator(this.$input.val(),this.args);t=i.valid,e=i.msg}return{valid:t,msg:e}},t}(),Pe=function(){function t(t){var e=this;this.args=t,this.collection=[],this.gridOptions=this.args.grid.getOptions();var i=this.gridOptions.params||this.args.column.params||{};this._translate=i.i18n,this.defaultOptions={container:"body",filter:!1,maxHeight:200,addTitle:!0,okButton:!0,selectAllDelimiter:["",""],width:150,offsetLeft:20,onOpen:function(){return e.autoAdjustDropPosition(e.$editorElm,e.editorElmOptions)}},this._translate&&(this.defaultOptions.countSelected=this._translate.instant("X_OF_Y_SELECTED"),this.defaultOptions.allSelected=this._translate.instant("ALL_SELECTED"),this.defaultOptions.selectAllText=this._translate.instant("SELECT_ALL")),this.init()}return Object.defineProperty(t.prototype,"currentValues",{get:function(){var t=this;return this.collection.filter(function(e){return-1!==t.$editorElm.val().indexOf(e[t.valueName].toString())}).map(function(e){return e[t.valueName]})},enumerable:!0,configurable:!0}),t.prototype.init=function(){if(!this.args)throw new Error('[Angular-SlickGrid] An editor must always have an "init()" with valid arguments.');if(this.columnDef=this.args.column,!this.columnDef||!this.columnDef.params||!this.columnDef.params.collection)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" on the params property in the column definition for the MultipleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { params: { { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } } }");var t=new wt(this._translate);this.enableTranslateLabel=!!this.columnDef.params.enableTranslateLabel&&this.columnDef.params.enableTranslateLabel;var e=this.columnDef.params.collection||[];if(this.labelName=this.columnDef.params.customStructure?this.columnDef.params.customStructure.label:"label",this.valueName=this.columnDef.params.customStructure?this.columnDef.params.customStructure.value:"value",this.gridOptions.params&&this.columnDef.params.collectionFilterBy){var i=this.columnDef.params.collectionFilterBy;e=t.filterCollection(e,i)}if(this.gridOptions.params&&this.columnDef.params.collectionSortBy){var r=this.columnDef.params.collectionSortBy;e=t.sortCollection(e,r,this.enableTranslateLabel)}this.collection=e;var n=this.buildTemplateHtmlString(e);this.createDomElement(n)},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.destroy=function(){this.$editorElm.remove()},t.prototype.loadValue=function(t){var e=this;this.defaultValue=t[this.columnDef.field].map(function(t){return t.toString()}),this.$editorElm.find("option").each(function(t,i){e.defaultValue===i.value?i.selected=!0:i.selected=!1}),this.refresh()},t.prototype.serializeValue=function(){return this.currentValues},t.prototype.focus=function(){this.$editorElm.focus()},t.prototype.isValueChanged=function(){return!R(this.$editorElm.val(),this.defaultValue)},t.prototype.validate=function(){if(this.args.column.validator){var t=this.args.column.validator(this.currentValues,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},t.prototype.buildTemplateHtmlString=function(t){var e=this,i="";return t.forEach(function(t){if(!t||t[e.labelName]===undefined&&t.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { collection: [ { value: '1', label: 'One' } ])");var r=t.labelKey||t[e.labelName],n=(t.labelKey||e.enableTranslateLabel)&&e._translate&&"function"==typeof e._translate.instant?e._translate.instant(r||" "):r;i+='<option value="'+t[e.valueName]+'">'+n+"</option>"}),'<select class="ms-filter search-filter" multiple="multiple">'+i+"</select>"},t.prototype.autoAdjustDropPosition=function(t,e){var i=$(window).innerHeight()||300,r=$("body").scrollTop()||0,n=(e.container?$(e.container):t).find(".ms-drop"),o=n.height()||0,a=n.offset().top;if(i-(a-r)<o){if(e.container){var s=a-o-26;s>0&&n.offset({top:s<0?0:s})}else n.addClass("top");n.removeClass("bottom")}else n.addClass("bottom"),n.removeClass("top")},t.prototype.createDomElement=function(t){var e=this;if(this.$editorElm=$(t),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&this.$editorElm.appendTo(this.args.container),"function"!=typeof this.$editorElm.multipleSelect)this.$editorElm.addClass("form-control");else{var i=this.columnDef.params?this.columnDef.params.elementOptions:{};this.editorElmOptions=Object.assign({},this.defaultOptions,i),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),setTimeout(function(){return e.$editorElm.multipleSelect("open")})}},t.prototype.refresh=function(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")},t}(),Fe=function(){function t(t){var e=this;this.args=t,this.collection=[],this.gridOptions=this.args.grid.getOptions();var i=this.gridOptions.params||this.args.column.params||{};this._translate=i.i18n,this.defaultOptions={container:"body",filter:!1,maxHeight:200,width:150,offsetLeft:20,single:!0,onOpen:function(){return e.autoAdjustDropPosition(e.$editorElm,e.editorElmOptions)}},this.init()}return Object.defineProperty(t.prototype,"currentValue",{get:function(){var t=this;return H(this.collection,function(e){return e[t.valueName].toString()===t.$editorElm.val()})[this.valueName]},enumerable:!0,configurable:!0}),t.prototype.init=function(){if(!this.args)throw new Error('[Angular-SlickGrid] An editor must always have an "init()" with valid arguments.');if(this.columnDef=this.args.column,!this.columnDef||!this.columnDef.params||!this.columnDef.params.collection)throw new Error("[Angular-SlickGrid] You need to pass a \"collection\" on the params property in the column definition for the MultipleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { params: { { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } } }");var t=new wt(this._translate);this.enableTranslateLabel=!!this.columnDef.params.enableTranslateLabel&&this.columnDef.params.enableTranslateLabel;var e=this.columnDef.params.collection||[];if(this.labelName=this.columnDef.params.customStructure?this.columnDef.params.customStructure.label:"label",this.valueName=this.columnDef.params.customStructure?this.columnDef.params.customStructure.value:"value",this.gridOptions.params&&this.columnDef.params.collectionFilterBy){var i=this.columnDef.params.collectionFilterBy;e=t.filterCollection(e,i)}if(this.gridOptions.params&&this.columnDef.params.collectionSortBy){var r=this.columnDef.params.collectionSortBy;e=t.sortCollection(e,r,this.enableTranslateLabel)}this.collection=e;var n=this.buildTemplateHtmlString(e);this.createDomElement(n)},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.destroy=function(){this.$editorElm.remove()},t.prototype.loadValue=function(t){var e=this;this.defaultValue=t[this.columnDef.field].toString(),this.$editorElm.find("option").each(function(t,i){e.defaultValue===i.value?i.selected=!0:i.selected=!1}),this.refresh()},t.prototype.serializeValue=function(){return this.currentValue},t.prototype.focus=function(){this.$editorElm.focus()},t.prototype.isValueChanged=function(){return this.$editorElm.val()!==this.defaultValue},t.prototype.validate=function(){if(this.args.column.validator){var t=this.args.column.validator(this.currentValue,this.args);if(!t.valid)return t}return{valid:!0,msg:null}},t.prototype.buildTemplateHtmlString=function(t){var e=this,i="";return t.forEach(function(t){if(!t||t[e.labelName]===undefined&&t.labelKey===undefined)throw new Error("A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { params: { { collection: [ { value: '1', label: 'One' } ] } } }");var r=t.labelKey||t[e.labelName],n=(t.labelKey||e.enableTranslateLabel)&&e._translate&&"function"==typeof e._translate.instant?e._translate.instant(r||" "):r;i+='<option value="'+t[e.valueName]+'">'+n+"</option>"}),'<select class="ms-filter search-filter">'+i+"</select>"},t.prototype.autoAdjustDropPosition=function(t,e){var i=$(window).innerHeight()||300,r=$("body").scrollTop()||0,n=(e.container?$(e.container):t).find(".ms-drop"),o=n.height()||0,a=n.offset().top;if(i-(a-r)<o){if(e.container){var s=a-o-26;s>0&&n.offset({top:s<0?0:s})}else n.addClass("top");n.removeClass("bottom")}else n.addClass("bottom"),n.removeClass("top")},t.prototype.createDomElement=function(t){var e=this;if(this.$editorElm=$(t),this.$editorElm&&"function"==typeof this.$editorElm.appendTo&&this.$editorElm.appendTo(this.args.container),"function"!=typeof this.$editorElm.multipleSelect)this.$editorElm.addClass("form-control");else{var i=this.columnDef.params?this.columnDef.params.elementOptions:{};this.editorElmOptions=Object.assign({},this.defaultOptions,i),this.$editorElm=this.$editorElm.multipleSelect(this.editorElmOptions),setTimeout(function(){return e.$editorElm.multipleSelect("open")})}},t.prototype.refresh=function(){"function"==typeof this.$editorElm.multipleSelect&&this.$editorElm.multipleSelect("refresh")},t}(),De=function(){function t(t){this.args=t,this.init()}return t.prototype.init=function(){this.$input=$("<input type=\"text\" class='editor-text' />").appendTo(this.args.container).on("keydown.nav",function(t){t.keyCode!==nt.LEFT&&t.keyCode!==nt.RIGHT||t.stopImmediatePropagation()}).focus().select()},t.prototype.destroy=function(){this.$input.remove()},t.prototype.focus=function(){this.$input.focus()},t.prototype.getValue=function(){return this.$input.val()},t.prototype.setValue=function(t){this.$input.val(t)},t.prototype.loadValue=function(t){this.defaultValue=t[this.args.column.field]||"",this.$input.val(this.defaultValue),this.$input[0].defaultValue=this.defaultValue,this.$input.select()},t.prototype.serializeValue=function(){return this.$input.val()},t.prototype.applyValue=function(t,e){t[this.args.column.field]=e},t.prototype.isValueChanged=function(){return!(""===this.$input.val()&&null===this.defaultValue)&&this.$input.val()!==this.defaultValue},t.prototype.validate=function(){if(this.args.column.validator){var t=this.args.column.validator(this.$input.val());if(!t.valid)return t}return{valid:!0,msg:null}},t}(),xe={checkbox:_e,date:Oe,"float":Te,integer:ke,longText:Ee,multipleSelect:Pe,singleSelect:Fe,text:De},Ie=function(t,e,i,r,n){if(i&&Array.isArray(i)){var o=i.join(", ");return'<span title="'+o+'">'+o+"</span>"}return""},Ae=function(t,e,i,r,n){return isNaN(+i)?'<span style="font-weight: bold">'+G(i,2,2)+"$</span>":""},$e=function(t,e,i,r,n){return i?"&#x2611;":""},Me=function(t,e,i,r,n){return i?'<i class="fa fa-check checkmark-icon" aria-hidden="true"></i>':""},Ve=function(t,e,i,r,n){if(!(i&&r&&r.params&&r.params.collection&&r.params.collection.length))return"";var o=r.params,a=r.params.collection,s=o.customStructure?o.customStructure.label:"label",l=o.customStructure?o.customStructure.value:"value";return Array.isArray(i)?Ie(0,0,i.map(function(t){return H(a,function(e){return e[l]===t})[s]})):H(a,function(t){return t[l]===i})[s]||""},Ne=function(t,e,i,r,n){if(!r)return"";return(r.field||"").split(".").reduce(function(t,e){return t?t[e]:""},n)},Re=o,Be=L(J.dateIso),He=function(t,e,i,r,n){return i?Re(i).format(Be):""},Ge=o,Le=L(J.dateTimeIso),ze=function(t,e,i,r,n){return i?Ge(i).format(Le):""},Ue=o,je=L(J.dateTimeIsoAmPm),qe=function(t,e,i,r,n){return i?Ue(i).format(je):""},We=o,Ye=L(J.dateTimeUsAmPm),Qe=function(t,e,i,r,n){return i?We(i).format(Ye):""},Ke=o,Xe=L(J.dateTimeUs),Ze=function(t,e,i,r,n){return i?Ke(i).format(Xe):""},Je=o,ti=L(J.dateUs),ei=function(t,e,i,r,n){return i?Je(i).format(ti):""},ii=function(t,e,i,r,n){return'<i class="fa fa-trash pointer delete-icon" aria-hidden="true"></i>'},ri=function(t,e,i,r,n){return isNaN(+i)?"":i>=0?'<span style="color:green; font-weight: bold;">$'+G(i,2,2)+"</span>":'<span style="color:red; font-weight: bold;">$'+G(i,2,2)+"</span>"},ni=function(t,e,i,r,n){return isNaN(+i)?"":i>=0?'<span style="color:green;">$'+G(i,2,2)+"</span>":'<span style="color:red;">$'+G(i,2,2)+"</span>"},oi=function(t,e,i,r,n){return isNaN(+i)?"":"$"+G(i,2,4)},ai=function(t,e,i,r,n){return'<i class="fa fa-pencil pointer edit-icon" aria-hidden="true"></i>'},si=function(t,e,i,r,n){if(i&&"string"==typeof i){var o=i.match(/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:\/~\+#]*[\w\-\@?^=%&amp;\/~\+#])?/i);if(o&&Array.isArray(o))return'<a href="'+o[0]+"\">' + value + '</a>"}return""},li=function(t,e,i,r,n){var o=r&&r.params&&r.params.uriPrefix?r.params.uriPrefix:"";if(!o)throw new Error("HyperlinkUriPrefix Formatter require a \"uriPrefix\" that can be passed through params. e.g.:: formatter: Formatters.hyperlinkUriPrefix, params: { uriPrefix: '/users/' }");return i&&o&&"string"==typeof o&&!o.includes("<script>")?'<a href="'+(o+=i)+'">'+i+"</a>":""},ui=function(t,e,i,r,n){return'<i class="fa fa-info-circle pointer info-icon" aria-hidden="true"></i>'},ci=function(t,e,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toLowerCase():""},di=function(t,e,i,r,n,o){var a=r.params||{};if(!a.formatters||!Array.isArray(a.formatters))throw new Error('The multiple formatter requires the "formatters" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }');var s=a.formatters,l=i;try{for(var u=I(s),c=u.next();!c.done;c=u.next()){l=(0,c.value)(t,e,l,r,n,o)}}catch(h){d={error:h}}finally{try{c&&!c.done&&(p=u["return"])&&p.call(u)}finally{if(d)throw d.error}}return l;var d,p},pi=function(t,e,i,r,n){return null===i||""===i?"-":i<50?"<span style='color:red;font-weight:bold;'>"+i+"%</span>":"<span style='color:green'>"+i+"%</span>"},hi=function(t,e,i,r,n){if(null===i||""===i)return"";return'<span class="percent-complete-bar" style="background:'+(i<30?"red":i<70?"silver":"green")+"; width:"+i+'%"></span>'},fi=function(t,e,i,r,n){if(null===i||""===i)return"";return'<div class="progress">\n    <div class="progress-bar progress-bar-'+(i<30?"danger":i<70?"warning":"success")+'" role="progressbar" aria-valuenow="'+i+'" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width: '+i+'%;">\n    '+i+"%\n    </div>\n  </div>"},mi=function(t,e,i,r,n,o){var a=o&&"function"==typeof o.getOptions?o.getOptions():{},s=r.params||{},l=(a.params||{}).i18n||s.i18n;if(!l||"function"!=typeof l.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "params".\n    For example: this.gridOptions = { enableTranslate: true, params: { i18n: this.translate }}');return i!==undefined&&"string"!=typeof i&&(i+=""),i?l.instant(i):""},gi=function(t,e,i,r,n,o){var a=o&&"function"==typeof o.getOptions?o.getOptions():{},s=r.params||{},l=(a.params||{}).i18n||s.i18n;if(!l||"function"!=typeof l.instant)throw new Error('The translate formatter requires the "ngx-translate" Service to be provided as a Grid Options or Column Definition "params".\n    For example: this.gridOptions = { enableTranslate: true, params: { i18n: this.translate }}');return i!==undefined&&"string"!=typeof i&&(i+=""),i?l.instant(i.toUpperCase()):""},vi=function(t,e,i,r,n){return i!==undefined&&"string"!=typeof i&&(i+=""),i?i.toUpperCase():""},yi=function(t,e,i,r,n){return i?"Yes":"No"},bi={arrayToCsv:Ie,bold:Ae,checkbox:$e,checkmark:Me,complexObject:Ne,collection:Ve,dateIso:He,dateTimeIso:ze,dateTimeIsoAmPm:qe,dateUs:ei,dateTimeUs:Ze,dateTimeUsAmPm:Qe,deleteIcon:ii,dollar:oi,dollarColored:ni,dollarColoredBold:ri,editIcon:ai,hyperlink:si,hyperlinkUriPrefix:li,infoIcon:ui,lowercase:ci,multiple:di,percentComplete:pi,percentCompleteBar:hi,progressBar:fi,translate:mi,translateBoolean:gi,uppercase:vi,yesNo:yi},Si=function(t,e,i){var r=e.field||"",n=t.avg&&t.avg[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+Math.round(n)+"%"+a:""},Ci=function(t,e,i){var r=e.field||"",n=t.avg&&t.avg[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+"$"+G(n,2,4)+a:""},_i=function(t,e,i){var r=e.field||"",n=t.avg&&t.avg[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+Math.round(n)+a:""},wi=function(t,e,i){var r=e.field||"",n=t.min&&t.min[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+a:""},Oi=function(t,e,i){var r=e.field||"",n=t.max&&t.max[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+a:""},Ti=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return isNaN(+n)?"":n>=0?'<span style="color:green;">'+(o+Math.round(1e6*parseFloat(n))/1e6+a)+"</span>":'<span style="color:red;">'+(o+Math.round(1e6*parseFloat(n))/1e6+a)+"</span>"},ki=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return isNaN(+n)?"":n>=0?'<span style="color:green; font-weight: bold;">'+o+"$"+G(n,2,2)+a+"</span>":'<span style="color:red; font-weight: bold;">'+o+"$"+G(n,2,2)+a+"</span>"},Ei=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return isNaN(+n)?"":n>=0?'<span style="color:green;">'+o+"$"+G(n,2,2)+a+"</span>":'<span style="color:red;">'+o+"$"+G(n,2,2)+a+"</span>"},Pi=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?'<span style="font-weight: bold;">'+o+"$"+G(n,2,4)+a+"</span>":""},Fi=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+"$"+G(n,2,2)+a:""},Di=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?o+Math.round(1e6*parseFloat(n))/1e6+a:""},xi=function(t,e,i){var r=e.field||"",n=t.sum&&t.sum[r],o=e.params&&e.params.groupFormatterPrefix?e.params.groupFormatterPrefix:"",a=e.params&&e.params.groupFormatterSuffix?e.params.groupFormatterSuffix:"";return null!=n?'<span style="font-weight: bold;">'+(o+Math.round(1e6*parseFloat(n))/1e6+a):""},Ii={avgTotals:_i,avgTotalsDollar:Ci,avgTotalsPercentage:Si,maxTotals:Oi,minTotals:wi,sumTotals:Di,sumTotalsBold:xi,sumTotalsColored:Ti,sumTotalsDollar:Fi,sumTotalsDollarBold:Pi,sumTotalsDollarColored:Ei,sumTotalsDollarColoredBold:ki},Ai=function(){function t(t,e){this.filterService=t,this.sortService=e,this._isFirstRender=!0,this.onPaginationChanged=new a.EventEmitter,this.dataFrom=1,this.dataTo=1,this.pageCount=0,this.pageNumber=1,this.totalItems=0,this.paginationPageSizes=[25,75,100],this.fromToParams={from:this.dataFrom,to:this.dataTo,totalItems:this.totalItems}}return Object.defineProperty(t.prototype,"gridPaginationOptions",{get:function(){return this._gridPaginationOptions},set:function(t){this._gridPaginationOptions=t,!this._isFirstRender&&t&&t.pagination&&t.pagination.totalItems===this.totalItems||(this.refreshPagination(),this._isFirstRender=!1)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){var t=this;this._gridPaginationOptions=this._gridPaginationOptions,this._gridPaginationOptions&&this._gridPaginationOptions.pagination&&this._gridPaginationOptions.pagination.totalItems===this.totalItems||this.refreshPagination(),this._filterSubcription=this.filterService.onFilterChanged.subscribe(function(e){t.refreshPagination(!0)})},t.prototype.ceil=function(t){return Math.ceil(t)},t.prototype.changeToFirstPage=function(t){this.pageNumber=1,this.onPageChanged(t,this.pageNumber)},t.prototype.changeToLastPage=function(t){this.pageNumber=this.pageCount,this.onPageChanged(t,this.pageNumber)},t.prototype.changeToNextPage=function(t){this.pageNumber<this.pageCount&&(this.pageNumber++,this.onPageChanged(t,this.pageNumber))},t.prototype.changeToPreviousPage=function(t){this.pageNumber>0&&(this.pageNumber--,this.onPageChanged(t,this.pageNumber))},t.prototype.changeToCurrentPage=function(t){this.pageNumber=t.currentTarget.value,this.pageNumber<1?this.pageNumber=1:this.pageNumber>this.pageCount&&(this.pageNumber=this.pageCount),this.onPageChanged(t,this.pageNumber)},t.prototype.dispose=function(){this.onPaginationChanged.unsubscribe(),this._filterSubcription&&this._filterSubcription.unsubscribe()},t.prototype.onChangeItemPerPage=function(t){var e=+t.target.value;this.pageCount=Math.ceil(this.totalItems/e),this.pageNumber=1,this.itemsPerPage=e,this.onPageChanged(t,this.pageNumber)},t.prototype.refreshPagination=function(t){void 0===t&&(t=!1);var e=this._gridPaginationOptions.backendServiceApi||this._gridPaginationOptions.onBackendEventApi;if(!e||!e.service||!e.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');if(this._gridPaginationOptions&&this._gridPaginationOptions.pagination){var i=this._gridPaginationOptions.pagination;this.itemsPerPage||(this.itemsPerPage=+(e&&e.options&&e.options.paginationOptions&&e.options.paginationOptions.first?e.options.paginationOptions.first:this._gridPaginationOptions.pagination.pageSize)),(t||this.totalItems!==i.totalItems)&&(this._isFirstRender&&i.pageNumber&&i.pageNumber>1?this.pageNumber=i.pageNumber||1:this.pageNumber=1,1===this.pageNumber&&e.service.resetPaginationOptions()),this.paginationPageSizes=this._gridPaginationOptions.pagination.pageSizes,this.totalItems=this._gridPaginationOptions.pagination.totalItems,this.recalculateFromToIndexes()}this.pageCount=Math.ceil(this.totalItems/this.itemsPerPage)},t.prototype.onPageChanged=function(t,e){return D(this,void 0,void 0,function(){var i,r,n,o,a;return x(this,function(s){switch(s.label){case 0:if(this.recalculateFromToIndexes(),!(i=this._gridPaginationOptions.backendServiceApi||this._gridPaginationOptions.onBackendEventApi)||!i.service||!i.process)throw new Error('BackendServiceApi requires at least a "process" function and a "service" defined');return this.dataTo>this.totalItems?this.dataTo=this.totalItems:this.totalItems<this.itemsPerPage&&(this.dataTo=this.totalItems),i?(r=+this.itemsPerPage,i.preProcess&&i.preProcess(),n=i.service.onPaginationChanged(t,{newPage:e,pageSize:r}),o=i.process(n),[4,B(o)]):[3,2];case 1:return(a=s.sent())&&i.internalPostProcess&&i.internalPostProcess(a),i.postProcess&&i.postProcess(a),[3,3];case 2:throw new Error('Pagination with a backend service requires "BackendServiceApi" to be defined in your grid options');case 3:return this.onPaginationChanged.emit({pageNumber:this.pageNumber,pageSizes:this.paginationPageSizes,pageSize:this.itemsPerPage,totalItems:this.totalItems}),[2]}})})},t.prototype.recalculateFromToIndexes=function(){this.dataFrom=this.pageNumber*this.itemsPerPage-this.itemsPerPage+1,this.dataTo=this.totalItems<this.itemsPerPage?this.totalItems:this.pageNumber*this.itemsPerPage},t}();Ai.decorators=[{type:a.Component,args:[{selector:"slick-pagination",template:'<div class="slick-pagination">\n    <div class="slick-pagination-nav">\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="pageNumber === 1 ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-first fa fa-angle-double-left" aria-label="First" (click)="changeToFirstPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="pageNumber === 1 ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-prev fa fa-angle-left" aria-label="Previous" (click)="changeToPreviousPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n        <div class="slick-page-number">\n            <span [translate]="\'PAGE\'"></span>\n            <input type="text" class="form-control" value="{{pageNumber}}" size="1"  (change)="changeToCurrentPage($event)">\n            <span [translate]="\'OF\'"></span><span> {{pageCount}}</span>\n        </div>\n        <nav aria-label="Page navigation">\n        <ul class="pagination">\n            <li class="page-item" [ngClass]="pageNumber === pageCount ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-next text-center fa fa-lg fa-angle-right" aria-label="Next" (click)="changeToNextPage($event)">\n            </a>\n            </li>\n            <li class="page-item" [ngClass]="pageNumber === pageCount ? \'disabled\' : \'\'">\n            <a class="page-link icon-seek-end fa fa-lg fa-angle-double-right" aria-label="Last" (click)="changeToLastPage($event)">\n            </a>\n            </li>\n        </ul>\n        </nav>\n    </div>\n    <span class="slick-pagination-settings">\n        <select id="items-per-page-label" [value]="itemsPerPage" (change)="onChangeItemPerPage($event)">\n        <option value="{{pageSize}}" *ngFor="let pageSize of paginationPageSizes;">{{pageSize}}</option>\n        </select>\n        <span [translate]="\'ITEMS_PER_PAGE\'"></span>,\n        <span class="slick-pagination-count">\n            <span [translate]="\'FROM_TO_OF_TOTAL_ITEMS\'" [translateParams]="{ from: dataFrom, to: dataTo, totalItems: totalItems }"></span>\n        </span>\n    </span>\n    </div>\n'}]},{type:a.Injectable}],Ai.ctorParameters=function(){return[{type:Xt},{type:te}]},Ai.propDecorators={onPaginationChanged:[{type:a.Output}],gridPaginationOptions:[{type:a.Input}],grid:[{type:a.Input}]};var $i={autoEdit:!1,asyncEditorLoading:!1,autoFitColumnsOnFirstLoad:!0,autoResize:{bottomPadding:20,minHeight:180,minWidth:300,sidePadding:0},cellHighlightCssClass:"slick-cell-modified",checkboxSelector:{cssClass:"slick-cell-checkboxsel"},columnPicker:{hideForceFitButton:!1,hideSyncResizeButton:!0},datasetIdPropertyName:"id",defaultFilterPlaceholder:"&#128269;",defaultFilterType:et.input,editable:!1,enableAutoResize:!0,enableCellNavigation:!1,enableColumnPicker:!0,enableColumnReorder:!0,enableExport:!0,enableGridMenu:!0,enableHeaderMenu:!0,enableMouseHoverHighlightRow:!0,enableSorting:!0,enableTextSelectionOnCells:!0,explicitInitialization:!0,exportOptions:{delimiter:Z.comma,exportWithFormatter:!1,filename:"export",format:tt.csv,groupingAggregatorRowText:"",sanitizeDataExport:!1,useUtf8WithBom:!0},exportWithFormatter:!1,forceFitColumns:!1,gridMenu:{hideForceFitButton:!1,hideSyncResizeButton:!0,iconCssClass:"fa fa-bars",iconClearAllFiltersCommand:"fa fa-filter text-danger",iconClearAllSortingCommand:"fa fa-unsorted text-danger",iconExportCsvCommand:"fa fa-download",iconExportTextDelimitedCommand:"fa fa-download",iconRefreshDatasetCommand:"fa fa-refresh",iconToggleFilterCommand:"fa fa-random",menuWidth:16,resizeOnShowHeaderRow:!1,showClearAllFiltersCommand:!0,showClearAllSortingCommand:!0,showExportCsvCommand:!0,showRefreshDatasetCommand:!0,showToggleFilterCommand:!0},headerMenu:{autoAlign:!0,autoAlignOffset:12,minWidth:140,iconSortAscCommand:"fa fa-sort-asc",iconSortDescCommand:"fa fa-sort-desc",iconColumnHideCommand:"fa fa-times",showColumnHideCommand:!0,showSortCommands:!0},headerRowHeight:35,multiColumnSort:!0,numberedMultiColumnSort:!0,tristateMultiColumnSort:!1,sortColNumberInSeparateSpan:!0,pagination:{pageSizes:[10,15,20,25,30,40,50,75,100],pageSize:25,totalItems:0},rowHeight:35,showHeaderRow:!1,topPanelHeight:35},Mi=function(){function t(t,e,i,r,n,o,s,l,u,c,d,p){this.controlAndPluginService=t,this.exportService=e,this.filterService=i,this.gridExtraService=r,this.gridEventService=n,this.gridStateService=o,this.groupingAndColspanService=s,this.resizer=l,this.sharedService=u,this.sortService=c,this.translate=d,this.forRootConfig=p,this._eventHandler=new Slick.EventHandler,this.groupingDefinition={},this.showPagination=!1,this.isGridInitialized=!1,this.onDataviewCreated=new a.EventEmitter,this.onGridCreated=new a.EventEmitter,this.onGridInitialized=new a.EventEmitter,this.onBeforeGridCreate=new a.EventEmitter,this.onBeforeGridDestroy=new a.EventEmitter,this.onAfterGridDestroyed=new a.EventEmitter,this.onGridStateServiceChanged=new a.EventEmitter,this.gridHeight=100,this.gridWidth=600}return Object.defineProperty(t.prototype,"columnDefinitions",{get:function(){return this._columnDefinitions},set:function(t){this._columnDefinitions=t,this.isGridInitialized&&this.updateColumnDefinitionsList(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataView.getItems()},set:function(t){this._dataset=t,this.refreshGridData(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.onBeforeGridCreate.emit(!0),this.gridOptions.enableAutoResize||this.gridOptions.autoResize||(this.gridHeightString=this.gridHeight+"px",this.gridWidthString=this.gridWidth+"px")},t.prototype.ngOnDestroy=function(){this.onBeforeGridDestroy.emit(this.grid),this.destroy(),this.onAfterGridDestroyed.emit(!0)},t.prototype.destroy=function(){this._dataView=[],this.gridOptions={},this._eventHandler.unsubscribeAll(),this.controlAndPluginService.dispose(),this.filterService.dispose(),this.gridEventService.dispose(),this.gridStateService.dispose(),this.groupingAndColspanService.dispose(),this.resizer.dispose(),this.sortService.dispose(),this.grid.destroy(),this._translateSubscriber&&this._translateSubscriber.unsubscribe(),this._gridStateSubscriber&&this._gridStateSubscriber.unsubscribe()},t.prototype.ngAfterViewInit=function(){this.initialization(),this.isGridInitialized=!0},t.prototype.initialization=function(){this._dataset=this._dataset||[],this.gridOptions=this.mergeGridOptions(this.gridOptions),this.createBackendApiInternalPostProcessCallback(this.gridOptions),this.gridOptions.enableGrouping?(this.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider,this.sharedService.groupItemMetadataProvider=this.groupItemMetadataProvider,this._dataView=new Slick.Data.DataView({groupItemMetadataProvider:this.groupItemMetadataProvider,inlineFilters:!0})):this._dataView=new Slick.Data.DataView,this.controlAndPluginService.createPluginBeforeGridCreation(this._columnDefinitions,this.gridOptions),this.grid=new Slick.Grid("#"+this.gridId,this._dataView,this._columnDefinitions,this.gridOptions),this.sharedService.init(this.grid,this._dataView,this.gridOptions,this._columnDefinitions),this.controlAndPluginService.attachDifferentControlOrPlugins(),this.attachDifferentHooks(this.grid,this.gridOptions,this._dataView),this.onGridCreated.emit(this.grid),this.onDataviewCreated.emit(this._dataView),this.grid.init(),this._dataView.beginUpdate(),this._dataView.setItems(this._dataset,this.gridOptions.datasetIdPropertyName),this._dataView.endUpdate(),this.attachResizeHook(this.grid,this.gridOptions),this.gridOptions.createPreHeaderPanel&&this.groupingAndColspanService.init(this.grid,this._dataView),this.gridExtraService.init(this.grid,this._columnDefinitions,this.gridOptions,this._dataView),this.gridOptions.enableTranslate&&this.controlAndPluginService.translateHeaders(),this.gridOptions.enableExport&&this.exportService.init(this.grid,this.gridOptions,this._dataView),this.onGridInitialized.emit(this.grid),this.gridOptions&&(this.gridOptions.backendServiceApi||this.gridOptions.onBackendEventApi)&&this.attachBackendCallbackFunctions(this.gridOptions),this.gridStateService.init(this.grid,this.filterService,this.sortService)},t.prototype.createBackendApiInternalPostProcessCallback=function(t){var e=this;if(t&&(t.backendServiceApi||t.onBackendEventApi)){var i=t.backendServiceApi||t.onBackendEventApi;i&&i.service&&i.service instanceof oe&&(i.internalPostProcess=function(t){var r=i&&i.service&&"function"==typeof i.service.getDatasetName?i.service.getDatasetName():"";t&&t.data&&t.data[r]?(e._dataset=t.data[r].nodes,e.refreshGridData(e._dataset,t.data[r].totalCount)):e._dataset=[]})}},t.prototype.attachDifferentHooks=function(t,e,i){var r=this;if(this._translateSubscriber=this.translate.onLangChange.subscribe(function(t){e.enableTranslate&&(r.controlAndPluginService.translateHeaders(),r.controlAndPluginService.translateColumnPicker(),r.controlAndPluginService.translateGridMenu())}),e.enableSorting&&(e.backendServiceApi||e.onBackendEventApi?this.sortService.attachBackendOnSort(t,i):this.sortService.attachLocalOnSort(t,i)),e.enableFiltering&&(this.filterService.init(t,e,this._columnDefinitions),e.presets&&e.presets.filters&&this.filterService.populateColumnFilterSearchTerms(e,this._columnDefinitions),e.backendServiceApi||e.onBackendEventApi?this.filterService.attachBackendOnFilter(t,e):this.filterService.attachLocalOnFilter(t,e,this._dataView)),e.backendServiceApi||e.onBackendEventApi){var n=e.backendServiceApi||e.onBackendEventApi;e.onBackendEventApi&&console.warn('"onBackendEventApi" has been DEPRECATED, please consider using "backendServiceApi" in the short term since "onBackendEventApi" will be removed in future versions. You can take look at the Angular-Slickgrid Wikis for OData/GraphQL Services implementation'),n&&n.service&&n.service.init&&n.service.init(n.options,e.pagination,this.grid)}this._gridStateSubscriber=this.gridStateService.onGridStateChanged.subscribe(function(t){r.onGridStateServiceChanged.emit(t)}),this.gridEventService.attachOnCellChange(t,this.gridOptions,i),this.gridEventService.attachOnClick(t,this.gridOptions,i),this._eventHandler.subscribe(i.onRowCountChanged,function(e,i){t.updateRowCount(),t.render()}),this._eventHandler.subscribe(i.onRowsChanged,function(e,i){t.invalidateRows(i.rows),t.render()}),e.colspanCallback&&(this._dataView.getItemMetadata=function(t){var i=r._dataView.getItem(t);return e.colspanCallback(i)})},t.prototype.attachBackendCallbackFunctions=function(t){var e=this,i=t.backendServiceApi||t.onBackendEventApi,r=i&&i.service&&i.service.options?i.service.options:{},n=!!r&&(!r||!r.hasOwnProperty("executeProcessCommandOnInit")||r.executeProcessCommandOnInit);if(i){var o=i.service;if(t&&t.presets)o&&o.updateFilters&&t.presets.filters&&o.updateFilters(t.presets.filters,!0),o&&o.updateSorters&&t.presets.sorters&&o.updateSorters(undefined,t.presets.sorters),o&&o.updatePagination&&t.presets.pagination&&o.updatePagination(t.presets.pagination.pageNumber,t.presets.pagination.pageSize);else{var a=this.filterService.getColumnFilters();a&&o&&o.updateFilters&&o.updateFilters(a,!1)}}if(i&&i.service&&(i.onInit||n)){var s="function"==typeof i.service.buildQuery?i.service.buildQuery():"",l=n?i.process(s):i.onInit(s);setTimeout(function(){return D(e,void 0,void 0,function(){var t;return x(this,function(e){switch(e.label){case 0:return i.preProcess&&i.preProcess(),[4,B(l)];case 1:return(t=e.sent())&&i&&i.service instanceof oe&&i.internalPostProcess&&i.internalPostProcess(t),i.postProcess&&i.postProcess(t),[2]}})})})}},t.prototype.attachResizeHook=function(t,e){t&&e.autoFitColumnsOnFirstLoad&&t.autosizeColumns(),this.resizer.init(t),e.enableAutoResize&&(this.resizer.attachAutoResizeDataGrid(),t&&e.autoFitColumnsOnFirstLoad&&t.autosizeColumns())},t.prototype.mergeGridOptions=function(t){return t.gridId=this.gridId,t.gridContainerId="slickGridContainer-"+this.gridId,(t.enableFiltering||this.forRootConfig.enableFiltering)&&(t.showHeaderRow=!0),$.extend(!0,{},$i,this.forRootConfig,t)},t.prototype.paginationChanged=function(t){this.gridStateService.onGridStateChanged.next({change:{newValues:t,type:rt.pagination},gridState:this.gridStateService.getCurrentGridState()})},t.prototype.refreshGridData=function(t,e){t&&this.grid&&this._dataView&&"function"==typeof this._dataView.setItems&&(this._dataView.setItems(t,this.gridOptions.datasetIdPropertyName),this.grid.invalidate(),this.grid.render(),(this.gridOptions.enablePagination||this.gridOptions.backendServiceApi)&&(this.showPagination=!(!this.gridOptions.backendServiceApi||this.gridOptions.enablePagination!==undefined)||this.gridOptions.enablePagination||!1,this.gridOptions.pagination||(this.gridOptions.pagination=this.gridOptions.pagination?this.gridOptions.pagination:undefined),this.gridOptions.pagination&&e&&(this.gridOptions.pagination.totalItems=e),this.gridOptions.presets&&this.gridOptions.presets.pagination&&this.gridOptions.pagination&&(this.gridOptions.pagination.pageSize=this.gridOptions.presets.pagination.pageSize,this.gridOptions.pagination.pageNumber=this.gridOptions.presets.pagination.pageNumber),this.gridPaginationOptions=this.mergeGridOptions(this.gridOptions)),this.grid&&this.gridOptions.enableAutoResize&&this.resizer.resizeGrid(10))},t.prototype.updateColumnDefinitionsList=function(t){this.grid.setColumns(t),this.gridOptions.enableTranslate&&this.controlAndPluginService.translateHeaders()},t.prototype.showHeaderRow=function(t){return this.grid.setHeaderRowVisibility(t),t},t.prototype.toggleHeaderRow=function(){var t=!this.grid.getOptions().showHeaderRow;return this.grid.setHeaderRowVisibility(t),t},t}();Mi.decorators=[{type:a.Injectable},{type:a.Component,args:[{selector:"angular-slickgrid",template:'<div id="slickGridContainer-{{gridId}}" class="gridPane" [style.width]="gridWidthString">\n    <div attr.id=\'{{gridId}}\' class="slickgrid-container" style="width: 100%" [style.height]="gridHeightString">\n    </div>\n    <slick-pagination id="slickPagingContainer-{{gridId}}"\n        *ngIf="showPagination"\n        (onPaginationChanged)="paginationChanged($event)"\n        [gridPaginationOptions]="gridPaginationOptions">\n    </slick-pagination>\n</div>\n'}]}],Mi.ctorParameters=function(){return[{type:ee},{type:Zt},{type:Xt},{type:pe},{type:de},{type:fe},{type:me},{type:ge},{type:Jt},{type:te},{type:s.TranslateService},{type:undefined,decorators:[{type:a.Inject,args:["config"]}]}]},Mi.propDecorators={onDataviewCreated:[{type:a.Output}],onGridCreated:[{type:a.Output}],onGridInitialized:[{type:a.Output}],onBeforeGridCreate:[{type:a.Output}],onBeforeGridDestroy:[{type:a.Output}],onAfterGridDestroyed:[{type:a.Output}],onGridStateServiceChanged:[{type:a.Output}],gridId:[{type:a.Input}],gridOptions:[{type:a.Input}],gridHeight:[{type:a.Input}],gridWidth:[{type:a.Input}],columnDefinitions:[{type:a.Input}],dataset:[{type:a.Input}]};var Vi=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[{provide:"config",useValue:e},wt,ee,Zt,Xt,oe,de,pe,ue,fe,me,se,ge,Jt,te]}},t}();Vi.decorators=[{type:a.NgModule,args:[{imports:[F.CommonModule,s.TranslateModule],declarations:[Mi,Ai],exports:[Mi,Ai]}]}],Vi.ctorParameters=function(){return[]},t.SlickPaginationComponent=Ai,t.AngularSlickgridComponent=Mi,t.AngularSlickgridModule=Vi,t.CaseType=X,t.DelimiterType=Z,t.FieldType=J,t.FileType=tt,t.FilterType=et,t.FormElementType=it,t.GridStateType=rt,t.KeyCode=nt,t.OperatorType=ot,t.SortDirection=at,t.SortDirectionNumber=st,t.CollectionService=wt,t.ControlAndPluginService=ee,t.ExportService=Zt,t.FilterService=Xt,t.GraphqlService=oe,t.GridOdataService=ue,t.GridEventService=de,t.GridExtraService=pe,t.GridExtraUtils=he,t.GridStateService=fe,t.GroupingAndColspanService=me,t.OdataService=se,t.ResizerService=ge,t.SharedService=Jt,t.SortService=te,t.addWhiteSpaces=V,t.htmlEntityDecode=N,t.htmlEntityEncode=function(t){for(var e=[],i=t.length-1;i>=0;i--)e.unshift(["&#",t[i].charCodeAt(),";"].join(""));return e.join("")},t.arraysEqual=R,t.castToPromise=B,t.findOrDefault=H,t.decimalFormatted=G,t.mapMomentDateFormatWithFieldType=L,t.mapFlatpickrDateFormatWithFieldType=z,t.mapOperatorType=U,t.mapOperatorByFieldType=j,t.mapOperatorByFilterType=q,t.parseUtcDate=W,t.toCamelCase=Y,t.toKebabCase=function(t){return Y(t).replace(/([A-Z])/g,"-$1").toLowerCase()},t.Aggregators=Ce,t.Editors=xe,t.FilterConditions=zt,t.Filters=Kt,t.Formatters=bi,t.GroupTotalFormatters=Ii,t.Sorters=_t,t.ɵa=ve,t.ɵc=be,t.ɵb=ye,t.ɵd=Se,t.ɵe=_e,t.ɵf=Oe,t.ɵg=Te,t.ɵh=ke,t.ɵi=Ee,t.ɵj=Pe,t.ɵk=Fe,t.ɵl=De,t.ɵn=Ot,t.ɵo=Bt,t.ɵp=Et,t.ɵq=Dt,t.ɵs=At,t.ɵt=Vt,t.ɵr=Rt,t.ɵm=Lt,t.ɵw=Tt,t.ɵu=Ht,t.ɵv=Gt,t.ɵbb=Ut,t.ɵbc=jt,t.ɵx=qt,t.ɵy=Wt,t.ɵba=Yt,t.ɵz=Qt,t.ɵbd=Ie,t.ɵbe=Ae,t.ɵbf=$e,t.ɵbg=Me,t.ɵbi=Ve,t.ɵbh=Ne,t.ɵbj=He,t.ɵbl=qe,t.ɵbk=ze,t.ɵbo=Qe,t.ɵbn=Ze,t.ɵbm=ei,t.ɵbp=ii,t.ɵbs=ri,t.ɵbr=ni,t.ɵbq=oi,t.ɵbt=ai,t.ɵbu=si,t.ɵbv=li,t.ɵbw=ui,t.ɵbx=ci,t.ɵby=di,t.ɵca=hi,t.ɵbz=pi,t.ɵcb=fi,t.ɵcd=gi,t.ɵcc=mi,t.ɵce=vi,t.ɵcf=yi,t.ɵch=Ci,t.ɵcg=_i,t.ɵci=Si,t.ɵcj=Oi,t.ɵck=wi,t.ɵcm=xi,t.ɵcn=Ti,t.ɵcp=Pi,t.ɵcr=ki,t.ɵcq=Ei,t.ɵco=Fi,t.ɵcl=Di,t.ɵct=gt,t.ɵcs=ht,t.ɵcv=dt,t.ɵcu=bt,t.ɵcw=St,t.ɵcx=Ct,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-slickgrid.umd.min.js.map
