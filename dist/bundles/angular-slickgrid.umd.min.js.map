{
  "version": 3,
  "file": "angular-slickgrid.umd.min.js",
  "sources": [
    "ng://angular-slickgrid/node_modules/tslib/tslib.es6.js",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/models/delimiterType.enum.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/models/fileType.enum.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/models/gridStateType.enum.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/models/operatorType.enum.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/models/sortDirection.enum.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/utilities.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/compareDateUtility.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/dateUsShortSorter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/dateSorter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/dateIsoSorter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/dateUsSorter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/numericSorter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/stringSorter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/sorters/sorterUtilities.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/collection.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/booleanFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/filterUtilities.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/dateFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/dateIsoFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/dateUsFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/dateUsShortFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/dateUtcFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/collectionSearchFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/numberFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/stringFilterCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/executeMappedCondition.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filter-conditions/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/compoundDateFilter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/compoundInputFilter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/inputFilter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/multipleSelectFilter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/selectFilter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/singleSelectFilter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/filters/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/filter.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/export.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/sort.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/controlAndPlugin.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/graphqlQueryBuilder.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/graphql.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/global-utilities.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/odata.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/grid-odata.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/gridEvent.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/resizer.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/grid.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/gridState.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/services/groupingAndColspan.service.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/aggregators/avgAggregator.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/aggregators/minAggregator.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/aggregators/maxAggregator.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/aggregators/sumAggregator.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/aggregators/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/checkboxEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/dateEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/floatEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/integerEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/longTextEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/multipleSelectEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/singleSelectEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/textEditor.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/editors/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/arrayToCsvFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/boldFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/checkboxFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/checkmarkFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/collectionFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/collectionEditorFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/complexObjectFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dateIsoFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dateTimeIsoFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dateTimeIsoAmPmFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dateTimeUsAmPmFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dateTimeUsFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dateUsFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/deleteIconFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dollarColoredBoldFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dollarColoredFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/dollarFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/editIconFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/hyperlinkFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/hyperlinkUriPrefixFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/infoIconFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/lowercaseFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/multipleFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/percentFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/percentCompleteBarFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/percentCompleteFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/percentSymbolFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/progressBarFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/translateFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/translateBooleanFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/uppercaseFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/yesNoFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/formatters/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/avgTotalsPercentageFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/avgTotalsDollarFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/avgTotalsFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/minTotalsFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/maxTotalsFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsColoredFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsDollarColoredBoldFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsDollarColoredFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsDollarBoldFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsDollarFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/sumTotalsBoldFormatter.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/grouping-formatters/index.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/components/slick-pagination.component.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/global-grid-options.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/components/angular-slickgrid.component.ts",
    "ng://angular-slickgrid/out/app/modules/angular-slickgrid/modules/angular-slickgrid.module.ts"
  ],
  "sourcesContent": [
    "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n",
    "export enum DelimiterType {\r\n  colon = ':',\r\n  comma = ',',\r\n  equalSign = '=',\r\n  pipe = '|',\r\n  semicolon = ';',\r\n  space = ' ',\r\n  tab = '\\t',\r\n\r\n  doubleColon = '::',\r\n  doublePipe = '||',\r\n  doubleSemicolon = ';;',\r\n}\r\n\r\n",
    "export enum FileType {\r\n  csv = 'csv',\r\n  doc = 'doc',\r\n  docx = 'docx',\r\n  pdf = 'pdf',\r\n  txt = 'txt',\r\n  xls = 'xls',\r\n  xlsx = 'xlsx'\r\n}\r\n",
    "export enum GridStateType {\r\n  filter = 'filter',\r\n  pagination = 'pagination',\r\n  sorter = 'sorter'\r\n}\r\n",
    "export enum OperatorType {\r\n  contains = 'Contains',\r\n  lessThan = 'LT',\r\n  lessThanOrEqual = 'LE',\r\n  greaterThan = 'GT',\r\n  greaterThanOrEqual = 'GE',\r\n  notEqual = 'NE',\r\n  equal = 'EQ',\r\n  endsWith = 'EndsWith',\r\n  startsWith = 'StartsWith',\r\n  in = 'IN',\r\n  notIn = 'NIN'\r\n}\r\n",
    "export enum SortDirection {\r\n  asc = 'asc',\r\n  ASC = 'ASC',\r\n  desc = 'desc',\r\n  DESC = 'DESC'\r\n}\r\n",
    "import { FieldType, OperatorType, FilterType } from '../models/index';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/first';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/toPromise';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\n\n/** Simple function to which will loop and create as demanded the number of white spaces,\n * this will be used in the Excel export\n * @param int nbSpaces: number of white spaces to create\n */\nexport function addWhiteSpaces(nbSpaces): string {\n  let result = '';\n\n  for (let i = 0; i < nbSpaces; i++) {\n    result += ' ';\n  }\n  return result;\n}\n\n/** decode text into html entity\n * @param string text: input text\n * @param string text: output text\n */\nexport function htmlEntityDecode(input: string): string {\n  return input.replace(/&#(\\d+);/g, function (match, dec) {\n    return String.fromCharCode(dec);\n  });\n}\n\n/** decode text into html entity\n * @param string text: input text\n * @param string text: output text\n */\nexport function htmlEntityEncode(input: any): string {\n  const buf = [];\n  for (let i = input.length - 1; i >= 0; i--) {\n    buf.unshift(['&#', input[i].charCodeAt(), ';'].join(''));\n  }\n  return buf.join('');\n}\n\n/**\n * Compares two arrays to determine if all the items are equal\n * @param a first array\n * @param b second array to compare with a\n * @param [orderMatters=false] flag if the order matters, if not arrays will be sorted\n * @return boolean true if equal, else false\n */\nexport function arraysEqual(a: any[], b: any[], orderMatters: boolean = false): boolean {\n  if (a === b) {\n    return true;\n  }\n\n  if (a === null || b === null) {\n    return false;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  if (!orderMatters) {\n    a.sort();\n    b.sort();\n  }\n\n  for (let i = 0; i < a.length; ++i) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Try casting an input of type Promise | Observable into a Promise type.\n * @param object which could be of type Promise or Observable\n * @param fromServiceName string representing the caller service name and will be used if we throw a casting problem error\n */\nexport function castToPromise<T>(input: Promise<T> | Observable<T>, fromServiceName: string = ''): Promise<T> {\n  let promise: any = input;\n\n  if (input instanceof Promise) {\n    // if it's already a Promise then return it\n    return input;\n  } else if (input instanceof Observable) {\n    promise = input.first().toPromise();\n    if (!(promise instanceof Promise)) {\n      promise = input.take(1).toPromise();\n    }\n    if (!(promise instanceof Promise)) {\n      throw new Error(\n        `Something went wrong, Angular-Slickgrid ${fromServiceName} is not able to convert the Observable into a Promise.\n        If you are using Angular HttpClient, you could try converting your http call to a Promise with \".toPromise()\"\n        for example::  this.http.post('graphql', { query: graphqlQuery }).toPromise()\n        `);\n    }\n  }\n\n  return promise;\n}\n\n/**\n * Uses the logic function to find an item in an array or returns the default\n * value provided (empty object by default)\n * @param any[] array the array to filter\n * @param function logic the logic to find the item\n * @param any [defaultVal={}] the default value to return\n * @return object the found object or deafult value\n */\nexport function findOrDefault(array: any[], logic: (item: any) => boolean, defaultVal = {}): any {\n  return array.find(logic) || defaultVal;\n}\n\n/**\n  * Take a number (or a string) and display it as a formatted decimal string with defined minimum and maximum decimals\n  * @param input\n  * @param minDecimal\n  * @param maxDecimal\n  */\nexport function decimalFormatted(input: number | string, minDecimal?: number, maxDecimal?: number) {\n  if (isNaN(+input)) {\n    return input;\n  }\n\n  const minDec = (minDecimal === undefined) ? 2 : minDecimal;\n  const maxDec = (maxDecimal === undefined) ? 2 : maxDecimal;\n  let amount = String(Math.round(+input * Math.pow(10, maxDec)) / Math.pow(10, maxDec));\n\n  if (amount.indexOf('.') < 0) {\n    amount += '.';\n  }\n  while ((amount.length - amount.indexOf('.')) <= minDec) {\n    amount += '0';\n  }\n  return amount;\n}\n\n/**\n * From a Date FieldType, return it's equivalent moment.js format\n * refer to moment.js for the format standard used: https://momentjs.com/docs/#/parsing/string-format/\n * @param fieldType\n */\nexport function mapMomentDateFormatWithFieldType(fieldType: FieldType): string {\n  let map: string;\n  switch (fieldType) {\n    case FieldType.dateTime:\n    case FieldType.dateTimeIso:\n      map = 'YYYY-MM-DD HH:mm:ss';\n      break;\n    case FieldType.dateTimeIsoAmPm:\n      map = 'YYYY-MM-DD hh:mm:ss a';\n      break;\n    case FieldType.dateTimeIsoAM_PM:\n      map = 'YYYY-MM-DD hh:mm:ss A';\n      break;\n    case FieldType.dateUs:\n      map = 'MM/DD/YYYY';\n      break;\n    case FieldType.dateUsShort:\n      map = 'M/D/YY';\n      break;\n    case FieldType.dateTimeUs:\n      map = 'MM/DD/YYYY HH:mm:ss';\n      break;\n    case FieldType.dateTimeUsAmPm:\n      map = 'MM/DD/YYYY hh:mm:ss a';\n      break;\n    case FieldType.dateTimeUsAM_PM:\n      map = 'MM/DD/YYYY hh:mm:ss A';\n      break;\n    case FieldType.dateTimeUsShort:\n      map = 'M/D/YY H:m:s';\n      break;\n    case FieldType.dateTimeUsShortAmPm:\n      map = 'M/D/YY h:m:s a';\n      break;\n    case FieldType.dateUtc:\n      map = 'YYYY-MM-DDTHH:mm:ss.SSSZ';\n      break;\n    case FieldType.date:\n    case FieldType.dateIso:\n    default:\n      map = 'YYYY-MM-DD';\n      break;\n  }\n  return map;\n}\n\n/**\n * From a Date FieldType, return it's equivalent Flatpickr format\n * refer to Flatpickr for the format standard used: https://chmln.github.io/flatpickr/formatting/#date-formatting-tokens\n * also note that they seem very similar to PHP format (except for am/pm): http://php.net/manual/en/function.date.php\n * @param fieldType\n */\nexport function mapFlatpickrDateFormatWithFieldType(fieldType: FieldType): string {\n  /*\n    d: Day of the month, 2 digits with leading zeros\t01 to 31\n    D: A textual representation of a day\tMon through Sun\n    l: (lowercase 'L')\tA full textual representation of the day of the week\tSunday through Saturday\n    j: Day of the month without leading zeros\t1 to 31\n    J: Day of the month without leading zeros and ordinal suffix\t1st, 2nd, to 31st\n    w: Numeric representation of the day of the week\t0 (for Sunday) through 6 (for Saturday)\n    F: A full textual representation of a month\tJanuary through December\n    m: Numeric representation of a month, with leading zero\t01 through 12\n    n: Numeric representation of a month, without leading zeros\t1 through 12\n    M: A short textual representation of a month\tJan through Dec\n    U: The number of seconds since the Unix Epoch\t1413704993\n    y: A two digit representation of a year\t99 or 03\n    Y: A full numeric representation of a year, 4 digits\t1999 or 2003\n    H: Hours (24 hours)\t00 to 23\n    h: Hours\t1 to 12\n    i: Minutes\t00 to 59\n    S: Seconds, 2 digits\t00 to 59\n    s: Seconds\t0, 1 to 59\n    K: AM/PM\tAM or PM\n  */\n  let map: string;\n  switch (fieldType) {\n    case FieldType.dateTime:\n    case FieldType.dateTimeIso:\n      map = 'Y-m-d H:i:S';\n      break;\n    case FieldType.dateTimeIsoAmPm:\n      map = 'Y-m-d h:i:S K'; // there is no lowercase in Flatpickr :(\n      break;\n    case FieldType.dateTimeIsoAM_PM:\n      map = 'Y-m-d h:i:S K';\n      break;\n    case FieldType.dateUs:\n      map = 'm/d/Y';\n      break;\n    case FieldType.dateUsShort:\n      map = 'm/d/y';\n      break;\n    case FieldType.dateTimeUs:\n      map = 'm/d/Y H:i:S';\n      break;\n    case FieldType.dateTimeUsAmPm:\n      map = 'm/d/Y h:i:S K'; // there is no lowercase in Flatpickr :(\n      break;\n    case FieldType.dateTimeUsAM_PM:\n      map = 'm/d/Y h:i:s K';\n      break;\n    case FieldType.dateTimeUsShort:\n      map = 'm/d/y H:i:s';\n      break;\n    case FieldType.dateTimeUsShortAmPm:\n      map = 'm/d/y h:i:s K'; // there is no lowercase in Flatpickr :(\n      break;\n    case FieldType.dateUtc:\n      map = 'Z';\n      break;\n    case FieldType.date:\n    case FieldType.dateIso:\n    default:\n      map = 'Y-m-d';\n      break;\n  }\n  return map;\n}\n\n/**\n * Mapper for query operators (ex.: <= is \"le\", > is \"gt\")\n * @param string operator\n * @returns string map\n */\nexport function mapOperatorType(operator: string): OperatorType {\n  let map: OperatorType;\n\n  switch (operator) {\n    case '<':\n      map = OperatorType.lessThan;\n      break;\n    case '<=':\n      map = OperatorType.lessThanOrEqual;\n      break;\n    case '>':\n      map = OperatorType.greaterThan;\n      break;\n    case '>=':\n      map = OperatorType.greaterThanOrEqual;\n      break;\n    case '<>':\n    case '!=':\n    case 'neq':\n    case 'NEQ':\n      map = OperatorType.notEqual;\n      break;\n    case '*':\n    case '.*':\n    case 'startsWith':\n      map = OperatorType.startsWith;\n      break;\n    case '*.':\n    case 'endsWith':\n      map = OperatorType.endsWith;\n      break;\n    case '=':\n    case '==':\n    case 'eq':\n    case 'EQ':\n      map = OperatorType.equal;\n      break;\n    case 'in':\n    case 'IN':\n      map = OperatorType.in;\n      break;\n    case 'notIn':\n    case 'NIN':\n    case 'NOT_IN':\n      map = OperatorType.notIn;\n      break;\n    default:\n      map = OperatorType.contains;\n      break;\n  }\n\n  return map;\n}\n\n/**\n * Mapper for query operator by a Filter Type\n * For example a multiple-select typically uses 'IN' operator\n * @param operator\n * @returns string map\n */\nexport function mapOperatorByFieldType(fieldType: FieldType | string): OperatorType {\n  let map: OperatorType;\n\n  switch (fieldType) {\n    case FieldType.string:\n    case FieldType.unknown:\n      map = OperatorType.contains;\n      break;\n    case FieldType.float:\n    case FieldType.number:\n    case FieldType.date:\n    case FieldType.dateIso:\n    case FieldType.date:\n    case FieldType.dateUtc:\n    case FieldType.dateTime:\n    case FieldType.dateTimeIso:\n    case FieldType.dateTimeIsoAmPm:\n    case FieldType.dateTimeIsoAM_PM:\n    case FieldType.dateUs:\n    case FieldType.dateUsShort:\n    case FieldType.dateTimeUs:\n    case FieldType.dateTimeUsAmPm:\n    case FieldType.dateTimeUsAM_PM:\n    case FieldType.dateTimeUsShort:\n    case FieldType.dateTimeUsShortAmPm:\n    case FieldType.dateTimeUsShortAM_PM:\n    default:\n      map = OperatorType.equal;\n      break;\n  }\n\n  return map;\n}\n\n/**\n * Mapper for query operator by a Filter Type\n * For example a multiple-select typically uses 'IN' operator\n * @param operator\n * @returns string map\n */\nexport function mapOperatorByFilterType(filterType: FilterType | string): OperatorType {\n  let map: OperatorType;\n\n  switch (filterType) {\n    case FilterType.multipleSelect:\n      map = OperatorType.in;\n      break;\n    case FilterType.singleSelect:\n      map = OperatorType.equal;\n      break;\n    default:\n      break;\n  }\n\n  return map;\n}\n\n/**\n * Parse a date passed as a string and return a Date object (if valid)\n * @param inputDateString\n * @returns string date formatted\n */\nexport function parseUtcDate(inputDateString: string, useUtc: boolean): string | null {\n  let date = null;\n\n  if (/^[0-9\\-\\/]*$/.test(inputDateString)) {\n    // get the UTC datetime with moment.js but we need to decode the value so that it's valid text\n    const dateString = decodeURIComponent(inputDateString);\n    const dateMoment = moment(new Date(dateString));\n    if (dateMoment.isValid() && dateMoment.year().toString().length === 4) {\n      date = (useUtc) ? dateMoment.utc().format() : dateMoment.format();\n    }\n  }\n\n  return date;\n}\n\n/**\n * Sanitize, return only the text without HTML tags\n * @input htmlString\n * @return text\n */\nexport function sanitizeHtmlToText(htmlString: string) {\n  const temp = document.createElement('div');\n  temp.innerHTML = htmlString;\n  return temp.textContent || temp.innerText;\n}\n\n/**\n * Converts a string to camel case\n * @param str the string to convert\n * @return the string in camel case\n */\nexport function toCamelCase(str: string): string {\n  return str.replace(/(?:^\\w|[A-Z]|\\b\\w|[\\s+\\-_\\/])/g, (match: string, offset: number) => {\n    // remove white space or hypens or underscores\n    if (/[\\s+\\-_\\/]/.test(match)) {\n      return '';\n    }\n\n    return offset === 0 ? match.toLowerCase() : match.toUpperCase();\n  });\n}\n\n/**\n * Converts a string to kebab (hypen) case\n * @param str the string to convert\n * @return the string in kebab case\n */\nexport function toKebabCase(str: string): string {\n  return toCamelCase(str).replace(/([A-Z])/g, '-$1').toLowerCase();\n}\n",
    "import * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\n\nexport function compareDates(value1, value2, format, sortDirection, strict?: boolean) {\n  let diff = 0;\n\n  if (value1 === null || value1 === '' || !moment(value1, format, strict).isValid()) {\n    diff = -1;\n  } else if (value2 === null || value2 === '' || !moment(value2, format, strict).isValid()) {\n    diff = 1;\n  } else {\n    const date1 = moment(value1, format, strict);\n    const date2 = moment(value2, format, strict);\n    diff = parseInt(date1.format('X'), 10) - parseInt(date2.format('X'), 10);\n  }\n\n  return sortDirection * (diff === 0 ? 0 : (diff > 0 ? 1 : -1));\n}\n",
    "import { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport { FieldType, Sorter } from './../models/index';\nimport { compareDates } from './compareDateUtility';\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateUsShort);\n\nexport const dateUsShortSorter: Sorter = (value1, value2, sortDirection) => {\n  return compareDates(value1, value2, FORMAT, sortDirection, true);\n};\n",
    "import { Sorter } from './../models/index';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\nimport { compareDates } from './compareDateUtility';\n\nexport const dateSorter: Sorter = (value1, value2, sortDirection) => {\n  return compareDates(value1, value2, moment.ISO_8601, sortDirection);\n};\n",
    "import { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport { FieldType, Sorter } from './../models/index';\nimport { compareDates } from './compareDateUtility';\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateIso);\n\nexport const dateIsoSorter: Sorter = (value1, value2, sortDirection) => {\n  return compareDates(value1, value2, FORMAT, sortDirection, true);\n};\n",
    "import { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport { FieldType, Sorter } from './../models/index';\nimport { compareDates } from './compareDateUtility';\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateUs);\n\nexport const dateUsSorter: Sorter = (value1, value2, sortDirection) => {\n  return compareDates(value1, value2, FORMAT, sortDirection, true);\n};\n",
    "import { Sorter } from './../models/index';\r\n\r\nexport const numericSorter: Sorter = (value1, value2, sortDirection) => {\r\n  const x = (isNaN(value1) || value1 === '' || value1 === null) ? -99e+10 : parseFloat(value1);\r\n  const y = (isNaN(value2) || value2 === '' || value2 === null) ? -99e+10 : parseFloat(value2);\r\n  return sortDirection * (x === y ? 0 : (x > y ? 1 : -1));\r\n};\r\n",
    "import { Sorter } from './../models/index';\r\n\r\nexport const stringSorter: Sorter = (value1, value2, sortDirection) => {\r\n  let position;\r\n  if (value1 === null) {\r\n    position = -1;\r\n  } else if (value2 === null) {\r\n    position = 1;\r\n  } else if (value1 === value2) {\r\n    position = 0;\r\n  } else if (sortDirection) {\r\n    position = value1 < value2 ? -1 : 1;\r\n  } else if (!sortDirection) {\r\n    position = value1 < value2 ? 1 : -1;\r\n  }\r\n  return sortDirection * position;\r\n};\r\n",
    "import { SortDirectionNumber } from './../models/sortDirectionNumber.enum';\nimport { dateUsShortSorter } from './dateUsShortSorter';\nimport { dateSorter } from './dateSorter';\nimport { dateIsoSorter } from './dateIsoSorter';\nimport { dateUsSorter } from './dateUsSorter';\nimport { numericSorter } from './numericSorter';\nimport { stringSorter } from './stringSorter';\n\nexport const Sorters = {\n  date: dateSorter,\n  dateIso: dateIsoSorter,\n  dateUs: dateUsSorter,\n  dateUsShort: dateUsShortSorter,\n  numeric: numericSorter,\n  string: stringSorter\n};\n",
    "import { FieldType } from './../models/index';\nimport { Sorters } from './index';\n\nexport function sortByFieldType(value1: any, value2: any, fieldType: FieldType, sortDirection: number) {\n  let sortResult = 0;\n\n  switch (fieldType) {\n    case FieldType.number:\n      sortResult = Sorters.numeric(value1, value2, sortDirection);\n      break;\n    case FieldType.date:\n      sortResult = Sorters.date(value1, value2, sortDirection);\n      break;\n    case FieldType.dateIso:\n      sortResult = Sorters.dateIso(value1, value2, sortDirection);\n      break;\n    case FieldType.dateUs:\n      sortResult = Sorters.dateUs(value1, value2, sortDirection);\n      break;\n    case FieldType.dateUsShort:\n      sortResult = Sorters.dateUsShort(value1, value2, sortDirection);\n      break;\n    default:\n      sortResult = Sorters.string(value1, value2, sortDirection);\n      break;\n  }\n\n  return sortResult;\n}\n",
    "import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  CollectionFilterBy,\n  CollectionSortBy,\n  FieldType,\n  OperatorType,\n} from './../models/index';\nimport { sortByFieldType } from '../sorters/sorterUtilities';\n\n@Injectable()\nexport class CollectionService {\n  constructor(private translate: TranslateService) { }\n\n  /**\n   * Filter items from a collection\n   * @param collection\n   * @param filterBy\n   */\n  filterCollection(collection: any[], filterBy: CollectionFilterBy): any[] {\n    let filteredCollection: any[] = [];\n\n    if (filterBy) {\n      const property = filterBy.property || '';\n      const operator = filterBy.operator || OperatorType.equal;\n      // just check for undefined since the filter value could be null, 0, '', false etc\n      const value = typeof filterBy.value === 'undefined' ? '' : filterBy.value;\n\n      switch (operator) {\n        case OperatorType.equal:\n          filteredCollection = collection.filter((item) => item[property] === value);\n          break;\n        case OperatorType.in:\n          filteredCollection = collection.filter((item) => item[property].indexOf(value) !== -1);\n          break;\n        case OperatorType.notIn:\n          filteredCollection = collection.filter((item) => item[property].indexOf(value) === -1);\n          break;\n        case OperatorType.contains:\n          filteredCollection = collection.filter((item) => value.indexOf(item[property]) !== -1);\n          break;\n        default:\n          filteredCollection = collection.filter((item) => item[property] !== value);\n      }\n    }\n\n    return filteredCollection;\n  }\n\n  /**\n   * Sort items in a collection\n   * @param collection\n   * @param sortBy\n   * @param enableTranslateLabel\n   */\n  sortCollection(collection: any[], sortBy: CollectionSortBy, enableTranslateLabel?: boolean): any[] {\n    let sortedCollection: any[] = [];\n\n    if (sortBy) {\n      const property = sortBy.property || '';\n      const sortDirection = sortBy.hasOwnProperty('sortDesc') ? (sortBy.sortDesc ? -1 : 1) : 1;\n      const fieldType = sortBy.fieldType || FieldType.string;\n\n      sortedCollection = collection.sort((dataRow1: any, dataRow2: any) => {\n        const value1 = (enableTranslateLabel) ? this.translate.instant(dataRow1[property] || ' ') : dataRow1[property];\n        const value2 = (enableTranslateLabel) ? this.translate.instant(dataRow2[property] || ' ') : dataRow2[property];\n        const result = sortByFieldType(value1, value2, fieldType, sortDirection);\n        return result;\n      });\n    }\n\n    return sortedCollection;\n  }\n}\n",
    "import { FilterCondition, FilterConditionOption } from './../models/index';\n\nfunction parseBoolean(str: number | string) {\n  return /(true|1)/i.test(str + '');\n}\n\nexport const booleanFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const searchTerm = Array.isArray(options.searchTerms) && options.searchTerms[0] || '';\n  return parseBoolean(options.cellValue) === parseBoolean(searchTerm);\n};\n",
    "export const testFilterCondition = (operator: string, value1: any, value2: any): boolean => {\r\n  switch (operator) {\r\n    case '<':\r\n    case 'LT': return (value1 < value2);\r\n    case '<=':\r\n    case 'LE': return (value1 <= value2);\r\n    case '>':\r\n    case 'GT': return (value1 > value2);\r\n    case '>=':\r\n    case 'GE': return (value1 >= value2);\r\n    case '!=':\r\n    case '<>':\r\n    case 'NE': return (value1 !== value2);\r\n    case '=':\r\n    case '==':\r\n    case 'EQ': return (value1 === value2);\r\n    case 'IN': return ((value2 && value2.includes) ? (value2.includes(value1)) : false);\r\n  }\r\n  return true;\r\n};\r\n",
    "import { FieldType, FilterCondition, FilterConditionOption } from '../models/index';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport { testFilterCondition } from './filterUtilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\n\nexport const dateFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const searchTerm = Array.isArray(options.searchTerms) && options.searchTerms[0] || '';\n  const filterSearchType = options.filterSearchType || FieldType.dateIso;\n  const searchDateFormat = mapMomentDateFormatWithFieldType(filterSearchType);\n  if (searchTerm === null || searchTerm === '' || !moment(options.cellValue, moment.ISO_8601).isValid() || !moment(searchTerm, searchDateFormat, true).isValid()) {\n    return false;\n  }\n  const dateCell = moment(options.cellValue);\n  const dateSearch = moment(searchTerm);\n\n  // run the filter condition with date in Unix Timestamp format\n  return testFilterCondition(options.operator || '==', parseInt(dateCell.format('X'), 10), parseInt(dateSearch.format('X'), 10));\n};\n",
    "import { FieldType, FilterCondition, FilterConditionOption } from '../models/index';\nimport { testFilterCondition } from './filterUtilities';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateIso);\n\nexport const dateIsoFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const searchTerm = Array.isArray(options.searchTerms) && options.searchTerms[0] || '';\n  if (searchTerm === null || searchTerm === '' || !moment(options.cellValue, FORMAT, true).isValid() || !moment(searchTerm, FORMAT, true).isValid()) {\n    return false;\n  }\n  const dateCell = moment(options.cellValue, FORMAT, true);\n  const dateSearch = moment(searchTerm, FORMAT, true);\n\n  // run the filter condition with date in Unix Timestamp format\n  return testFilterCondition(options.operator || '==', parseInt(dateCell.format('X'), 10), parseInt(dateSearch.format('X'), 10));\n};\n",
    "import { FieldType, FilterCondition, FilterConditionOption } from '../models/index';\nimport { testFilterCondition } from './filterUtilities';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateUs);\n\nexport const dateUsFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const searchTerm = Array.isArray(options.searchTerms) && options.searchTerms[0] || '';\n  if (searchTerm === null || searchTerm === '' || !moment(options.cellValue, FORMAT, true).isValid() || !moment(searchTerm, FORMAT, true).isValid()) {\n    return false;\n  }\n  const dateCell = moment(options.cellValue, FORMAT, true);\n  const dateSearch = moment(searchTerm, FORMAT, true);\n\n  // run the filter condition with date in Unix Timestamp format\n  return testFilterCondition(options.operator || '==', parseInt(dateCell.format('X'), 10), parseInt(dateSearch.format('X'), 10));\n};\n",
    "import { FieldType, FilterCondition, FilterConditionOption } from '../models/index';\nimport { testFilterCondition } from './filterUtilities';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateUsShort);\n\nexport const dateUsShortFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const searchTerm = Array.isArray(options.searchTerms) && options.searchTerms[0] || '';\n  if (searchTerm === null || searchTerm === '' || !moment(options.cellValue, FORMAT, true).isValid() || !moment(searchTerm, FORMAT, true).isValid()) {\n    return false;\n  }\n  const dateCell = moment(options.cellValue, FORMAT, true);\n  const dateSearch = moment(searchTerm, FORMAT, true);\n\n  // run the filter condition with date in Unix Timestamp format\n  return testFilterCondition(options.operator || '==', parseInt(dateCell.format('X'), 10), parseInt(dateSearch.format('X'), 10));\n};\n",
    "import { FilterCondition, FilterConditionOption } from '../models/index';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport { testFilterCondition } from './filterUtilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\n\nexport const dateUtcFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const searchTerms = Array.isArray(options.searchTerms) && options.searchTerms[0] || [];\n  const searchDateFormat = mapMomentDateFormatWithFieldType(options.filterSearchType || options.fieldType);\n  if (!moment(options.cellValue, moment.ISO_8601).isValid() || !moment(searchTerms[0], searchDateFormat, true).isValid()) {\n    return true;\n  }\n  const dateCell = moment(options.cellValue, moment.ISO_8601, true);\n  const dateSearch = moment(searchTerms[0], searchDateFormat, true);\n\n  // run the filter condition with date in Unix Timestamp format\n  return testFilterCondition(options.operator || '==', parseInt(dateCell.format('X'), 10), parseInt(dateSearch.format('X'), 10));\n};\n",
    "import { FilterCondition, FilterConditionOption } from '../models/index';\r\nimport { testFilterCondition } from './filterUtilities';\r\n\r\nexport const collectionSearchFilterCondition: FilterCondition = (options: FilterConditionOption) => {\r\n  // multiple-select will always return text, so we should make our cell values text as well\r\n  const cellValue = options.cellValue + '';\r\n\r\n  return testFilterCondition(options.operator || 'IN', cellValue, options.searchTerms || []);\r\n};\r\n",
    "import { FilterCondition, FilterConditionOption } from '../models/index';\nimport { testFilterCondition } from './filterUtilities';\n\nexport const numberFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  const cellValue = parseFloat(options.cellValue);\n  let searchTerm = (Array.isArray(options.searchTerms) && options.searchTerms[0]) || 0;\n  if (typeof searchTerm === 'string') {\n    searchTerm = parseFloat(searchTerm);\n  }\n\n  return testFilterCondition(options.operator || '==', cellValue, searchTerm);\n};\n",
    "import { FilterCondition, FilterConditionOption, OperatorType } from '../models/index';\nimport { testFilterCondition } from './filterUtilities';\n\nexport const stringFilterCondition: FilterCondition = (options: FilterConditionOption) => {\n  // make sure the cell value is a string by casting it when possible\n  options.cellValue = (options.cellValue === undefined || options.cellValue === null) ? '' : options.cellValue.toString();\n\n  // make both the cell value and search value lower for case insensitive comparison\n  const cellValue = options.cellValue.toLowerCase();\n  let searchTerm = (Array.isArray(options.searchTerms) && options.searchTerms[0]) || '';\n  if (typeof searchTerm === 'string') {\n    searchTerm = searchTerm.toLowerCase();\n  }\n\n  if (options.operator === '*' || options.operator === OperatorType.endsWith) {\n    return cellValue.endsWith(searchTerm);\n  } else if ((options.operator === '' && options.cellValueLastChar === '*') || options.operator === OperatorType.startsWith) {\n    return cellValue.startsWith(searchTerm);\n  } else if (options.operator === '') {\n    return cellValue.includes(searchTerm);\n  }\n  return testFilterCondition(options.operator || '==', cellValue, searchTerm);\n};\n",
    "import { booleanFilterCondition } from './booleanFilterCondition';\r\nimport { dateFilterCondition } from './dateFilterCondition';\r\nimport { dateIsoFilterCondition } from './dateIsoFilterCondition';\r\nimport { dateUsShortFilterCondition } from './dateUsShortFilterCondition';\r\nimport { dateUsFilterCondition } from './dateUsFilterCondition';\r\nimport { dateUtcFilterCondition } from './dateUtcFilterCondition';\r\nimport { FilterConditionOption } from './../models/filterConditionOption.interface';\r\nimport { FilterCondition } from '../models/filterCondition.interface';\r\nimport { collectionSearchFilterCondition } from './collectionSearchFilterCondition';\r\nimport { numberFilterCondition } from './numberFilterCondition';\r\nimport { stringFilterCondition } from './stringFilterCondition';\r\nimport { FieldType } from '../models/index';\r\n\r\nexport const executeMappedCondition: FilterCondition = (options: FilterConditionOption) => {\r\n  // when using a multi-select ('IN' operator) we will not use the field type but instead go directly with a collection search\r\n  if (options && options.operator && options.operator.toUpperCase() === 'IN') {\r\n    return collectionSearchFilterCondition(options);\r\n  }\r\n\r\n  // execute the mapped type, or default to String condition check\r\n  switch (options.fieldType) {\r\n    case FieldType.boolean:\r\n      return booleanFilterCondition(options);\r\n    case FieldType.date:\r\n      return dateFilterCondition(options);\r\n    case FieldType.dateUtc:\r\n      return dateUtcFilterCondition(options);\r\n    case FieldType.dateIso:\r\n      return dateIsoFilterCondition(options);\r\n    case FieldType.dateUs:\r\n    case FieldType.dateTimeUs:\r\n      return dateUsFilterCondition(options);\r\n    case FieldType.dateUsShort:\r\n    case FieldType.dateTimeUsShort:\r\n      return dateUsShortFilterCondition(options);\r\n    case FieldType.number:\r\n      return numberFilterCondition(options);\r\n    case FieldType.string:\r\n    default:\r\n      return stringFilterCondition(options);\r\n  }\r\n};\r\n",
    "import { FilterConditionOption } from './../models/filterConditionOption.interface';\r\nimport { booleanFilterCondition } from './booleanFilterCondition';\r\nimport { dateFilterCondition } from './dateFilterCondition';\r\nimport { dateIsoFilterCondition } from './dateIsoFilterCondition';\r\nimport { dateUsFilterCondition } from './dateUsFilterCondition';\r\nimport { dateUsShortFilterCondition } from './dateUsShortFilterCondition';\r\nimport { dateUtcFilterCondition } from './dateUtcFilterCondition';\r\nimport { executeMappedCondition } from './executeMappedCondition';\r\nimport { collectionSearchFilterCondition } from './collectionSearchFilterCondition';\r\nimport { numberFilterCondition } from './numberFilterCondition';\r\nimport { stringFilterCondition } from './stringFilterCondition';\r\nimport { testFilterCondition } from './filterUtilities';\r\n\r\nexport const FilterConditions = {\r\n  executeMappedCondition,\r\n  booleanFilter: booleanFilterCondition,\r\n  collectionSearchFilter: collectionSearchFilterCondition,\r\n  dateFilter: dateFilterCondition,\r\n  dateIsoFilter: dateIsoFilterCondition,\r\n  dateUtcFilter: dateUtcFilterCondition,\r\n  dateUsFilter: dateUsFilterCondition,\r\n  dateUsShortFilter: dateUsShortFilterCondition,\r\n  numberFilter: numberFilterCondition,\r\n  stringFilter: stringFilterCondition,\r\n  testFilter: testFilterCondition\r\n};\r\n",
    "import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { mapFlatpickrDateFormatWithFieldType } from '../services/utilities';\nimport { Column, Filter, FilterArguments, FilterCallback, FieldType, GridOption, OperatorString, OperatorType, SearchTerm } from './../models/index';\n\n// importing Flatpickr works better with a 'require'\ndeclare function require(name: string);\nrequire('flatpickr');\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n@Injectable()\nexport class CompoundDateFilter implements Filter {\n  private $filterElm: any;\n  private $filterInputElm: any;\n  private $selectOperatorElm: any;\n  private _currentValue: string;\n  flatInstance: any;\n  grid: any;\n  operator: OperatorType | OperatorString;\n  searchTerms: SearchTerm[];\n  columnDef: Column;\n  callback: FilterCallback;\n\n  constructor(private translate: TranslateService) {}\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get gridOptions(): GridOption {\n    return (this.grid && this.grid.getOptions) ? this.grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the Filter\n   */\n  init(args: FilterArguments) {\n    this.grid = args.grid;\n    this.callback = args.callback;\n    this.columnDef = args.columnDef;\n    this.operator = args.operator;\n    this.searchTerms = args.searchTerms || [];\n\n    // date input can only have 1 search term, so we will use the 1st array index if it exist\n    const searchTerm = (Array.isArray(this.searchTerms) && this.searchTerms[0]) || '';\n\n    // step 1, create the DOM Element of the filter which contain the compound Operator+Input\n    // and initialize it if searchTerms is filled\n    this.$filterElm = this.createDomElement(searchTerm);\n\n    // step 3, subscribe to the keyup event and run the callback when that happens\n    // also add/remove \"filled\" class for styling purposes\n    this.$filterInputElm.keyup((e: any) => {\n      this.onTriggerEvent(e);\n    });\n    this.$selectOperatorElm.change((e: any) => {\n      this.onTriggerEvent(e);\n    });\n  }\n\n  /**\n   * Clear the filter value\n   */\n  clear(triggerFilterKeyup = true) {\n    if (this.flatInstance && this.$selectOperatorElm) {\n      this.$selectOperatorElm.val(0);\n      this.flatInstance.clear();\n    }\n  }\n\n  /**\n   * destroy the filter\n   */\n  destroy() {\n    if (this.$filterElm) {\n      this.$filterElm.off('keyup').remove();\n      this.$selectOperatorElm.off('change').remove();\n    }\n  }\n\n  /**\n   * Set value(s) on the DOM element\n   */\n  setValues(values: SearchTerm[]) {\n    if (values && Array.isArray(values)) {\n      this.flatInstance.setDate(values[0]);\n    }\n  }\n\n  //\n  // private functions\n  // ------------------\n\n  private buildDatePickerInput(searchTerm?: SearchTerm) {\n    const inputFormat = mapFlatpickrDateFormatWithFieldType(this.columnDef.type || FieldType.dateIso);\n    const outputFormat = mapFlatpickrDateFormatWithFieldType(this.columnDef.outputType || this.columnDef.type || FieldType.dateUtc);\n    let currentLocale = this.getCurrentLocale(this.columnDef, this.gridOptions) || '';\n    if (currentLocale.length > 2) {\n      currentLocale = currentLocale.substring(0, 2);\n    }\n\n    const pickerOptions: any = {\n      defaultDate: searchTerm || '',\n      altInput: true,\n      altFormat: outputFormat,\n      dateFormat: inputFormat,\n      wrap: true,\n      closeOnSelect: true,\n      locale: (currentLocale !== 'en') ? this.loadFlatpickrLocale(currentLocale) : 'en',\n      onChange: (selectedDates: any[] | any, dateStr: string, instance: any) => {\n        this._currentValue = dateStr;\n\n        // when using the time picker, we can simulate a keyup event to avoid multiple backend request\n        // since backend request are only executed after user start typing, changing the time should be treated the same way\n        if (pickerOptions.enableTime) {\n          this.onTriggerEvent(new CustomEvent('keyup'));\n        } else {\n          this.onTriggerEvent(undefined);\n        }\n      },\n    };\n\n    // add the time picker when format is UTC (Z) or has the 'h' (meaning hours)\n    if (outputFormat && (outputFormat === 'Z' || outputFormat.toLowerCase().includes('h'))) {\n      pickerOptions.enableTime = true;\n    }\n\n    const placeholder = (this.gridOptions) ? (this.gridOptions.defaultFilterPlaceholder || '') : '';\n    const $filterInputElm = $(`<div class=flatpickr><input type=\"text\" class=\"form-control\" data-input placeholder=\"${placeholder}\"></div>`);\n    this.flatInstance = ($filterInputElm[0] && typeof $filterInputElm[0].flatpickr === 'function') ? $filterInputElm[0].flatpickr(pickerOptions) : null;\n    return $filterInputElm;\n  }\n\n  private buildSelectOperatorHtmlString() {\n    const optionValues = this.getOptionValues();\n    let optionValueString = '';\n    optionValues.forEach((option) => {\n      optionValueString += `<option value=\"${option.operator}\" title=\"${option.description}\">${option.operator}</option>`;\n    });\n\n    return `<select class=\"form-control\">${optionValueString}</select>`;\n  }\n\n  private getOptionValues(): {operator: OperatorString, description: string }[] {\n    return [\n      { operator: '' as OperatorString, description: '' },\n      { operator: '=' as OperatorString, description: '' },\n      { operator: '<' as OperatorString, description: '' },\n      { operator: '<=' as OperatorString, description: '' },\n      { operator: '>' as OperatorString, description: '' },\n      { operator: '>=' as OperatorString, description: '' },\n      { operator: '<>' as OperatorString, description: '' }\n    ];\n  }\n\n  /**\n   * Create the DOM element\n   */\n  private createDomElement(searchTerm?: SearchTerm) {\n    const $headerElm = this.grid.getHeaderRowColumn(this.columnDef.id);\n    $($headerElm).empty();\n\n    if (searchTerm) {\n      this._currentValue = searchTerm as string;\n    }\n\n    // create the DOM Select dropdown for the Operator\n    this.$selectOperatorElm = $(this.buildSelectOperatorHtmlString());\n    this.$filterInputElm = this.buildDatePickerInput(searchTerm);\n    const $filterContainerElm = $(`<div class=\"form-group search-filter\"></div>`);\n    const $containerInputGroup = $(`<div class=\"input-group flatpickr\"></div>`);\n    const $operatorInputGroupAddon = $(`<div class=\"input-group-addon operator\"></div>`);\n\n    /* the DOM element final structure will be\n      <div class=\"input-group\">\n        <div class=\"input-group-addon operator\">\n          <select class=\"form-control\"></select>\n        </div>\n        <div class=flatpickr>\n          <input type=\"text\" class=\"form-control\" data-input>\n        </div>\n      </div>\n    */\n    $operatorInputGroupAddon.append(this.$selectOperatorElm);\n    $containerInputGroup.append($operatorInputGroupAddon);\n    $containerInputGroup.append(this.$filterInputElm);\n\n    // create the DOM element & add an ID and filter class\n    $filterContainerElm.append($containerInputGroup);\n    $filterContainerElm.attr('id', `filter-${this.columnDef.id}`);\n    this.$filterInputElm.data('columnId', this.columnDef.id);\n\n    if (this.operator) {\n      this.$selectOperatorElm.val(this.operator);\n    }\n\n    // if there's a search term, we will add the \"filled\" class for styling purposes\n    if (searchTerm) {\n      $filterContainerElm.addClass('filled');\n    }\n\n    // append the new DOM element to the header row\n    if ($filterContainerElm && typeof $filterContainerElm.appendTo === 'function') {\n      $filterContainerElm.appendTo($headerElm);\n    }\n\n    return $filterContainerElm;\n  }\n\n  private getCurrentLocale(columnDef: Column, gridOptions: GridOption) {\n    const params = gridOptions.params || columnDef.params || {};\n    if (params.i18n && params.i18n instanceof TranslateService) {\n      return params.i18n.currentLang;\n    }\n\n    return 'en';\n  }\n\n  private loadFlatpickrLocale(locale: string) {\n    // change locale if needed, Flatpickr reference: https://chmln.github.io/flatpickr/localization/\n    if (locale !== 'en') {\n      const localeDefault: any = require(`flatpickr/dist/l10n/${locale}.js`).default;\n      return (localeDefault && localeDefault[locale]) ? localeDefault[locale] : 'en';\n    }\n    return 'en';\n  }\n\n  private onTriggerEvent(e: Event | undefined) {\n    const selectedOperator = this.$selectOperatorElm.find('option:selected').text();\n    (this._currentValue) ? this.$filterElm.addClass('filled') : this.$filterElm.removeClass('filled');\n    this.callback(e, { columnDef: this.columnDef, searchTerms: [this._currentValue], operator: selectedOperator || '=' });\n  }\n\n  private hide() {\n    if (this.flatInstance && typeof this.flatInstance.close === 'function') {\n      this.flatInstance.close();\n    }\n  }\n\n  private show() {\n    if (this.flatInstance && typeof this.flatInstance.open === 'function') {\n      this.flatInstance.open();\n    }\n  }\n}\n",
    "import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { FieldType } from './../models/index';\nimport { Column, Filter, FilterArguments, FilterCallback, GridOption, OperatorString, OperatorType, SearchTerm } from './../models/index';\nimport { htmlEntityEncode } from '..';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n@Injectable()\nexport class CompoundInputFilter implements Filter {\n  private $filterElm: any;\n  private $filterInputElm: any;\n  private $selectOperatorElm: any;\n  grid: any;\n  operator: OperatorType | OperatorString;\n  searchTerms: SearchTerm[];\n  columnDef: Column;\n  callback: FilterCallback;\n\n  constructor(private translate: TranslateService) {}\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get gridOptions(): GridOption {\n    return (this.grid && this.grid.getOptions) ? this.grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the Filter\n   */\n  init(args: FilterArguments) {\n    this.grid = args.grid;\n    this.callback = args.callback;\n    this.columnDef = args.columnDef;\n    this.operator = args.operator;\n    this.searchTerms = args.searchTerms || [];\n\n    // filter input can only have 1 search term, so we will use the 1st array index if it exist\n    const searchTerm = (Array.isArray(this.searchTerms) && this.searchTerms[0]) || '';\n\n    // step 1, create the DOM Element of the filter which contain the compound Operator+Input\n    // and initialize it if searchTerms is filled\n    this.$filterElm = this.createDomElement(searchTerm);\n\n    // step 3, subscribe to the keyup event and run the callback when that happens\n    // also add/remove \"filled\" class for styling purposes\n    this.$filterInputElm.keyup((e: any) => {\n      this.onTriggerEvent(e);\n    });\n    this.$selectOperatorElm.change((e: any) => {\n      this.onTriggerEvent(e);\n    });\n  }\n\n  /**\n   * Clear the filter value\n   */\n  clear(triggerFilterKeyup = true) {\n    if (this.$filterElm && this.$selectOperatorElm) {\n      this.$selectOperatorElm.val(0);\n      this.$filterInputElm.val('');\n      if (triggerFilterKeyup) {\n        this.$filterElm.trigger('keyup');\n      }\n    }\n  }\n\n  /**\n   * destroy the filter\n   */\n  destroy() {\n    if (this.$filterElm) {\n      this.$filterElm.off('keyup').remove();\n      this.$selectOperatorElm.off('change').remove();\n    }\n  }\n\n  /**\n   * Set value(s) on the DOM element\n   */\n  setValues(values: SearchTerm[]) {\n    if (values && Array.isArray(values)) {\n      this.$filterElm.val(values[0]);\n    }\n  }\n\n  //\n  // private functions\n  // ------------------\n\n  private buildInputHtmlString() {\n    const placeholder = (this.gridOptions) ? (this.gridOptions.defaultFilterPlaceholder || '') : '';\n    return `<input class=\"form-control\" type=\"text\" placeholder=\"${placeholder}\" />`;\n  }\n\n  private buildSelectOperatorHtmlString() {\n    const optionValues = this.getOptionValues();\n    let optionValueString = '';\n    optionValues.forEach((option) => {\n      optionValueString += `<option value=\"${option.operator}\" title=\"${option.description}\">${option.operator}</option>`;\n    });\n\n    return `<select class=\"form-control\">${optionValueString}</select>`;\n  }\n\n  private getOptionValues(): {operator: OperatorString, description: string }[] {\n    const type = (this.columnDef.type && this.columnDef.type) ? this.columnDef.type : FieldType.string;\n    let optionValues = [];\n\n    switch (type) {\n      case FieldType.string:\n        optionValues = [\n          { operator: '' as OperatorString, description: this.translate.instant('CONTAINS') },\n          { operator: '=' as OperatorString, description: this.translate.instant('EQUALS') },\n          { operator: 'a*' as OperatorString, description: this.translate.instant('STARTS_WITH') },\n          { operator: '*z' as OperatorString, description: this.translate.instant('ENDS_WITH') },\n          /*\n          { operator: 'IN' as OperatorString, description: this.translate.instant('IN_COLLECTION_SEPERATED_BY_COMMA') },\n          { operator: 'NIN' as OperatorString, description: this.translate.instant('NOT_IN_COLLECTION_SEPERATED_BY_COMMA') },\n          */\n        ];\n        break;\n      default:\n        optionValues = [\n          { operator: '' as OperatorString, description: this.translate.instant('CONTAINS') },\n          { operator: '=' as OperatorString, description: '' },\n          { operator: '<' as OperatorString, description: '' },\n          { operator: '<=' as OperatorString, description: '' },\n          { operator: '>' as OperatorString, description: '' },\n          { operator: '>=' as OperatorString, description: '' },\n          { operator: '<>' as OperatorString, description: '' }];\n        break;\n    }\n\n    return optionValues;\n  }\n\n  /**\n   * Create the DOM element\n   */\n  private createDomElement(searchTerm?: SearchTerm) {\n    const $headerElm = this.grid.getHeaderRowColumn(this.columnDef.id);\n    $($headerElm).empty();\n\n    // create the DOM Select dropdown for the Operator\n    this.$selectOperatorElm = $(this.buildSelectOperatorHtmlString());\n    this.$filterInputElm = $(this.buildInputHtmlString());\n    const $filterContainerElm = $(`<div class=\"form-group search-filter\"></div>`);\n    const $containerInputGroup = $(`<div class=\"input-group\"></div>`);\n    const $operatorInputGroupAddon = $(`<div class=\"input-group-addon operator\"></div>`);\n\n    /* the DOM element final structure will be\n      <div class=\"input-group\">\n        <div class=\"input-group-addon operator\">\n          <select class=\"form-control\"></select>\n        </div>\n        <input class=\"form-control\" type=\"text\" />\n      </div>\n    */\n    $operatorInputGroupAddon.append(this.$selectOperatorElm);\n    $containerInputGroup.append($operatorInputGroupAddon);\n    $containerInputGroup.append(this.$filterInputElm);\n\n    // create the DOM element & add an ID and filter class\n    $filterContainerElm.append($containerInputGroup);\n    $filterContainerElm.attr('id', `filter-${this.columnDef.id}`);\n\n    this.$filterInputElm.val(searchTerm);\n    this.$filterInputElm.data('columnId', this.columnDef.id);\n\n    if (this.operator) {\n      this.$selectOperatorElm.val(this.operator);\n    }\n\n    // if there's a search term, we will add the \"filled\" class for styling purposes\n    if (searchTerm) {\n      $filterContainerElm.addClass('filled');\n    }\n\n    // append the new DOM element to the header row\n    if ($filterContainerElm && typeof $filterContainerElm.appendTo === 'function') {\n      $filterContainerElm.appendTo($headerElm);\n    }\n\n    return $filterContainerElm;\n  }\n\n  private onTriggerEvent(e: Event | undefined) {\n    const selectedOperator = this.$selectOperatorElm.find('option:selected').text();\n    const value = this.$filterInputElm.val();\n    (value) ? this.$filterElm.addClass('filled') : this.$filterElm.removeClass('filled');\n    this.callback(e, { columnDef: this.columnDef, searchTerms: [value], operator: selectedOperator || '' });\n  }\n}\n",
    "import { Column, Filter, FilterArguments, FilterCallback, GridOption, SearchTerm } from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\nexport class InputFilter implements Filter {\n  private $filterElm: any;\n  grid: any;\n  searchTerms: SearchTerm[];\n  columnDef: Column;\n  callback: FilterCallback;\n\n  constructor() {}\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get gridOptions(): GridOption {\n    return (this.grid && this.grid.getOptions) ? this.grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the Filter\n   */\n  init(args: FilterArguments) {\n    this.grid = args.grid;\n    this.callback = args.callback;\n    this.columnDef = args.columnDef;\n    this.searchTerms = args.searchTerms || [];\n\n    // filter input can only have 1 search term, so we will use the 1st array index if it exist\n    const searchTerm = (Array.isArray(this.searchTerms) && this.searchTerms[0]) || '';\n\n    // step 1, create HTML string template\n    const filterTemplate = this.buildTemplateHtmlString();\n\n    // step 2, create the DOM Element of the filter & initialize it if searchTerm is filled\n    this.$filterElm = this.createDomElement(filterTemplate, searchTerm);\n\n    // step 3, subscribe to the keyup event and run the callback when that happens\n    // also add/remove \"filled\" class for styling purposes\n    this.$filterElm.keyup((e: any) => {\n      (e && e.target && e.target.value) ? this.$filterElm.addClass('filled') : this.$filterElm.removeClass('filled');\n      this.callback(e, { columnDef: this.columnDef });\n    });\n  }\n\n  /**\n   * Clear the filter value\n   */\n  clear(triggerFilterKeyup = true) {\n    if (this.$filterElm) {\n      this.$filterElm.val('');\n      if (triggerFilterKeyup) {\n        this.$filterElm.trigger('keyup');\n      }\n    }\n  }\n\n  /**\n   * destroy the filter\n   */\n  destroy() {\n    if (this.$filterElm) {\n      this.$filterElm.off('keyup').remove();\n    }\n  }\n\n  /**\n   * Set value(s) on the DOM element\n   */\n  setValues(values: SearchTerm) {\n    if (values) {\n      this.$filterElm.val(values);\n    }\n  }\n\n  //\n  // private functions\n  // ------------------\n\n  /**\n   * Create the HTML template as a string\n   */\n  private buildTemplateHtmlString() {\n    const placeholder = (this.gridOptions) ? (this.gridOptions.defaultFilterPlaceholder || '') : '';\n    return `<input type=\"text\" class=\"form-control search-filter\" placeholder=\"${placeholder}\">`;\n  }\n\n  /**\n   * From the html template string, create a DOM element\n   * @param filterTemplate\n   */\n  private createDomElement(filterTemplate: string, searchTerm?: SearchTerm) {\n    const $headerElm = this.grid.getHeaderRowColumn(this.columnDef.id);\n    $($headerElm).empty();\n\n    // create the DOM element & add an ID and filter class\n    const $filterElm = $(filterTemplate);\n\n    $filterElm.val(searchTerm);\n    $filterElm.attr('id', `filter-${this.columnDef.id}`);\n    $filterElm.data('columnId', this.columnDef.id);\n\n    // if there's a search term, we will add the \"filled\" class for styling purposes\n    if (searchTerm) {\n      $filterElm.addClass('filled');\n    }\n\n    // append the new DOM element to the header row\n    if ($filterElm && typeof $filterElm.appendTo === 'function') {\n      $filterElm.appendTo($headerElm);\n    }\n\n    return $filterElm;\n  }\n}\n",
    "import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CollectionService } from './../services/collection.service';\nimport {\n  Column,\n  Filter,\n  FilterArguments,\n  FilterCallback,\n  GridOption,\n  MultipleSelectOption,\n  SearchTerm,\n  SelectOption,\n} from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n@Injectable()\nexport class MultipleSelectFilter implements Filter {\n  $filterElm: any;\n  grid: any;\n  searchTerms: SearchTerm[];\n  columnDef: Column;\n  callback: FilterCallback;\n  defaultOptions: MultipleSelectOption;\n  isFilled = false;\n  labelName: string;\n  valueName: string;\n  enableTranslateLabel = false;\n\n  /**\n   * Initialize the Filter\n   */\n  constructor(private collectionService: CollectionService, private translate: TranslateService) {\n    // default options used by this Filter, user can overwrite any of these by passing \"otions\"\n    this.defaultOptions = {\n      container: 'body',\n      filter: false,  // input search term on top of the select option list\n      maxHeight: 200,\n      okButton: true,\n      addTitle: true, // show tooltip of all selected items while hovering the filter\n      countSelected: this.translate.instant('X_OF_Y_SELECTED'),\n      allSelected: this.translate.instant('ALL_SELECTED'),\n      selectAllText: this.translate.instant('SELECT_ALL'),\n      selectAllDelimiter: ['', ''], // remove default square brackets of default text \"[Select All]\" => \"Select All\"\n\n      // we will subscribe to the onClose event for triggering our callback\n      // also add/remove \"filled\" class for styling purposes\n      onClose: () => {\n        const selectedItems = this.$filterElm.multipleSelect('getSelects');\n        if (Array.isArray(selectedItems) && selectedItems.length > 0) {\n          this.isFilled = true;\n          this.$filterElm.addClass('filled').siblings('div .search-filter').addClass('filled');\n        } else {\n          this.isFilled = false;\n          this.$filterElm.removeClass('filled').siblings('div .search-filter').removeClass('filled');\n        }\n        this.callback(undefined, { columnDef: this.columnDef, operator: 'IN', searchTerms: selectedItems });\n      }\n    };\n  }\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get gridOptions(): GridOption {\n    return (this.grid && this.grid.getOptions) ? this.grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the filter template\n   */\n  init(args: FilterArguments) {\n    this.grid = args.grid;\n    this.callback = args.callback;\n    this.columnDef = args.columnDef;\n    this.searchTerms = args.searchTerms || [];\n\n    if (!this.grid || !this.columnDef || !this.columnDef.filter || !this.columnDef.filter.collection) {\n      throw new Error(`[Angular-SlickGrid] You need to pass a \"collection\" for the MultipleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: type: FilterType.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);\n    }\n\n    this.enableTranslateLabel = this.columnDef.filter.enableTranslateLabel;\n    this.labelName = (this.columnDef.filter.customStructure) ? this.columnDef.filter.customStructure.label : 'label';\n    this.valueName = (this.columnDef.filter.customStructure) ? this.columnDef.filter.customStructure.value : 'value';\n\n    let newCollection = this.columnDef.filter.collection || [];\n\n    // user might want to filter certain items of the collection\n    if (this.gridOptions.params && this.columnDef.filter.collectionFilterBy) {\n      const filterBy = this.columnDef.filter.collectionFilterBy;\n      newCollection = this.collectionService.filterCollection(newCollection, filterBy);\n    }\n\n    // user might want to sort the collection\n    if (this.columnDef.filter && this.columnDef.filter.collectionSortBy) {\n      const sortBy = this.columnDef.filter.collectionSortBy;\n      newCollection = this.collectionService.sortCollection(newCollection, sortBy, this.enableTranslateLabel);\n    }\n\n    // step 1, create HTML string template\n    const filterTemplate = this.buildTemplateHtmlString(newCollection);\n\n    // step 2, create the DOM Element of the filter & pre-load search terms\n    // also subscribe to the onClose event\n    this.createDomElement(filterTemplate);\n  }\n\n  /**\n   * Clear the filter values\n   */\n  clear(triggerFilterChange = true) {\n    if (this.$filterElm && this.$filterElm.multipleSelect) {\n      // reload the filter element by it's id, to make sure it's still a valid element (because of some issue in the GraphQL example)\n      // this.$filterElm = $(`#${this.$filterElm[0].id}`);\n      this.$filterElm.multipleSelect('setSelects', []);\n\n      if (triggerFilterChange) {\n        this.$filterElm.removeClass('filled');\n        this.callback(undefined, { columnDef: this.columnDef, operator: 'IN', searchTerms: [] });\n      }\n    }\n  }\n\n  /**\n   * destroy the filter\n   */\n  destroy() {\n    if (this.$filterElm) {\n      this.$filterElm.off().remove();\n    }\n  }\n\n  /**\n   * Set value(s) on the DOM element\n   */\n  setValues(values: SearchTerm[]) {\n    if (values) {\n      this.$filterElm.multipleSelect('setSelects', values);\n    }\n  }\n\n  //\n  // private functions\n  // ------------------\n\n  /**\n   * Create the HTML template as a string\n   */\n  private buildTemplateHtmlString(optionCollection: any[]) {\n    let options = '';\n    optionCollection.forEach((option: SelectOption) => {\n      if (!option || (option[this.labelName] === undefined && option.labelKey === undefined)) {\n        throw new Error(`A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: type: FilterType.multipleSelect, collection: [ { value: '1', label: 'One' } ]')`);\n      }\n      const labelKey = (option.labelKey || option[this.labelName]) as string;\n      const selected = (this.findValueInSearchTerms(option[this.valueName]) >= 0) ? 'selected' : '';\n      const textLabel = ((option.labelKey || this.enableTranslateLabel) && this.translate && typeof this.translate.instant === 'function') ? this.translate.instant(labelKey || ' ') : labelKey;\n\n      // html text of each select option\n      options += `<option value=\"${option[this.valueName]}\" ${selected}>${textLabel}</option>`;\n\n      // if there's a search term, we will add the \"filled\" class for styling purposes\n      if (selected) {\n        this.isFilled = true;\n      }\n    });\n\n    return `<select class=\"ms-filter search-filter\" multiple=\"multiple\">${options}</select>`;\n  }\n\n  /**\n   * From the html template string, create a DOM element\n   * Subscribe to the onClose event and run the callback when that happens\n   * @param filterTemplate\n   */\n  private createDomElement(filterTemplate: string) {\n    const $headerElm = this.grid.getHeaderRowColumn(this.columnDef.id);\n    $($headerElm).empty();\n\n    // create the DOM element & add an ID and filter class\n    this.$filterElm = $(filterTemplate);\n    if (typeof this.$filterElm.multipleSelect !== 'function') {\n      throw new Error(`multiple-select.js was not found, make sure to modify your \"angular-cli.json\" file and include \"../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js\" and it's css or SASS file`);\n    }\n    this.$filterElm.attr('id', `filter-${this.columnDef.id}`);\n    this.$filterElm.data('columnId', this.columnDef.id);\n\n    // if there's a search term, we will add the \"filled\" class for styling purposes\n    if (this.isFilled) {\n      this.$filterElm.addClass('filled');\n    }\n\n    // append the new DOM element to the header row\n    if (this.$filterElm && typeof this.$filterElm.appendTo === 'function') {\n      this.$filterElm.appendTo($headerElm);\n    }\n\n    // merge options & attach multiSelect\n    const options: MultipleSelectOption = { ...this.defaultOptions, ...this.columnDef.filter.filterOptions };\n    this.$filterElm = this.$filterElm.multipleSelect(options);\n  }\n\n  private findValueInSearchTerms(value: number | string): number {\n    if (this.searchTerms && Array.isArray(this.searchTerms)) {\n      for (let i = 0; i < this.searchTerms.length; i++) {\n        if (this.searchTerms[i] && this.searchTerms[i] === value) {\n          return i;\n        }\n      }\n    }\n    return -1;\n  }\n}\n",
    "import { TranslateService } from '@ngx-translate/core';\nimport { Column, Filter, FilterArguments, FilterCallback, SearchTerm } from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\nexport class SelectFilter implements Filter {\n  $filterElm: any;\n  grid: any;\n  searchTerms: SearchTerm[];\n  columnDef: Column;\n  callback: FilterCallback;\n\n  constructor(private translate: TranslateService) {}\n\n  /**\n   * Initialize the Filter\n   */\n  init(args: FilterArguments) {\n    this.grid = args.grid;\n    this.callback = args.callback;\n    this.columnDef = args.columnDef;\n    this.searchTerms = args.searchTerms || [];\n\n    // filter input can only have 1 search term, so we will use the 1st array index if it exist\n    let searchTerm = (Array.isArray(this.searchTerms) && this.searchTerms[0]) || '';\n    if (typeof searchTerm === 'boolean' || typeof searchTerm === 'number') {\n      searchTerm = `${searchTerm}`;\n    }\n\n    // step 1, create HTML string template\n    const filterTemplate = this.buildTemplateHtmlString();\n\n    // step 2, create the DOM Element of the filter & initialize it if searchTerm is filled\n    this.$filterElm = this.createDomElement(filterTemplate, searchTerm);\n\n    // step 3, subscribe to the change event and run the callback when that happens\n    // also add/remove \"filled\" class for styling purposes\n    this.$filterElm.change((e: any) => {\n      (e && e.target && e.target.value) ? this.$filterElm.addClass('filled') : this.$filterElm.removeClass('filled');\n      this.callback(e, { columnDef: this.columnDef, operator: 'EQ' });\n    });\n  }\n\n  /**\n   * Clear the filter values\n   */\n  clear(triggerFilterChange = true) {\n    if (this.$filterElm) {\n      this.$filterElm.val('');\n      if (triggerFilterChange) {\n        this.$filterElm.trigger('change');\n      }\n    }\n  }\n\n  /**\n   * destroy the filter\n   */\n  destroy() {\n    if (this.$filterElm) {\n      this.$filterElm.off('change').remove();\n    }\n  }\n\n  /**\n   * Set value(s) on the DOM element\n   */\n  setValues(values: SearchTerm | SearchTerm[]) {\n    if (values) {\n      this.$filterElm.val(values);\n    }\n  }\n\n  //\n  // private functions\n  // ------------------\n\n  private buildTemplateHtmlString() {\n    if (!this.columnDef || !this.columnDef.filter || !this.columnDef.filter.collection) {\n      throw new Error(`[Angular-SlickGrid] You need to pass a \"collection\" for the Select Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: type: FilterType.select, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);\n    }\n\n    const optionCollection = this.columnDef.filter.collection || [];\n    const labelName = (this.columnDef.filter.customStructure) ? this.columnDef.filter.customStructure.label : 'label';\n    const valueName = (this.columnDef.filter.customStructure) ? this.columnDef.filter.customStructure.value : 'value';\n\n    let options = '';\n    optionCollection.forEach((option: any) => {\n      if (!option || (option[labelName] === undefined && option.labelKey === undefined)) {\n        throw new Error(`A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: type: FilterType.select, collection: [ { value: '1', label: 'One' } ]')`);\n      }\n      const labelKey = option.labelKey || option[labelName];\n      const textLabel = ((option.labelKey || this.columnDef.filter.enableTranslateLabel) && this.translate && typeof this.translate.instant === 'function') ? this.translate.instant(labelKey || ' ') : labelKey;\n      options += `<option value=\"${option[valueName]}\">${textLabel}</option>`;\n    });\n    return `<select class=\"form-control search-filter\">${options}</select>`;\n  }\n\n  /**\n   * From the html template string, create a DOM element\n   * @param filterTemplate\n   */\n  private createDomElement(filterTemplate: string, searchTerm?: SearchTerm) {\n    const $headerElm = this.grid.getHeaderRowColumn(this.columnDef.id);\n    $($headerElm).empty();\n\n    // create the DOM element & add an ID and filter class\n    const $filterElm = $(filterTemplate);\n    const searchTermInput = (searchTerm || '') as string;\n\n    $filterElm.val(searchTermInput);\n    $filterElm.attr('id', `filter-${this.columnDef.id}`);\n    $filterElm.data('columnId', this.columnDef.id);\n\n    // append the new DOM element to the header row\n    if ($filterElm && typeof $filterElm.appendTo === 'function') {\n      $filterElm.appendTo($headerElm);\n    }\n\n    return $filterElm;\n  }\n}\n",
    "import { TranslateService } from '@ngx-translate/core';\nimport { Injectable } from '@angular/core';\nimport { CollectionService } from './../services/collection.service';\nimport {\n  Column,\n  Filter,\n  FilterArguments,\n  FilterCallback,\n  GridOption,\n  MultipleSelectOption,\n  SearchTerm,\n  SelectOption,\n} from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n@Injectable()\nexport class SingleSelectFilter implements Filter {\n  $filterElm: any;\n  grid: any;\n  searchTerms: SearchTerm[];\n  columnDef: Column;\n  callback: FilterCallback;\n  defaultOptions: MultipleSelectOption;\n  isFilled = false;\n  labelName: string;\n  valueName: string;\n  enableTranslateLabel = false;\n\n  constructor(private collectionService: CollectionService, private translate: TranslateService) {\n    // default options used by this Filter, user can overwrite any of these by passing \"otions\"\n    this.defaultOptions = {\n      container: 'body',\n      filter: false,  // input search term on top of the select option list\n      maxHeight: 200,\n      single: true,\n      onClose: () => {\n        const selectedItems = this.$filterElm.multipleSelect('getSelects');\n        let selectedItem = '';\n\n        if (Array.isArray(selectedItems) && selectedItems.length > 0) {\n          selectedItem = selectedItems[0];\n          this.isFilled = true;\n          this.$filterElm.addClass('filled').siblings('div .search-filter').addClass('filled');\n        } else {\n          this.isFilled = false;\n          this.$filterElm.removeClass('filled').siblings('div .search-filter').removeClass('filled');\n        }\n        this.callback(undefined, { columnDef: this.columnDef, operator: 'EQ', searchTerms: [selectedItem] });\n      }\n    };\n  }\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get gridOptions(): GridOption {\n    return (this.grid && this.grid.getOptions) ? this.grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the Filter\n   */\n  init(args: FilterArguments) {\n    this.grid = args.grid;\n    this.callback = args.callback;\n    this.columnDef = args.columnDef;\n    this.searchTerms = args.searchTerms;\n\n    if (!this.grid || !this.columnDef || !this.columnDef.filter || !this.columnDef.filter.collection) {\n      throw new Error(`[Angular-SlickGrid] You need to pass a \"collection\" for the MultipleSelect Filter to work correctly. Also each option should include a value/label pair (or value/labelKey when using Locale). For example:: { filter: type: FilterType.multipleSelect, collection: [{ value: true, label: 'True' }, { value: false, label: 'False'}] }`);\n    }\n\n    this.enableTranslateLabel = this.columnDef.filter.enableTranslateLabel;\n    this.labelName = (this.columnDef.filter.customStructure) ? this.columnDef.filter.customStructure.label : 'label';\n    this.valueName = (this.columnDef.filter.customStructure) ? this.columnDef.filter.customStructure.value : 'value';\n\n    let newCollection = this.columnDef.filter.collection || [];\n\n    // user might want to filter certain items of the collection\n    if (this.gridOptions.params && this.columnDef.filter.collectionFilterBy) {\n      const filterBy = this.columnDef.filter.collectionFilterBy;\n      newCollection = this.collectionService.filterCollection(newCollection, filterBy);\n    }\n\n    // user might want to sort the collection\n    if (this.columnDef.filter && this.columnDef.filter.collectionSortBy) {\n      const sortBy = this.columnDef.filter.collectionSortBy;\n      newCollection = this.collectionService.sortCollection(newCollection, sortBy, this.enableTranslateLabel);\n    }\n\n    // filter input can only have 1 search term, so we will use the 1st array index if it exist\n    // also when the search term is a boolean or a number, we will convert it to a string\n    let searchTerm = (Array.isArray(this.searchTerms) && this.searchTerms[0]) || '';\n    if (typeof searchTerm === 'boolean' || typeof searchTerm === 'number') {\n      searchTerm = `${searchTerm}`;\n    }\n\n    // step 1, create HTML string template\n    const filterTemplate = this.buildTemplateHtmlString(newCollection || [], searchTerm);\n\n    // step 2, create the DOM Element of the filter & pre-load search term\n    this.createDomElement(filterTemplate);\n  }\n\n  /**\n   * Clear the filter values\n   */\n  clear(triggerFilterChange = true) {\n    if (this.$filterElm && this.$filterElm.multipleSelect) {\n      // reload the filter element by it's id, to make sure it's still a valid element (because of some issue in the GraphQL example)\n      // this.$filterElm = $(`#${this.$filterElm[0].id}`);\n      this.$filterElm.multipleSelect('setSelects', []);\n\n      if (triggerFilterChange) {\n        this.callback(undefined, { columnDef: this.columnDef, operator: 'IN', searchTerms: [] });\n      }\n    }\n  }\n\n  /**\n   * destroy the filter\n   */\n  destroy() {\n    if (this.$filterElm) {\n      this.$filterElm.off().remove();\n    }\n  }\n\n  /**\n   * Set value(s) on the DOM element\n   */\n  setValues(values: SearchTerm | SearchTerm[]) {\n    if (values) {\n      values = Array.isArray(values) ? values : [values];\n      this.$filterElm.multipleSelect('setSelects', values);\n    }\n  }\n\n  //\n  // private functions\n  // ------------------\n\n  /**\n   * Create the HTML template as a string\n   */\n  private buildTemplateHtmlString(optionCollection: any[], searchTerm?: SearchTerm) {\n    let options = '';\n    optionCollection.forEach((option: SelectOption) => {\n      if (!option || (option[this.labelName] === undefined && option.labelKey === undefined)) {\n        throw new Error(`A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example:: { filter: type: FilterType.singleSelect, collection: [ { value: '1', label: 'One' } ]')`);\n      }\n\n      const labelKey = (option.labelKey || option[this.labelName]) as string;\n      const selected = (option[this.valueName] === searchTerm) ? 'selected' : '';\n      const textLabel = ((option.labelKey || this.columnDef.filter.enableTranslateLabel) && this.translate && typeof this.translate.instant === 'function') ? this.translate.instant(labelKey || ' ') : labelKey;\n\n      // html text of each select option\n      options += `<option value=\"${option[this.valueName]}\" ${selected}>${textLabel}</option>`;\n\n      // if there's a search term, we will add the \"filled\" class for styling purposes\n      if (selected) {\n        this.isFilled = true;\n      }\n    });\n\n    return `<select class=\"ms-filter search-filter\">${options}</select>`;\n  }\n\n  /**\n   * From the html template string, create a DOM element\n   * Subscribe to the onClose event and run the callback when that happens\n   * @param filterTemplate\n   */\n  private createDomElement(filterTemplate: string) {\n    const $headerElm = this.grid.getHeaderRowColumn(this.columnDef.id);\n    $($headerElm).empty();\n\n    // create the DOM element & add an ID and filter class\n    this.$filterElm = $(filterTemplate);\n    if (typeof this.$filterElm.multipleSelect !== 'function') {\n      throw new Error(`multiple-select.js was not found, make sure to modify your \"angular-cli.json\" file and include \"../node_modules/angular-slickgrid/lib/multiple-select/multiple-select.js\" and it's css or SASS file`);\n    }\n    this.$filterElm.attr('id', `filter-${this.columnDef.id}`);\n    this.$filterElm.data('columnId', this.columnDef.id);\n\n    // append the new DOM element to the header row\n    if (this.$filterElm && typeof this.$filterElm.appendTo === 'function') {\n      this.$filterElm.appendTo($headerElm);\n    }\n\n    // merge options & attach multiSelect\n    const options: MultipleSelectOption = { ...this.defaultOptions, ...this.columnDef.filter.filterOptions };\n    this.$filterElm = this.$filterElm.multipleSelect(options);\n  }\n}\n",
    "import { Column, Filter } from './../models/index';\r\nimport { CompoundDateFilter } from './compoundDateFilter';\r\nimport { CompoundInputFilter } from './compoundInputFilter';\r\nimport { InputFilter } from './inputFilter';\r\nimport { MultipleSelectFilter } from './multipleSelectFilter';\r\nimport { SelectFilter } from './selectFilter';\r\nimport { SingleSelectFilter } from './singleSelectFilter';\r\n\r\nexport const Filters = {\r\n  /** Default Filter, input type text filter with a magnifying glass placeholder */\r\n  input: InputFilter,\r\n\r\n  /** Multiple Select filter, which uses 3rd party lib \"multiple-select.js\" */\r\n  multipleSelect: MultipleSelectFilter,\r\n\r\n  /** Single Select filter, which uses 3rd party lib \"multiple-select.js\" */\r\n  singleSelect: SingleSelectFilter,\r\n\r\n  /** Select filter, which uses native DOM element select */\r\n  select: SelectFilter,\r\n\r\n  /** Compound Date Filter (compound of Operator + Date picker) */\r\n  compoundDate: CompoundDateFilter,\r\n\r\n  /** Compound Input Filter (compound of Operator + Input) */\r\n  compoundInput: CompoundInputFilter,\r\n};\r\n",
    "import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CollectionService } from './collection.service';\nimport { castToPromise } from './utilities';\nimport { FilterConditions } from './../filter-conditions';\nimport { Filters } from './../filters';\nimport {\n  Column,\n  ColumnFilter,\n  ColumnFilters,\n  Filter,\n  FilterArguments,\n  FilterCallbackArg,\n  FieldType,\n  FilterType,\n  GridOption,\n  OperatorType,\n  CurrentFilter,\n  SearchTerm,\n  SlickEvent,\n  OperatorString\n} from './../models/index';\nimport { Subject } from 'rxjs/Subject';\n\n// using external non-typed js libraries\ndeclare var Slick: any;\ndeclare var $: any;\n\n@Injectable()\nexport class FilterService {\n  private _eventHandler = new Slick.EventHandler();\n  private _slickSubscriber: SlickEvent;\n  private _filters: any[] = [];\n  private _columnFilters: ColumnFilters = {};\n  private _dataView: any;\n  private _grid: any;\n  private _onFilterChangedOptions: any;\n  private _isFirstQuery = true;\n  onFilterChanged = new Subject<CurrentFilter[]>();\n\n  constructor(private collectionService: CollectionService, private translate: TranslateService) { }\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /** Getter for the Column Definitions pulled through the Grid Object */\n  private get _columnDefinitions(): Column[] {\n    return (this._grid && this._grid.getColumns) ? this._grid.getColumns() : [];\n  }\n\n  init(grid: any): void {\n    this._grid = grid;\n  }\n\n  /**\n   * Attach a backend filter hook to the grid\n   * @param grid SlickGrid Grid object\n   */\n  attachBackendOnFilter(grid: any) {\n    this._filters = [];\n    this._slickSubscriber = new Slick.Event();\n\n    // subscribe to the SlickGrid event and call the backend execution\n    this._slickSubscriber.subscribe(this.attachBackendOnFilterSubscribe.bind(this));\n\n    // subscribe to SlickGrid onHeaderRowCellRendered event to create filter template\n    this._eventHandler.subscribe(grid.onHeaderRowCellRendered, (e: Event, args: any) => {\n      this.addFilterTemplateToHeaderRow(args);\n    });\n  }\n\n  async attachBackendOnFilterSubscribe(event: Event, args: any) {\n    if (!args || !args.grid) {\n      throw new Error('Something went wrong when trying to attach the \"attachBackendOnFilterSubscribe(event, args)\" function, it seems that \"args\" is not populated correctly');\n    }\n    const backendApi = this._gridOptions.backendServiceApi;\n    if (!backendApi || !backendApi.process || !backendApi.service) {\n      throw new Error(`BackendServiceApi requires at least a \"process\" function and a \"service\" defined`);\n    }\n\n    // run a preProcess callback if defined\n    if (backendApi.preProcess) {\n      backendApi.preProcess();\n    }\n\n    // call the service to get a query back\n    const query = await backendApi.service.processOnFilterChanged(event, args);\n\n    // emit an onFilterChanged event\n    this.emitFilterChanged('remote');\n\n    // the process could be an Observable (like HttpClient) or a Promise\n    // in any case, we need to have a Promise so that we can await on it (if an Observable, convert it to Promise)\n    const observableOrPromise = backendApi.process(query);\n    const processResult = await castToPromise(observableOrPromise);\n\n    // from the result, call our internal post process to update the Dataset and Pagination info\n    if (processResult && backendApi.internalPostProcess) {\n      backendApi.internalPostProcess(processResult);\n    }\n\n    // send the response process to the postProcess callback\n    if (backendApi.postProcess !== undefined) {\n      backendApi.postProcess(processResult);\n    }\n  }\n\n  /**\n   * Attach a local filter hook to the grid\n   * @param grid SlickGrid Grid object\n   * @param dataView\n   */\n  attachLocalOnFilter(grid: any, dataView: any) {\n    this._filters = [];\n    this._dataView = dataView;\n    this._slickSubscriber = new Slick.Event();\n\n    dataView.setFilterArgs({ columnFilters: this._columnFilters, grid: this._grid });\n    dataView.setFilter(this.customLocalFilter.bind(this, dataView));\n\n    this._slickSubscriber.subscribe((e: any, args: any) => {\n      const columnId = args.columnId;\n      if (columnId != null) {\n        dataView.refresh();\n      }\n      this.emitFilterChanged('local');\n    });\n\n    // subscribe to SlickGrid onHeaderRowCellRendered event to create filter template\n    this._eventHandler.subscribe(grid.onHeaderRowCellRendered, (e: Event, args: any) => {\n      this.addFilterTemplateToHeaderRow(args);\n    });\n  }\n\n  /** Clear the search filters (below the column titles) */\n  clearFilters() {\n    this._filters.forEach((filter, index) => {\n      if (filter && filter.clear) {\n        // clear element and trigger a change\n        filter.clear(true);\n      }\n    });\n\n    // we need to loop through all columnFilters and delete them 1 by 1\n    // only trying to clear columnFilter (without looping through) would not trigger a dataset change\n    for (const columnId in this._columnFilters) {\n      if (columnId && this._columnFilters[columnId]) {\n        delete this._columnFilters[columnId];\n      }\n    }\n\n    // we also need to refresh the dataView and optionally the grid (it's optional since we use DataView)\n    if (this._dataView) {\n      this._dataView.refresh();\n      this._grid.invalidate();\n      this._grid.render();\n    }\n  }\n\n  customLocalFilter(dataView: any, item: any, args: any) {\n    for (const columnId of Object.keys(args.columnFilters)) {\n      const columnFilter = args.columnFilters[columnId];\n      const columnIndex = args.grid.getColumnIndex(columnId);\n      const columnDef = args.grid.getColumns()[columnIndex];\n      if (!columnDef) {\n        return false;\n      }\n      const fieldType = columnDef.type || FieldType.string;\n      const filterSearchType = (columnDef.filterSearchType) ? columnDef.filterSearchType : null;\n\n      let cellValue = item[columnDef.queryField || columnDef.queryFieldFilter || columnDef.field];\n      const searchTerms = (columnFilter && columnFilter.searchTerms) ? columnFilter.searchTerms : null;\n      let fieldSearchValue = (Array.isArray(searchTerms) && searchTerms.length === 1) ? searchTerms[0] : '';\n\n      if (typeof fieldSearchValue === 'undefined') {\n        fieldSearchValue = '';\n      }\n      fieldSearchValue = '' + fieldSearchValue; // make sure it's a string\n\n      const matches = fieldSearchValue.match(/^([<>!=\\*]{0,2})(.*[^<>!=\\*])([\\*]?)$/); // group 1: Operator, 2: searchValue, 3: last char is '*' (meaning starts with, ex.: abc*)\n      let operator = columnFilter.operator || ((matches) ? matches[1] : '');\n      const searchTerm = (!!matches) ? matches[2] : '';\n      const lastValueChar = (!!matches) ? matches[3] : (operator === '*z' ? '*' : '');\n\n      if (searchTerms && searchTerms.length > 1) {\n        fieldSearchValue = searchTerms.join(',');\n      } else if (typeof fieldSearchValue === 'string') {\n        // escaping the search value\n        fieldSearchValue = fieldSearchValue.replace(`'`, `''`); // escape single quotes by doubling them\n        if (operator === '*' || operator === 'a*' || operator === '*z' || lastValueChar === '*') {\n          operator = (operator === '*' || operator === '*z') ? OperatorType.endsWith : OperatorType.startsWith;\n        }\n      }\n\n      // when using a Filter that is not a custom type, we want to make sure that we have a default operator type\n      // for example a multiple-select should always be using IN, while a single select will use an EQ\n      const filterType = (columnDef.filter && columnDef.filter.type) ? columnDef.filter.type : FilterType.input;\n      if (!operator && filterType !== FilterType.custom) {\n        switch (filterType) {\n          case FilterType.select:\n          case FilterType.multipleSelect:\n            operator = 'IN';\n            break;\n          case FilterType.singleSelect:\n            operator = 'EQ';\n            break;\n          default:\n            operator = operator;\n            break;\n        }\n      }\n\n      // no need to query if search value is empty\n      if (searchTerm === '' && !searchTerms) {\n        return true;\n      }\n\n      // filter search terms should always be string type (even though we permit the end user to input numbers)\n      // so make sure each term are strings, if user has some default search terms, we will cast them to string\n      if (searchTerms && Array.isArray(searchTerms)) {\n        for (let k = 0, ln = searchTerms.length; k < ln; k++) {\n          // make sure all search terms are strings\n          searchTerms[k] = ((searchTerms[k] === undefined || searchTerms[k] === null) ? '' : searchTerms[k]) + '';\n        }\n      }\n\n      // when using localization (i18n), we should use the formatter output to search as the new cell value\n      if (columnDef && columnDef.params && columnDef.params.useFormatterOuputToFilter) {\n        const rowIndex = (dataView && typeof dataView.getIdxById === 'function') ? dataView.getIdxById(item.id) : 0;\n        cellValue = columnDef.formatter(rowIndex, columnIndex, cellValue, columnDef, item, this._grid);\n      }\n\n      // make sure cell value is always a string\n      if (typeof cellValue === 'number') {\n        cellValue = cellValue.toString();\n      }\n\n      const conditionOptions = {\n        fieldType,\n        searchTerms,\n        cellValue,\n        operator,\n        cellValueLastChar: lastValueChar,\n        filterSearchType\n      };\n\n      if (!FilterConditions.executeMappedCondition(conditionOptions)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  dispose() {\n    this.disposeColumnFilters();\n\n    // unsubscribe all SlickGrid events\n    this._eventHandler.unsubscribeAll();\n\n    // unsubscribe local event\n    if (this._slickSubscriber && typeof this._slickSubscriber.unsubscribe === 'function') {\n      this._slickSubscriber.unsubscribe();\n    }\n  }\n\n  /**\n   * Dispose of the filters, since it's a singleton, we don't want to affect other grids with same columns\n   */\n  disposeColumnFilters() {\n    // we need to loop through all columnFilters and delete them 1 by 1\n    // only trying to make columnFilter an empty (without looping) would not trigger a dataset change\n    for (const columnId in this._columnFilters) {\n      if (columnId && this._columnFilters[columnId]) {\n        delete this._columnFilters[columnId];\n      }\n    }\n\n    // also destroy each Filter instances\n    this._filters.forEach((filter, index) => {\n      if (filter && filter.destroy) {\n        filter.destroy(true);\n      }\n    });\n  }\n\n  getColumnFilters() {\n    return this._columnFilters;\n  }\n\n  getCurrentLocalFilters(): CurrentFilter[] {\n    const currentFilters: CurrentFilter[] = [];\n    if (this._columnFilters) {\n      for (const colId of Object.keys(this._columnFilters)) {\n        const columnFilter = this._columnFilters[colId];\n        const columnDef = columnFilter.columnDef;\n        const filter = { columnId: colId || '' } as CurrentFilter;\n\n        if (columnFilter && columnFilter.searchTerms) {\n          filter.searchTerms = columnFilter.searchTerms;\n        }\n        if (columnFilter.operator) {\n          filter.operator = columnFilter.operator;\n        }\n        currentFilters.push(filter);\n      }\n    }\n    return currentFilters;\n  }\n\n  callbackSearchEvent(e: Event | undefined, args: FilterCallbackArg) {\n    if (args) {\n      const searchTerm = ((e && e.target) ? (e.target as HTMLInputElement).value : undefined);\n      const searchTerms = (args.searchTerms && Array.isArray(args.searchTerms)) ? args.searchTerms : searchTerm ? [searchTerm] : undefined;\n      const columnDef = args.columnDef || null;\n      const columnId = columnDef ? (columnDef.id || '') : '';\n      const operator = args.operator || undefined;\n\n      if (!searchTerms || (Array.isArray(searchTerms) && searchTerms.length === 0)) {\n        // delete the property from the columnFilters when it becomes empty\n        // without doing this, it would leave an incorrect state of the previous column filters when filtering on another column\n        delete this._columnFilters[columnId];\n      } else {\n        const colId = '' + columnId as string;\n        const colFilter: ColumnFilter = {\n          columnId: colId,\n          columnDef,\n          searchTerms,\n        };\n        if (operator) {\n          colFilter.operator = operator;\n        }\n        this._columnFilters[colId] = colFilter;\n      }\n\n      this.triggerEvent(this._slickSubscriber, {\n        columnId,\n        columnDef: args.columnDef || null,\n        columnFilters: this._columnFilters,\n        operator,\n        searchTerms,\n        serviceOptions: this._onFilterChangedOptions,\n        grid: this._grid\n      }, e);\n    }\n  }\n\n  addFilterTemplateToHeaderRow(args: { column: Column; grid: any; node: any }) {\n    const columnDef = args.column;\n    const columnId = columnDef.id || '';\n\n    if (columnDef && columnId !== 'selector' && columnDef.filterable) {\n      let searchTerms: SearchTerm[] | undefined;\n      let operator: OperatorString | OperatorType;\n\n      if (this._columnFilters[columnDef.id]) {\n        searchTerms = this._columnFilters[columnDef.id].searchTerms || undefined;\n        operator = this._columnFilters[columnDef.id].operator || undefined;\n      } else if (columnDef.filter) {\n        // when hiding/showing (with Column Picker or Grid Menu), it will try to re-create yet again the filters (since SlickGrid does a re-render)\n        // because of that we need to first get searchTerm(s) from the columnFilters (that is what the user last entered)\n        searchTerms = columnDef.filter.searchTerms || undefined;\n        operator = columnDef.filter.operator || undefined;\n        this.updateColumnFilters(searchTerms, columnDef);\n      }\n\n      const filterArguments: FilterArguments = {\n        grid: this._grid,\n        operator,\n        searchTerms,\n        columnDef,\n        callback: this.callbackSearchEvent.bind(this)\n      };\n\n      // depending on the Filter type, we will watch the correct event\n      // or use the global default when no filter type is provided\n      let filterType = (columnDef.filter && columnDef.filter.type) ? columnDef.filter.type : FilterType.input;\n      if (!filterType) {\n        filterType = this._gridOptions.defaultFilterType;\n      }\n\n      let filter: Filter;\n      switch (filterType) {\n        case FilterType.custom:\n          if (columnDef && columnDef.filter && columnDef.filter.customFilter) {\n            filter = columnDef.filter.customFilter;\n          }\n          break;\n        case FilterType.select:\n          filter = new Filters.select(this.translate);\n          break;\n        case FilterType.multipleSelect:\n          filter = new Filters.multipleSelect(this.collectionService, this.translate);\n          break;\n        case FilterType.singleSelect:\n          filter = new Filters.singleSelect(this.collectionService, this.translate);\n          break;\n        case FilterType.compoundDate:\n          filter = new Filters.compoundDate(this.translate);\n          break;\n        case FilterType.compoundInput:\n          filter = new Filters.compoundInput(this.translate);\n          break;\n        case FilterType.input:\n        default:\n          filter = new Filters.input();\n          break;\n      }\n\n      if (filter) {\n        filter.init(filterArguments);\n        const filterExistIndex = this._filters.findIndex((filt) => filter.columnDef.name === filt.columnDef.name);\n\n        // add to the filters arrays or replace it when found\n        if (filterExistIndex === -1) {\n          this._filters.push(filter);\n        } else {\n          this._filters[filterExistIndex] = filter;\n        }\n\n        // when hiding/showing (with Column Picker or Grid Menu), it will try to re-create yet again the filters (since SlickGrid does a re-render)\n        // we need to also set again the values in the DOM elements if the values were set by a searchTerm(s)\n        if (searchTerms && filter.setValues) {\n          filter.setValues(searchTerms);\n        }\n      }\n    }\n  }\n\n  /**\n   * A simple function that is attached to the subscriber and emit a change when the sort is called.\n   * Other services, like Pagination, can then subscribe to it.\n   * @param sender\n   */\n  emitFilterChanged(sender: 'local' | 'remote') {\n    if (sender === 'remote' && this._gridOptions && this._gridOptions.backendServiceApi) {\n      let currentFilters: CurrentFilter[] = [];\n      const backendService = this._gridOptions.backendServiceApi.service;\n      if (backendService && backendService.getCurrentFilters) {\n        currentFilters = backendService.getCurrentFilters() as CurrentFilter[];\n      }\n      this.onFilterChanged.next(currentFilters);\n    } else if (sender === 'local') {\n      this.onFilterChanged.next(this.getCurrentLocalFilters());\n    }\n  }\n\n  /**\n   * When user passes an array of preset filters, we need to pre-populate each column filter searchTerm(s)\n   * The process is to loop through the preset filters array, find the associated column from columnDefinitions and fill in the filter object searchTerm(s)\n   * This is basically the same as if we would manually add searchTerm(s) to a column filter object in the column definition, but we do it programmatically.\n   * At the end of the day, when creating the Filter (DOM Element), it will use these searchTerm(s) so we can take advantage of that without recoding each Filter type (DOM element)\n   * @param grid\n   */\n  populateColumnFilterSearchTerms(grid: any) {\n    if (this._gridOptions.presets && this._gridOptions.presets.filters) {\n      const filters = this._gridOptions.presets.filters;\n      this._columnDefinitions.forEach((columnDef: Column) =>  {\n        const columnPreset = filters.find((presetFilter: CurrentFilter) => {\n          return presetFilter.columnId === columnDef.id;\n        });\n        if (columnPreset && columnPreset.searchTerms) {\n          columnDef.filter = columnDef.filter || {};\n          columnDef.filter.operator = columnPreset.operator || columnDef.filter.operator || OperatorType.in;\n          columnDef.filter.searchTerms = columnPreset.searchTerms;\n        }\n      });\n    }\n    return this._columnDefinitions;\n  }\n\n  private updateColumnFilters(searchTerms: SearchTerm[] | undefined, columnDef: any) {\n    if (searchTerms) {\n      // this._columnFilters.searchTerms = searchTerms;\n      this._columnFilters[columnDef.id] = {\n        columnId: columnDef.id,\n        columnDef,\n        searchTerms,\n        operator: (columnDef && columnDef.filter && columnDef.filter.operator) ? columnDef.filter.operator : null,\n        type: (columnDef && columnDef.filter && columnDef.filter.type) ? columnDef.filter.type : FilterType.input\n      };\n    }\n  }\n\n  private triggerEvent(slickEvent: any, args: any, e: any) {\n    slickEvent = slickEvent || new Slick.Event();\n\n    // event might have been created as a CustomEvent (e.g. CompoundDateFilter), without being a valid Slick.EventData.\n    // if so we will create a new Slick.EventData and merge it with that CustomEvent to avoid having SlickGrid errors\n    let event = e;\n    if (e && typeof e.isPropagationStopped !== 'function') {\n      event = $.extend({}, new Slick.EventData(), e);\n    }\n    slickEvent.notify(args, event, args.grid);\n  }\n}\n",
    "import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport {\n  CellArgs,\n  CustomGridMenu,\n  Column,\n  DelimiterType,\n  ExportOption,\n  FileType,\n  Formatter,\n  GraphqlResult,\n  GridMenu,\n  GridOption,\n  HeaderButtonOnCommandArgs,\n  HeaderMenuOnCommandArgs,\n  HeaderMenuOnBeforeMenuShowArgs\n} from './../models/index';\nimport { addWhiteSpaces, htmlEntityDecode, sanitizeHtmlToText } from './../services/utilities';\nimport { Subject } from 'rxjs/Subject';\nimport { TextEncoder } from 'text-encoding-utf-8';\n\n// using external non-typed js libraries\ndeclare let Slick: any;\ndeclare let $: any;\n\nexport interface ExportColumnHeader {\n  key: string;\n  title: string;\n}\n\n@Injectable()\nexport class ExportService {\n  private _lineCarriageReturn = '\\n';\n  private _dataView: any;\n  private _grid: any;\n  private _exportQuoteWrapper: string;\n  private _columnHeaders: ExportColumnHeader[];\n  private _groupedHeaders: ExportColumnHeader[];\n  private _hasGroupedItems = false;\n  private _exportOptions: ExportOption;\n  onGridBeforeExportToFile = new Subject<boolean>();\n  onGridAfterExportToFile = new Subject<{ options: any }>();\n\n  constructor(private translate: TranslateService) { }\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the Export Service\n   * @param grid\n   * @param gridOptions\n   * @param dataView\n   */\n  init(grid: any, dataView: any): void {\n    this._grid = grid;\n    this._dataView = dataView;\n  }\n\n  /**\n   * Function to export the Grid result to an Excel CSV format using javascript for it to produce the CSV file.\n   * This is a WYSIWYG export to file output (What You See is What You Get)\n   *\n   * NOTES: The column position needs to match perfectly the JSON Object position because of the way we are pulling the data,\n   * which means that if any column(s) got moved in the UI, it has to be reflected in the JSON array output as well\n   *\n   * Example: exportToFile({ format: FileType.csv, delimiter: DelimiterType.comma })\n   */\n  exportToFile(options: ExportOption) {\n    this.onGridBeforeExportToFile.next(true);\n    this._exportOptions = $.extend(true, {}, this._gridOptions.exportOptions, options);\n\n    // get the CSV output from the grid data\n    const dataOutput = this.getDataOutput();\n\n    // trigger a download file\n    // wrap it into a setTimeout so that the EventAggregator has enough time to start a pre-process like showing a spinner\n    setTimeout(() => {\n      const downloadOptions = {\n        filename: `${this._exportOptions.filename}.${this._exportOptions.format}`,\n        csvContent: dataOutput,\n        format: this._exportOptions.format,\n        useUtf8WithBom: this._exportOptions.useUtf8WithBom\n      };\n      this.startDownloadFile(downloadOptions);\n      this.onGridAfterExportToFile.next({ options: downloadOptions });\n    }, 0);\n  }\n\n  // -----------------------\n  // Private functions\n  // -----------------------\n\n  getDataOutput(): string {\n    const columns = this._grid.getColumns() || [];\n    const delimiter = this._exportOptions.delimiter || '';\n    const format = this._exportOptions.format || '';\n    const groupByColumnHeader = this._exportOptions.groupingColumnHeaderTitle || this.translate.instant('GROUP_BY');\n\n    // a CSV needs double quotes wrapper, the other types do not need any wrapper\n    this._exportQuoteWrapper = (format === FileType.csv) ? '\"' : '';\n\n    // data variable which will hold all the fields data of a row\n    let outputDataString = '';\n\n    // get grouped column titles and if found, we will add a \"Group by\" column at the first column index\n    const grouping = this._dataView.getGrouping();\n    if (grouping && Array.isArray(grouping) && grouping.length > 0) {\n      this._hasGroupedItems = true;\n      outputDataString += `${groupByColumnHeader}` + delimiter;\n    } else {\n      this._hasGroupedItems = false;\n    }\n\n    // get all column headers\n    this._columnHeaders = this.getColumnHeaders(columns) || [];\n    if (this._columnHeaders && Array.isArray(this._columnHeaders) && this._columnHeaders.length > 0) {\n      // add the header row + add a new line at the end of the row\n      const outputHeaderTitles = this._columnHeaders.map((header) => {\n        return this._exportQuoteWrapper + header.title + this._exportQuoteWrapper;\n      });\n      outputDataString += (outputHeaderTitles.join(delimiter) + this._lineCarriageReturn);\n    }\n\n    // Populate the rest of the Grid Data\n    outputDataString += this.getAllGridRowData(columns, this._lineCarriageReturn);\n\n    return outputDataString;\n  }\n\n  /**\n   * Get all the grid row data and return that as an output string\n   */\n  getAllGridRowData(columns: Column[], lineCarriageReturn: string): string {\n    let outputDataString = '';\n    const lineCount = this._dataView.getLength();\n\n    // loop through all the grid rows of data\n    for (let rowNumber = 0; rowNumber < lineCount; rowNumber++) {\n      const itemObj = this._dataView.getItem(rowNumber);\n\n      if (itemObj != null) {\n        // Normal row (not grouped by anything) would have an ID which was predefined in the Grid Columns definition\n        if (itemObj.id != null) {\n          // get regular row item data\n          outputDataString += this.readRegularRowData(columns, rowNumber, itemObj);\n        } else if (this._hasGroupedItems && itemObj.__groupTotals === undefined) {\n          // get the group row\n          outputDataString += this.readGroupedTitleRow(itemObj) + this._exportOptions.delimiter;\n        } else if (itemObj.__groupTotals) {\n          // else if the row is a Group By and we have agreggators, then a property of '__groupTotals' would exist under that object\n          outputDataString += this.readGroupedTotalRow(columns, itemObj) + this._exportOptions.delimiter;\n        }\n        outputDataString += lineCarriageReturn;\n      }\n    }\n\n    return outputDataString;\n  }\n\n  /**\n   * Get all header titles and their keys, translate the title when required.\n   * @param columns of the grid\n   */\n  getColumnHeaders(columns: Column[]): ExportColumnHeader[] {\n    if (!columns || !Array.isArray(columns) || columns.length === 0) {\n      return null;\n    }\n    const columnHeaders = [];\n\n    // Populate the Column Header, pull the name defined\n    columns.forEach((columnDef) => {\n      const fieldName = (columnDef.headerKey) ? this.translate.instant(columnDef.headerKey) : columnDef.name;\n      const skippedField = columnDef.excludeFromExport || false;\n\n      // if column width is 0 then it's not evaluated since that field is considered hidden should not be part of the export\n      if ((columnDef.width ===  undefined || columnDef.width > 0) && !skippedField) {\n        columnHeaders.push({\n          key: columnDef.field || columnDef.id,\n          title: fieldName\n        });\n      }\n    });\n\n    return columnHeaders;\n  }\n\n  /**\n   * Get the data of a regular row (a row without grouping)\n   * @param row\n   * @param itemObj\n   */\n  readRegularRowData(columns: Column[], row: number, itemObj: any) {\n    let idx = 0;\n    let rowOutputString = '';\n    const delimiter = this._exportOptions.delimiter;\n    const format = this._exportOptions.format;\n    const exportQuoteWrapper = this._exportQuoteWrapper || '';\n\n    for (let col = 0, ln = columns.length; col < ln; col++) {\n      const columnDef = columns[col];\n      const fieldId = columnDef.field || columnDef.id || '';\n\n      // skip excluded column\n      if (columnDef.excludeFromExport) {\n          continue;\n      }\n\n      // if we are grouping and are on 1st column index, we need to skip this column since it will be used later by the grouping text:: Group by [columnX]\n      if (this._hasGroupedItems && idx === 0) {\n        rowOutputString += `\"\"` + delimiter;\n      }\n\n      // does the user want to evaluate current column Formatter?\n      const isEvaluatingFormatter = (columnDef.exportWithFormatter !== undefined) ? columnDef.exportWithFormatter : this._exportOptions.exportWithFormatter;\n\n      // did the user provide a Custom Formatter for the export\n      const exportCustomFormatter: Formatter = (columnDef.exportCustomFormatter !== undefined) ? columnDef.exportCustomFormatter : undefined;\n\n      let itemData = '';\n\n      if (exportCustomFormatter) {\n        itemData = exportCustomFormatter(row, col, itemObj[fieldId], columnDef, itemObj, this._grid);\n      } else if (isEvaluatingFormatter && !!columnDef.formatter) {\n        itemData = columnDef.formatter(row, col, itemObj[fieldId], columnDef, itemObj, this._grid);\n      } else {\n        itemData = (itemObj[fieldId] === null || itemObj[fieldId] === undefined) ? '' : itemObj[fieldId];\n      }\n\n      // does the user want to sanitize the output data (remove HTML tags)?\n      if (columnDef.sanitizeDataExport || this._exportOptions.sanitizeDataExport) {\n        itemData = sanitizeHtmlToText(itemData);\n      }\n\n      // when CSV we also need to escape double quotes twice, so \" becomes \"\"\n      if (format === FileType.csv) {\n        itemData = itemData.toString().replace(/\"/gi, `\"\"`);\n      }\n\n      // do we have a wrapper to keep as a string? in certain cases like \"1E06\", we don't want excel to transform it into exponential (1.0E06)\n      // to cancel that effect we can had = in front, ex: =\"1E06\"\n      const keepAsStringWrapper = (columnDef && columnDef.exportCsvForceToKeepAsString) ? '=' : '';\n\n      rowOutputString += keepAsStringWrapper + exportQuoteWrapper + itemData + exportQuoteWrapper + delimiter;\n      idx++;\n    }\n\n    return rowOutputString;\n  }\n\n  /**\n   * Get the grouped title(s), for example if we grouped by salesRep, the returned result would be:: 'Sales Rep'\n   * @param itemObj\n   */\n  readGroupedTitleRow(itemObj: any) {\n    let groupName = sanitizeHtmlToText(itemObj.title);\n    const exportQuoteWrapper = this._exportQuoteWrapper || '';\n    const delimiter = this._exportOptions.delimiter;\n    const format = this._exportOptions.format;\n\n    groupName = addWhiteSpaces(5 * itemObj.level) + groupName;\n\n    if (format === FileType.csv) {\n      // when CSV we also need to escape double quotes twice, so \" becomes \"\"\n      groupName = groupName.toString().replace(/\"/gi, `\"\"`);\n    }\n\n    // do we have a wrapper to keep as a string? in certain cases like \"1E06\", we don't want excel to transform it into exponential (1.0E06)\n    // to cancel that effect we can had = in front, ex: =\"1E06\"\n    // const keepAsStringWrapper = (columnDef && columnDef.exportCsvForceToKeepAsString) ? '=' : '';\n\n    return /*keepAsStringWrapper +*/ exportQuoteWrapper + ' ' + groupName + exportQuoteWrapper + delimiter;\n  }\n\n  /**\n   * Get the grouped totals, these are set by Slick Aggregators.\n   * For example if we grouped by \"salesRep\" and we have a Sum Aggregator on \"sales\", then the returned output would be:: [\"Sum 123$\"]\n   * @param itemObj\n   */\n  readGroupedTotalRow(columns: Column[], itemObj: any) {\n    let exportExponentialWrapper = '';\n    const delimiter = this._exportOptions.delimiter;\n    const format = this._exportOptions.format;\n    const groupingAggregatorRowText = this._exportOptions.groupingAggregatorRowText || '';\n    const exportQuoteWrapper = this._exportQuoteWrapper || '';\n    let output = `${exportQuoteWrapper}${groupingAggregatorRowText}${exportQuoteWrapper}${delimiter}`;\n\n    columns.forEach((columnDef) => {\n      let itemData = '';\n\n      // if there's a groupTotalsFormatter, we will re-run it to get the exact same output as what is shown in UI\n      if (columnDef.groupTotalsFormatter) {\n        itemData = columnDef.groupTotalsFormatter(itemObj, columnDef);\n      }\n\n      // does the user want to sanitize the output data (remove HTML tags)?\n      if (columnDef.sanitizeDataExport || this._exportOptions.sanitizeDataExport) {\n        itemData = sanitizeHtmlToText(itemData);\n      }\n\n      if (format === FileType.csv) {\n        // when CSV we also need to escape double quotes twice, so a double quote \" becomes 2x double quotes \"\"\n        // and if we have a text of (number)E(number),\n        // we don't want excel to transform it into exponential (1.0E06) to cancel that effect we can had = in front, ex: =\"1E06\"\n        itemData = itemData.toString().replace(/\"/gi, `\"\"`);\n        exportExponentialWrapper = (itemData.match(/^\\s*\\d+E\\d+\\s*$/i)) ? '=' : '';\n      }\n      output += exportQuoteWrapper + itemData + exportQuoteWrapper + delimiter;\n    });\n\n    return output;\n  }\n\n  /**\n   * Triggers download file with file format.\n   * IE(6-10) are not supported\n   * All other browsers will use plain javascript on client side to produce a file download.\n   * @param options\n   */\n  startDownloadFile(options: { filename: string, csvContent: any, format: FileType | string, useUtf8WithBom: boolean }): void {\n    // IE(6-10) don't support javascript download and our service doesn't support either so throw an error, we have to make a round trip to the Web Server for exporting\n    if (navigator.appName === 'Microsoft Internet Explorer') {\n      throw new Error('Microsoft Internet Explorer 6 to 10 do not support javascript export to CSV. Please upgrade your browser.');\n    }\n\n    // set the correct MIME type\n    const mimeType = (options.format === FileType.csv) ? 'text/csv' : 'text/plain';\n\n    // make sure no html entities exist in the data\n    const csvContent = htmlEntityDecode(options.csvContent);\n\n    // dealing with Excel CSV export and UTF-8 is a little tricky.. We will use Option #2 to cover older Excel versions\n    // Option #1: we need to make Excel knowing that it's dealing with an UTF-8, A correctly formatted UTF8 file can have a Byte Order Mark as its first three octets\n    // reference: http://stackoverflow.com/questions/155097/microsoft-excel-mangles-diacritics-in-csv-files\n    // Option#2: use a 3rd party extension to javascript encode into UTF-16\n    let outputData: Uint8Array | string;\n    if (options.format === FileType.csv) {\n      outputData = new TextEncoder('utf-8').encode(csvContent);\n    } else {\n      outputData = csvContent;\n    }\n\n    // create a Blob object for the download\n    const blob = new Blob([options.useUtf8WithBom ? '\\uFEFF' : '', outputData], {\n      type: `${mimeType};charset=utf-8;`\n    });\n\n    // when using IE/Edge, then use different download call\n    if (typeof navigator.msSaveOrOpenBlob === 'function') {\n      navigator.msSaveOrOpenBlob(blob, options.filename);\n    } else {\n      // this trick will generate a temp <a /> tag\n      // the code will then trigger a hidden click for it to start downloading\n      const link = document.createElement('a');\n      const csvUrl = URL.createObjectURL(blob);\n\n      link.textContent = 'download';\n      link.href = csvUrl;\n      link.setAttribute('download', options.filename);\n\n      // set the visibility to hidden so there is no effect on your web-layout\n      link.style.visibility = 'hidden';\n\n      // this part will append the anchor tag, trigger a click (for download to start) and finally remove the tag once completed\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n}\n",
    "import { SortDirectionNumber } from './../models/sortDirectionNumber.enum';\nimport { castToPromise } from './utilities';\nimport {\n  CellArgs,\n  Column,\n  ColumnSort,\n  CurrentSorter,\n  FieldType,\n  GridOption,\n  SlickEvent,\n  SortDirection,\n  SortDirectionString\n} from './../models/index';\nimport { sortByFieldType } from '../sorters/sorterUtilities';\nimport { Sorters } from './../sorters';\nimport { Subject } from 'rxjs/Subject';\n\n// using external non-typed js libraries\ndeclare var Slick: any;\n\nexport class SortService {\n  private _currentLocalSorters: CurrentSorter[] = [];\n  private _eventHandler: any = new Slick.EventHandler();\n  private _dataView: any;\n  private _grid: any;\n  private _slickSubscriber: SlickEvent;\n  private _isBackendGrid = false;\n  onSortChanged = new Subject<CurrentSorter[]>();\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /** Getter for the Column Definitions pulled through the Grid Object */\n  private get _columnDefinitions(): Column[] {\n    return (this._grid && this._grid.getColumns) ? this._grid.getColumns() : [];\n  }\n\n  /**\n   * Attach a backend sort (single/multi) hook to the grid\n   * @param grid SlickGrid Grid object\n   * @param dataView SlickGrid DataView object\n   */\n  attachBackendOnSort(grid: any, dataView: any) {\n    this._isBackendGrid = true;\n    this._grid = grid;\n    this._dataView = dataView;\n    this._slickSubscriber = grid.onSort;\n\n    // subscribe to the SlickGrid event and call the backend execution\n    this._slickSubscriber.subscribe(this.onBackendSortChanged.bind(this));\n  }\n\n  async onBackendSortChanged(event: Event, args: any) {\n    if (!args || !args.grid) {\n      throw new Error('Something went wrong when trying to attach the \"onBackendSortChanged(event, args)\" function, it seems that \"args\" is not populated correctly');\n    }\n    const gridOptions: GridOption = args.grid.getOptions() || {};\n    const backendApi = gridOptions.backendServiceApi;\n\n    if (!backendApi || !backendApi.process || !backendApi.service) {\n      throw new Error(`BackendServiceApi requires at least a \"process\" function and a \"service\" defined`);\n    }\n    if (backendApi.preProcess) {\n      backendApi.preProcess();\n    }\n    const query = backendApi.service.processOnSortChanged(event, args);\n    this.emitSortChanged('remote');\n\n    // the process could be an Observable (like HttpClient) or a Promise\n    // in any case, we need to have a Promise so that we can await on it (if an Observable, convert it to Promise)\n    const observableOrPromise = backendApi.process(query);\n    const processResult = await castToPromise(observableOrPromise);\n\n    // from the result, call our internal post process to update the Dataset and Pagination info\n    if (processResult && backendApi.internalPostProcess) {\n      backendApi.internalPostProcess(processResult);\n    }\n\n    // send the response process to the postProcess callback\n    if (backendApi.postProcess) {\n      backendApi.postProcess(processResult);\n    }\n  }\n\n  /**\n   * Attach a local sort (single/multi) hook to the grid\n   * @param grid SlickGrid Grid object\n   * @param gridOptions Grid Options object\n   * @param dataView\n   */\n  attachLocalOnSort(grid: any, dataView: any) {\n    this._isBackendGrid = false;\n    this._grid = grid;\n    this._dataView = dataView;\n    this._slickSubscriber = grid.onSort;\n\n    this._slickSubscriber.subscribe((e: any, args: any) => {\n      // multiSort and singleSort are not exactly the same, but we want to structure it the same for the (for loop) after\n      // also to avoid having to rewrite the for loop in the sort, we will make the singleSort an array of 1 object\n      const sortColumns = (args.multiColumnSort) ? args.sortCols : new Array({sortAsc: args.sortAsc, sortCol: args.sortCol});\n\n      // keep current sorters\n      this._currentLocalSorters = []; // reset current local sorters\n      if (Array.isArray(sortColumns)) {\n        sortColumns.forEach((sortColumn) => {\n          if (sortColumn.sortCol) {\n            this._currentLocalSorters.push({\n              columnId: sortColumn.sortCol.id,\n              direction: sortColumn.sortAsc ? SortDirection.ASC : SortDirection.DESC\n            });\n          }\n        });\n      }\n\n      this.onLocalSortChanged(grid, dataView, sortColumns);\n      this.emitSortChanged('local');\n    });\n\n    if (dataView && dataView.onRowCountChanged) {\n      this._eventHandler.subscribe(dataView.onRowCountChanged, (e: Event, args: any) => {\n        // load any presets if there are any\n        if (args.current > 0) {\n          this.loadLocalPresets(grid, dataView);\n        }\n      });\n    }\n  }\n\n  clearSorting() {\n    if (this._grid && this._gridOptions && this._dataView) {\n      // remove any sort icons (this setSortColumns function call really does only that)\n      this._grid.setSortColumns([]);\n\n      // we also need to trigger a sort change\n      // for a backend grid, we will trigger a backend sort changed with an empty sort columns array\n      // however for a local grid, we need to pass a sort column and so we will sort by the 1st column\n      if (this._isBackendGrid) {\n        this.onBackendSortChanged(undefined, { grid: this._grid, sortCols: [] });\n      } else {\n        if (this._columnDefinitions && Array.isArray(this._columnDefinitions)) {\n          this.onLocalSortChanged(this._grid, this._dataView, new Array({sortAsc: true, sortCol: this._columnDefinitions[0] }));\n        }\n      }\n    }\n  }\n\n  getCurrentLocalSorters(): CurrentSorter[] {\n    return this._currentLocalSorters;\n  }\n\n  /**\n   * Get column sorts,\n   * If a column is passed as an argument, we won't add this column to our output array since it is already in the array\n   * We want to know the sort prior to calling the next sorting command\n   */\n  getPreviousColumnSorts(columnId?: string) {\n    // getSortColumns() only returns sortAsc & columnId, we want the entire column definition\n    const oldSortColumns = this._grid.getSortColumns();\n\n    // get the column definition but only keep column which are not equal to our current column\n    const sortedCols = oldSortColumns.reduce((cols, col) => {\n      if (!columnId || col.columnId !== columnId) {\n        cols.push({ sortCol: this._columnDefinitions[this._grid.getColumnIndex(col.columnId)], sortAsc: col.sortAsc });\n      }\n      return cols;\n    }, []);\n\n    return sortedCols;\n  }\n\n  /**\n   * load any presets if there are any\n   * @param grid\n   * @param dataView\n   */\n  loadLocalPresets(grid: any, dataView: any) {\n    const sortCols: ColumnSort[] = [];\n    this._currentLocalSorters = []; // reset current local sorters\n    if (this._gridOptions && this._gridOptions.presets && this._gridOptions.presets.sorters) {\n      const sorters = this._gridOptions.presets.sorters;\n      this._columnDefinitions.forEach((columnDef: Column) =>  {\n        const columnPreset = sorters.find((currentSorter: CurrentSorter) => {\n          return currentSorter.columnId === columnDef.id;\n        });\n        if (columnPreset) {\n          sortCols.push({\n            columnId: columnDef.id,\n            sortAsc: ((columnPreset.direction.toUpperCase() === SortDirection.ASC) ? true : false),\n            sortCol: columnDef\n          });\n\n          // keep current sorters\n          this._currentLocalSorters.push({\n            columnId: columnDef.id + '',\n            direction: columnPreset.direction.toUpperCase() as SortDirectionString\n          });\n        }\n      });\n\n      if (sortCols.length > 0) {\n        this.onLocalSortChanged(grid, dataView, sortCols);\n        grid.setSortColumns(sortCols); // add sort icon in UI\n      }\n    }\n  }\n\n  onLocalSortChanged(grid: any, dataView: any, sortColumns: ColumnSort[]) {\n    dataView.sort((dataRow1: any, dataRow2: any) => {\n      for (let i = 0, l = sortColumns.length; i < l; i++) {\n        const columnSortObj = sortColumns[i];\n        if (columnSortObj && columnSortObj.sortCol) {\n          const sortDirection = columnSortObj.sortAsc ? SortDirectionNumber.asc : SortDirectionNumber.desc;\n          const sortField = columnSortObj.sortCol.queryField || columnSortObj.sortCol.queryFieldFilter || columnSortObj.sortCol.field;\n          const fieldType = columnSortObj.sortCol.type || FieldType.string;\n          const value1 = dataRow1[sortField];\n          const value2 = dataRow2[sortField];\n          const sortResult = sortByFieldType(value1, value2, fieldType, sortDirection);\n          if (sortResult !== SortDirectionNumber.neutral) {\n            return sortResult;\n          }\n        }\n      }\n      return 0;\n    });\n    grid.invalidate();\n    grid.render();\n  }\n\n  dispose() {\n    // unsubscribe local event\n    if (this._slickSubscriber && typeof this._slickSubscriber.unsubscribe === 'function') {\n      this._slickSubscriber.unsubscribe();\n    }\n\n    // unsubscribe all SlickGrid events\n    this._eventHandler.unsubscribeAll();\n  }\n\n  /**\n   * A simple function that is attached to the subscriber and emit a change when the sort is called.\n   * Other services, like Pagination, can then subscribe to it.\n   * @param sender\n   */\n  emitSortChanged(sender: 'local' | 'remote') {\n    if (sender === 'remote' && this._gridOptions && this._gridOptions.backendServiceApi) {\n      let currentSorters: CurrentSorter[] = [];\n      const backendService = this._gridOptions.backendServiceApi.service;\n      if (backendService && backendService.getCurrentSorters) {\n        currentSorters = backendService.getCurrentSorters() as CurrentSorter[];\n      }\n      this.onSortChanged.next(currentSorters);\n    } else if (sender === 'local') {\n      this.onSortChanged.next(this.getCurrentLocalSorters());\n    }\n  }\n}\n",
    "import { Injectable } from '@angular/core';\nimport {\n  CellArgs,\n  ColumnSort,\n  CustomGridMenu,\n  Column,\n  DelimiterType,\n  FileType,\n  GraphqlResult,\n  GridMenu,\n  GridOption,\n  HeaderButtonOnCommandArgs,\n  HeaderMenu,\n  HeaderMenuItem,\n  HeaderMenuOnCommandArgs,\n  HeaderMenuOnBeforeMenuShowArgs,\n} from './../models/index';\nimport { TranslateService } from '@ngx-translate/core';\nimport { castToPromise, sanitizeHtmlToText } from './../services/utilities';\nimport { FilterService } from './filter.service';\nimport { ExportService } from './export.service';\nimport { SortService } from './sort.service';\n\n// using external non-typed js libraries\ndeclare var Slick: any;\ndeclare var $: any;\n\n@Injectable()\nexport class ControlAndPluginService {\n  private _dataView: any;\n  private _grid: any;\n  visibleColumns: Column[];\n  areVisibleColumnDifferent = false;\n  pluginList: { name: string; plugin: any }[] = [];\n\n  // controls & plugins\n  autoTooltipPlugin: any;\n  cellExternalCopyManagerPlugin: any;\n  checkboxSelectorPlugin: any;\n  columnPickerControl: any;\n  groupItemMetaProviderPlugin: any;\n  headerButtonsPlugin: any;\n  headerMenuPlugin: any;\n  gridMenuControl: any;\n  rowSelectionPlugin: any;\n  undoRedoBuffer: any;\n\n  constructor(\n    private exportService: ExportService,\n    private filterService: FilterService,\n    private sortService: SortService,\n    private translate: TranslateService\n  ) {}\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /** Getter for the Column Definitions pulled through the Grid Object */\n  private get _columnDefinitions(): Column[] {\n    return (this._grid && this._grid.getColumns) ? this._grid.getColumns() : [];\n  }\n\n  getPlugin(name?: string) {\n    if (name) {\n      return this.pluginList.find((p) => p.name === name);\n    }\n    return this.pluginList;\n  }\n\n  /** Auto-resize all the column in the grid to fit the grid width */\n  autoResizeColumns() {\n    this._grid.autosizeColumns();\n  }\n\n  /**\n   * Attach/Create different Controls or Plugins after the Grid is created\n   * @param grid\n   * @param options\n   * @param dataView\n   */\n  attachDifferentControlOrPlugins(grid: any, dataView: any, groupItemMetadataProvider: any) {\n    this._grid = grid;\n    this._dataView = dataView;\n    this.visibleColumns = this._columnDefinitions;\n\n    // Column Picker Control\n    if (this._gridOptions.enableColumnPicker) {\n      this.columnPickerControl = this.createColumnPicker(this._grid, this._columnDefinitions);\n      this.pluginList.push({ name: 'ColumnPicker', plugin: this.columnPickerControl });\n    }\n\n    // Grid Menu Control\n    if (this._gridOptions.enableGridMenu) {\n      this.gridMenuControl = this.createGridMenu(this._grid, this._columnDefinitions);\n      this.pluginList.push({ name: 'GridMenu', plugin: this.gridMenuControl });\n    }\n\n    // Auto Tooltip Plugin\n    if (this._gridOptions.enableAutoTooltip) {\n      this.autoTooltipPlugin = new Slick.AutoTooltips(this._gridOptions.autoTooltipOptions || {});\n      this._grid.registerPlugin(this.autoTooltipPlugin);\n      this.pluginList.push({ name: 'AutoTooltip', plugin: this.autoTooltipPlugin });\n    }\n\n    // Grouping Plugin\n    // register the group item metadata provider to add expand/collapse group handlers\n    if (this._gridOptions.enableGrouping) {\n      this.groupItemMetaProviderPlugin = groupItemMetadataProvider || {};\n      this._grid.registerPlugin(this.groupItemMetaProviderPlugin);\n      this.pluginList.push({ name: 'GroupItemMetaProvider', plugin: this.groupItemMetaProviderPlugin });\n    }\n\n    // Checkbox Selector Plugin\n    if (this._gridOptions.enableCheckboxSelector) {\n      // when enabling the Checkbox Selector Plugin, we need to also watch onClick events to perform certain actions\n      // the selector column has to be created BEFORE the grid (else it behaves oddly), but we can only watch grid events AFTER the grid is created\n      this._grid.registerPlugin(this.checkboxSelectorPlugin);\n      this.pluginList.push({ name: 'CheckboxSelector', plugin: this.checkboxSelectorPlugin });\n\n      // this also requires the Row Selection Model to be registered as well\n      if (!this.rowSelectionPlugin || !this._grid.getSelectionModel()) {\n        this.rowSelectionPlugin = new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions || {});\n        this._grid.setSelectionModel(this.rowSelectionPlugin);\n      }\n\n      // user might want to pre-select some rows\n      // the setTimeout is because of timing issue with styling (row selection happen but rows aren't highlighted properly)\n      if (this._gridOptions.preselectedRows && this.rowSelectionPlugin && this._grid.getSelectionModel()) {\n        setTimeout(() => this.checkboxSelectorPlugin.selectRows(this._gridOptions.preselectedRows), 0);\n      }\n    }\n\n    // Row Selection Plugin\n    if (!this._gridOptions.enableCheckboxSelector && this._gridOptions.enableRowSelection) {\n      this.rowSelectionPlugin = new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions || {});\n      this._grid.setSelectionModel(this.rowSelectionPlugin);\n    }\n\n    // Header Button Plugin\n    if (this._gridOptions.enableHeaderButton) {\n      this.headerButtonsPlugin = new Slick.Plugins.HeaderButtons(this._gridOptions.headerButton || {});\n      this._grid.registerPlugin(this.headerButtonsPlugin);\n      this.pluginList.push({ name: 'HeaderButtons', plugin: this.headerButtonsPlugin });\n      this.headerButtonsPlugin.onCommand.subscribe((e: Event, args: HeaderButtonOnCommandArgs) => {\n        if (this._gridOptions.headerButton && typeof this._gridOptions.headerButton.onCommand === 'function') {\n          this._gridOptions.headerButton.onCommand(e, args);\n        }\n      });\n    }\n\n    // Header Menu Plugin\n    if (this._gridOptions.enableHeaderMenu) {\n      this.headerMenuPlugin = this.createHeaderMenu(this._grid, this._dataView, this._columnDefinitions);\n    }\n\n    // Cell External Copy Manager Plugin (Excel Like)\n    if (this._gridOptions.enableExcelCopyBuffer) {\n      this.createUndoRedoBuffer();\n      this.hookUndoShortcutKey();\n      this.createCellExternalCopyManagerPlugin(this._grid);\n    }\n\n    // manually register other plugins\n    if (this._gridOptions.registerPlugins !== undefined) {\n      if (Array.isArray(this._gridOptions.registerPlugins)) {\n        this._gridOptions.registerPlugins.forEach((plugin) => {\n          this._grid.registerPlugin(plugin);\n          this.pluginList.push({ name: 'generic', plugin });\n        });\n      } else {\n        this._grid.registerPlugin(this._gridOptions.registerPlugins);\n        this.pluginList.push({ name: 'generic', plugin: this._gridOptions.registerPlugins });\n      }\n    }\n  }\n\n  /**\n   * Attach/Create different plugins before the Grid creation.\n   * For example the multi-select have to be added to the column definition before the grid is created to work properly\n   * @param columnDefinitions\n   * @param options\n   */\n  createPluginBeforeGridCreation(columnDefinitions: Column[], options: GridOption) {\n    if (options.enableCheckboxSelector) {\n      this.checkboxSelectorPlugin = new Slick.CheckboxSelectColumn(options.checkboxSelector || {});\n      const selectionColumn: Column = this.checkboxSelectorPlugin.getColumnDefinition();\n      selectionColumn.excludeFromExport = true;\n      selectionColumn.excludeFromQuery = true;\n      selectionColumn.excludeFromHeaderMenu = true;\n      columnDefinitions.unshift(selectionColumn);\n    }\n  }\n\n  /** Create the Excel like copy manager */\n  createCellExternalCopyManagerPlugin(grid: any) {\n    let newRowIds = 0;\n    const pluginOptions = {\n      clipboardCommandHandler: (editCommand) => {\n        this.undoRedoBuffer.queueAndExecuteCommand.call(this.undoRedoBuffer, editCommand);\n      },\n      dataItemColumnValueExtractor: (item, columnDef) => {\n        // when grid or cell is not editable, we will possibly evaluate the Formatter if it was passed\n        // to decide if we evaluate the Formatter, we will use the same flag from Export which is \"exportWithFormatter\"\n        if (!this._gridOptions.editable || !columnDef.editor) {\n          const isEvaluatingFormatter = (columnDef.exportWithFormatter !== undefined) ? columnDef.exportWithFormatter : this._gridOptions.exportOptions.exportWithFormatter;\n          if (columnDef.formatter && isEvaluatingFormatter) {\n            const formattedOutput = columnDef.formatter(0, 0, item[columnDef.field], columnDef, item, this._grid);\n            if (columnDef.sanitizeDataExport || (this._gridOptions.exportOptions && this._gridOptions.exportOptions.sanitizeDataExport)) {\n              return sanitizeHtmlToText(formattedOutput);\n            }\n            return formattedOutput;\n          }\n        }\n\n        // else use the default \"dataItemColumnValueExtractor\" from the plugin itself\n        // we can do that by setting back the getter with null\n        return null;\n      },\n      readOnlyMode: false,\n      includeHeaderWhenCopying: false,\n      newRowCreator: (count) => {\n        for (let i = 0; i < count; i++) {\n          const item = {\n            id: 'newRow_' + newRowIds++\n          };\n          grid.getData().addItem(item);\n        }\n      }\n    };\n\n    grid.setSelectionModel(new Slick.CellSelectionModel());\n    this.cellExternalCopyManagerPlugin = new Slick.CellExternalCopyManager(pluginOptions);\n    grid.registerPlugin(this.cellExternalCopyManagerPlugin);\n    this.pluginList.push({ name: 'CellExternalCopyManager', plugin: this.cellExternalCopyManagerPlugin });\n  }\n\n  /**\n   * Create the Column Picker and expose all the available hooks that user can subscribe (onColumnsChanged)\n   * @param grid\n   * @param columnDefinitions\n   * @param gridOptions\n   */\n  createColumnPicker(grid: any, columnDefinitions: Column[]) {\n    // localization support for the picker\n    const forceFitTitle = this._gridOptions.enableTranslate ? this.translate.instant('FORCE_FIT_COLUMNS') : 'Force fit columns';\n    const syncResizeTitle = this._gridOptions.enableTranslate ? this.translate.instant('SYNCHRONOUS_RESIZE') : 'Synchronous resize';\n\n    this._gridOptions.columnPicker = this._gridOptions.columnPicker || {};\n    this._gridOptions.columnPicker.forceFitTitle = this._gridOptions.columnPicker.forceFitTitle || forceFitTitle;\n    this._gridOptions.columnPicker.syncResizeTitle = this._gridOptions.columnPicker.syncResizeTitle || syncResizeTitle;\n\n    this.columnPickerControl = new Slick.Controls.ColumnPicker(columnDefinitions, grid, this._gridOptions);\n    if (grid && this._gridOptions.enableColumnPicker) {\n      this.columnPickerControl.onColumnsChanged.subscribe((e: Event, args: CellArgs) => {\n        if (this._gridOptions.columnPicker && typeof this._gridOptions.columnPicker.onColumnsChanged === 'function') {\n          this._gridOptions.columnPicker.onColumnsChanged(e, args);\n        }\n      });\n    }\n\n    return this.columnPickerControl;\n  }\n\n  /**\n   * Create (or re-create) Grid Menu and expose all the available hooks that user can subscribe (onCommand, onMenuClose, ...)\n   * @param grid\n   * @param columnDefinitions\n   * @param _gridOptions\n   */\n  createGridMenu(grid: any, columnDefinitions: Column[]) {\n    this._gridOptions.gridMenu = { ...this.getDefaultGridMenuOptions(), ...this._gridOptions.gridMenu };\n    this.addGridMenuCustomCommands(grid, this._gridOptions);\n\n    const gridMenuControl = new Slick.Controls.GridMenu(columnDefinitions, grid, this._gridOptions);\n    if (grid && this._gridOptions.gridMenu) {\n      gridMenuControl.onBeforeMenuShow.subscribe((e: Event, args: CellArgs) => {\n        if (this._gridOptions.gridMenu && typeof this._gridOptions.gridMenu.onBeforeMenuShow === 'function') {\n          this._gridOptions.gridMenu.onBeforeMenuShow(e, args);\n        }\n      });\n      gridMenuControl.onColumnsChanged.subscribe((e: Event, args: CellArgs) => {\n        this.areVisibleColumnDifferent = true;\n        if (this._gridOptions.gridMenu && typeof this._gridOptions.gridMenu.onColumnsChanged === 'function') {\n          this._gridOptions.gridMenu.onColumnsChanged(e, args);\n        }\n      });\n      gridMenuControl.onCommand.subscribe((e: Event, args: CellArgs) => {\n        if (this._gridOptions.gridMenu && typeof this._gridOptions.gridMenu.onCommand === 'function') {\n          this._gridOptions.gridMenu.onCommand(e, args);\n        }\n      });\n      gridMenuControl.onMenuClose.subscribe((e: Event, args: CellArgs) => {\n        if (this._gridOptions.gridMenu && typeof this._gridOptions.gridMenu.onMenuClose === 'function') {\n          this._gridOptions.gridMenu.onMenuClose(e, args);\n        }\n\n        // we also want to resize the columns if the user decided to hide certain column(s)\n        if (grid && typeof grid.autosizeColumns === 'function') {\n          // make sure that the grid still exist (by looking if the Grid UID is found in the DOM tree)\n          const gridUid = grid.getUID();\n          if (this.areVisibleColumnDifferent && gridUid && $(`.${gridUid}`).length > 0) {\n            grid.autosizeColumns();\n          }\n        }\n      });\n    }\n    return gridMenuControl;\n  }\n\n  /**\n   * Create the Header Menu and expose all the available hooks that user can subscribe (onCommand, onBeforeMenuShow, ...)\n   * @param grid\n   * @param columnDefinitions\n   * @param options\n   */\n  createHeaderMenu(grid: any, dataView: any, columnDefinitions: Column[]) {\n    this._gridOptions.headerMenu = { ...this.getDefaultHeaderMenuOptions(), ...this._gridOptions.headerMenu };\n    if (this._gridOptions.enableHeaderMenu) {\n      this._gridOptions.headerMenu = this.addHeaderMenuCustomCommands(grid, dataView, this._gridOptions, columnDefinitions);\n    }\n\n    const headerMenuPlugin = new Slick.Plugins.HeaderMenu(this._gridOptions.headerMenu);\n\n    grid.registerPlugin(headerMenuPlugin);\n    headerMenuPlugin.onCommand.subscribe((e: Event, args: HeaderMenuOnCommandArgs) => {\n      if (this._gridOptions.headerMenu && typeof this._gridOptions.headerMenu.onCommand === 'function') {\n        this._gridOptions.headerMenu.onCommand(e, args);\n      }\n    });\n    headerMenuPlugin.onCommand.subscribe((e: Event, args: HeaderMenuOnBeforeMenuShowArgs) => {\n      if (this._gridOptions.headerMenu && typeof this._gridOptions.headerMenu.onBeforeMenuShow === 'function') {\n        this._gridOptions.headerMenu.onBeforeMenuShow(e, args);\n      }\n    });\n\n    return headerMenuPlugin;\n  }\n\n  /** Create an undo redo buffer used by the Excel like copy */\n  createUndoRedoBuffer() {\n    const commandQueue = [];\n    let commandCtr = 0;\n\n    this.undoRedoBuffer = {\n      queueAndExecuteCommand: (editCommand) => {\n        commandQueue[commandCtr] = editCommand;\n        commandCtr++;\n        editCommand.execute();\n      },\n      undo: () => {\n        if (commandCtr === 0) { return; }\n        commandCtr--;\n        const command = commandQueue[commandCtr];\n        if (command && Slick.GlobalEditorLock.cancelCurrentEdit()) {\n          command.undo();\n        }\n      },\n      redo: () => {\n        if (commandCtr >= commandQueue.length) { return; }\n        const command = commandQueue[commandCtr];\n        commandCtr++;\n        if (command && Slick.GlobalEditorLock.cancelCurrentEdit()) {\n          command.execute();\n        }\n      }\n    };\n  }\n\n  /** Hide a column from the grid */\n  hideColumn(column: Column) {\n    if (this._grid && this.visibleColumns) {\n      const columnIndex = this._grid.getColumnIndex(column.id);\n      this.visibleColumns = this.removeColumnByIndex(this.visibleColumns, columnIndex);\n      this._grid.setColumns(this.visibleColumns);\n    }\n  }\n\n  /** Attach an undo shortcut key hook that will redo/undo the copy buffer */\n  hookUndoShortcutKey() {\n    // undo shortcut\n    $(document).keydown((e) => {\n      if (e.which === 90 && (e.ctrlKey || e.metaKey)) {    // CTRL + (shift) + Z\n        if (e.shiftKey) {\n          this.undoRedoBuffer.redo();\n        } else {\n          this.undoRedoBuffer.undo();\n        }\n      }\n    });\n  }\n\n  /** Dispose of all the controls & plugins */\n  dispose() {\n    this._grid = null;\n    this._dataView = null;\n    this.visibleColumns = [];\n\n    // destroy the control/plugin if it has that method\n    this.pluginList.forEach((item) => {\n      if (item && item.plugin && item.plugin.destroy) {\n        item.plugin.destroy();\n      }\n    });\n    this.pluginList = [];\n  }\n\n  /**\n   * Create Grid Menu with Custom Commands if user has enabled Filters and/or uses a Backend Service (OData, GraphQL)\n   * @param grid\n   * @param options\n   * @return gridMenu\n   */\n  private addGridMenuCustomCommands(grid: any, options: GridOption) {\n    const backendApi = options.backendServiceApi || null;\n\n    if (options.enableFiltering) {\n      // show grid menu: clear all filters\n      if (options && options.gridMenu && !options.gridMenu.hideClearAllFiltersCommand && options.gridMenu.customItems && options.gridMenu.customItems.filter((item: CustomGridMenu) => item.command === 'clear-filter').length === 0) {\n        options.gridMenu.customItems.push(\n          {\n            iconCssClass: options.gridMenu.iconClearAllFiltersCommand || 'fa fa-filter text-danger',\n            title: options.enableTranslate ? this.translate.instant('CLEAR_ALL_FILTERS') : 'Clear All Filters',\n            disabled: false,\n            command: 'clear-filter',\n            positionOrder: 50\n          }\n        );\n      }\n\n      // show grid menu: toggle filter row\n      if (options && options.gridMenu && !options.gridMenu.hideToggleFilterCommand && options.gridMenu.customItems && options.gridMenu.customItems.filter((item: CustomGridMenu) => item.command === 'toggle-filter').length === 0) {\n        options.gridMenu.customItems.push(\n          {\n            iconCssClass: options.gridMenu.iconToggleFilterCommand || 'fa fa-random',\n            title: options.enableTranslate ? this.translate.instant('TOGGLE_FILTER_ROW') : 'Toggle Filter Row',\n            disabled: false,\n            command: 'toggle-filter',\n            positionOrder: 52\n          }\n        );\n      }\n\n      // show grid menu: refresh dataset\n      if (options && options.gridMenu && !options.gridMenu.hideRefreshDatasetCommand && backendApi && options.gridMenu.customItems && options.gridMenu.customItems.filter((item: CustomGridMenu) => item.command === 'refresh-dataset').length === 0) {\n        options.gridMenu.customItems.push(\n          {\n            iconCssClass: options.gridMenu.iconRefreshDatasetCommand || 'fa fa-refresh',\n            title: options.enableTranslate ? this.translate.instant('REFRESH_DATASET') : 'Refresh Dataset',\n            disabled: false,\n            command: 'refresh-dataset',\n            positionOrder: 54\n          }\n        );\n      }\n    }\n\n    if (options.enableSorting) {\n      // show grid menu: clear all sorting\n      if (options && options.gridMenu && !options.gridMenu.hideClearAllSortingCommand && options.gridMenu.customItems && options.gridMenu.customItems.filter((item: CustomGridMenu) => item.command === 'clear-sorting').length === 0) {\n        options.gridMenu.customItems.push(\n          {\n            iconCssClass: options.gridMenu.iconClearAllSortingCommand || 'fa fa-unsorted text-danger',\n            title: options.enableTranslate ? this.translate.instant('CLEAR_ALL_SORTING') : 'Clear All Sorting',\n            disabled: false,\n            command: 'clear-sorting',\n            positionOrder: 51\n          }\n        );\n      }\n    }\n\n    // show grid menu: export to file\n    if (options && options.enableExport && options.gridMenu && !options.gridMenu.hideExportCsvCommand && options.gridMenu.customItems && options.gridMenu.customItems.filter((item: CustomGridMenu) => item.command === 'export-csv').length === 0) {\n      options.gridMenu.customItems.push(\n        {\n          iconCssClass: options.gridMenu.iconExportCsvCommand || 'fa fa-download',\n          title: options.enableTranslate ? this.translate.instant('EXPORT_TO_CSV') : 'Export in CSV format',\n          disabled: false,\n          command: 'export-csv',\n          positionOrder: 53\n        }\n      );\n    }\n    // show grid menu: export to text file as tab delimited\n    if (options && options.enableExport && options.gridMenu && !options.gridMenu.hideExportTextDelimitedCommand && options.gridMenu.customItems && options.gridMenu.customItems.filter((item: CustomGridMenu) => item.command === 'export-text-delimited').length === 0) {\n      options.gridMenu.customItems.push(\n        {\n          iconCssClass: options.gridMenu.iconExportTextDelimitedCommand || 'fa fa-download',\n          title: options.enableTranslate ? this.translate.instant('EXPORT_TO_TAB_DELIMITED') : 'Export in Text format (Tab delimited)',\n          disabled: false,\n          command: 'export-text-delimited',\n          positionOrder: 54\n        }\n      );\n    }\n\n    // Command callback, what will be executed after command is clicked\n    if (options.gridMenu && options.gridMenu.customItems.length > 0) {\n      options.gridMenu.onCommand = (e, args) => {\n        if (args && args.command) {\n          switch (args.command) {\n            case 'clear-filter':\n              this.filterService.clearFilters();\n              this._dataView.refresh();\n              break;\n            case 'clear-sorting':\n              this.sortService.clearSorting();\n              this._dataView.refresh();\n              break;\n            case 'export-csv':\n              this.exportService.exportToFile({\n                delimiter: DelimiterType.comma,\n                filename: 'export',\n                format: FileType.csv,\n                useUtf8WithBom: true\n              });\n              break;\n            case 'export-text-delimited':\n              this.exportService.exportToFile({\n                delimiter: DelimiterType.tab,\n                filename: 'export',\n                format: FileType.txt,\n                useUtf8WithBom: true\n              });\n              break;\n            case 'toggle-filter':\n              grid.setHeaderRowVisibility(!grid.getOptions().showHeaderRow);\n              break;\n            case 'toggle-toppanel':\n              grid.setTopPanelVisibility(!grid.getOptions().showTopPanel);\n              break;\n            case 'refresh-dataset':\n              this.refreshBackendDataset();\n              break;\n            default:\n              alert('Command: ' + args.command);\n              break;\n          }\n        }\n      };\n    }\n\n    // add the custom \"Commands\" title if there are any commands\n    if (options && options.gridMenu && options.gridMenu.customItems && options.gridMenu.customItems.length > 0) {\n      const customTitle = options.enableTranslate ? this.translate.instant('COMMANDS') : 'Commands';\n      options.gridMenu.customTitle = options.gridMenu.customTitle || customTitle;\n\n      // sort the custom items by their position in the list\n      options.gridMenu.customItems.sort((itemA, itemB) => {\n        if (itemA && itemB && itemA.hasOwnProperty('positionOrder') && itemB.hasOwnProperty('positionOrder')) {\n          return itemA.positionOrder - itemB.positionOrder;\n        }\n        return 0;\n      });\n    }\n  }\n\n  /**\n   * Create Header Menu with Custom Commands if user has enabled Header Menu\n   * @param grid\n   * @param dataView\n   * @param options\n   * @param columnDefinitions\n   * @return header menu\n   */\n  private addHeaderMenuCustomCommands(grid: any, dataView: any, options: GridOption, columnDefinitions: Column[]): HeaderMenu {\n    const headerMenuOptions = options.headerMenu;\n\n    if (columnDefinitions && Array.isArray(columnDefinitions) && options.enableHeaderMenu) {\n      columnDefinitions.forEach((columnDef: Column) => {\n        if (columnDef && !columnDef.excludeFromHeaderMenu) {\n          if (!columnDef.header || !columnDef.header.menu) {\n            columnDef.header = {\n              menu: {\n                items: []\n              }\n            };\n          }\n          const columnHeaderMenuItems: HeaderMenuItem[] = columnDef.header.menu.items || [];\n\n          // Sorting Commands\n          if (options.enableSorting && columnDef.sortable && headerMenuOptions.showSortCommands) {\n            if (columnHeaderMenuItems.filter((item: HeaderMenuItem) => item.command === 'sort-asc').length === 0) {\n              columnHeaderMenuItems.push({\n                iconCssClass: headerMenuOptions.iconSortAscCommand || 'fa fa-sort-asc',\n                title: options.enableTranslate ? this.translate.instant('SORT_ASCENDING') : 'Sort Ascending',\n                command: 'sort-asc'\n              });\n            }\n            if (columnHeaderMenuItems.filter((item: HeaderMenuItem) => item.command === 'sort-desc').length === 0) {\n              columnHeaderMenuItems.push({\n                iconCssClass: headerMenuOptions.iconSortDescCommand || 'fa fa-sort-desc',\n                title: options.enableTranslate ? this.translate.instant('SORT_DESCENDING') : 'Sort Descending',\n                command: 'sort-desc'\n              });\n            }\n          }\n\n          // Hide Column Command\n          if (headerMenuOptions.showColumnHideCommand && columnHeaderMenuItems.filter((item: HeaderMenuItem) => item.command === 'hide').length === 0) {\n            columnHeaderMenuItems.push({\n              iconCssClass: headerMenuOptions.iconColumnHideCommand || 'fa fa-times',\n              title: options.enableTranslate ? this.translate.instant('HIDE_COLUMN') : 'Hide Column',\n              command: 'hide'\n            });\n          }\n        }\n      });\n\n      // Command callback, what will be executed after command is clicked\n      if (headerMenuOptions) {\n        headerMenuOptions.onCommand = (e, args) => {\n          if (args && args.command) {\n            switch (args.command) {\n              case 'hide':\n              this.hideColumn(args.column);\n              this.autoResizeColumns();\n                break;\n              case 'sort-asc':\n              case 'sort-desc':\n                // get previously sorted columns\n                const cols: ColumnSort[] = this.sortService.getPreviousColumnSorts(args.column.id + '');\n\n                // add to the column array, the column sorted by the header menu\n                cols.push({ sortCol: args.column, sortAsc: (args.command === 'sort-asc') });\n                if (options.backendServiceApi) {\n                  this.sortService.onBackendSortChanged(e, { multiColumnSort: true, sortCols: cols, grid });\n                } else {\n                  this.sortService.onLocalSortChanged(grid, dataView, cols);\n                }\n\n                // update the this.gridObj sortColumns array which will at the same add the visual sort icon(s) on the UI\n                const newSortColumns: ColumnSort[] = cols.map((col) => {\n                  return { columnId: col.sortCol.id, sortAsc: col.sortAsc };\n                });\n                grid.setSortColumns(newSortColumns); // add sort icon in UI\n                break;\n              default:\n                alert('Command: ' + args.command);\n                break;\n            }\n          }\n        };\n      }\n    }\n\n    return headerMenuOptions;\n  }\n\n  /** Refresh the dataset through the Backend Service */\n  refreshBackendDataset() {\n    let query;\n    const backendApi = this._gridOptions.backendServiceApi;\n    if (!backendApi || !backendApi.service || !backendApi.process) {\n      throw new Error(`BackendServiceApi requires at least a \"process\" function and a \"service\" defined`);\n    }\n\n    if (backendApi.service) {\n      query = backendApi.service.buildQuery();\n    }\n\n    if (query && query !== '') {\n      if (backendApi.preProcess) {\n        backendApi.preProcess();\n      }\n\n      // the process could be an Observable (like HttpClient) or a Promise\n      // in any case, we need to have a Promise so that we can await on it (if an Observable, convert it to Promise)\n      const observableOrPromise = backendApi.process(query);\n\n      castToPromise(observableOrPromise).then((processResult: GraphqlResult | any) => {\n        // from the result, call our internal post process to update the Dataset and Pagination info\n        if (processResult && backendApi.internalPostProcess) {\n          backendApi.internalPostProcess(processResult);\n        }\n\n        // send the response process to the postProcess callback\n        if (backendApi.postProcess) {\n          backendApi.postProcess(processResult);\n        }\n      });\n    }\n  }\n\n  /** Remove a column from the grid by it's index in the grid */\n  removeColumnByIndex(array: any[], index: number) {\n    return array.filter((el: any, i: number) => {\n      return index !== i;\n    });\n  }\n\n  /**\n   * Translate the Column Picker and it's last 2 checkboxes\n   * Note that the only way that seems to work is to destroy and re-create the Column Picker\n   * Changing only the columnPicker.columnTitle with i18n translate was not enough.\n   */\n  translateColumnPicker() {\n    // destroy and re-create the Column Picker which seems to be the only way to translate properly\n    if (this.columnPickerControl) {\n      this.columnPickerControl.destroy();\n      this.columnPickerControl = null;\n    }\n\n    const tempHideForceFit = this._gridOptions.columnPicker.hideForceFitButton;\n    const tempSyncResize = this._gridOptions.columnPicker.hideSyncResizeButton;\n    this._gridOptions.columnPicker = undefined;\n    this._gridOptions.columnPicker = {\n      hideForceFitButton: tempHideForceFit,\n      hideSyncResizeButton: tempSyncResize\n    };\n    this.createColumnPicker(this._grid, this.visibleColumns);\n  }\n\n  /**\n   * Translate the Grid Menu ColumnTitle and CustomTitle.\n   * Note that the only way that seems to work is to destroy and re-create the Grid Menu\n   * Changing only the gridMenu.columnTitle with i18n translate was not enough.\n   */\n  translateGridMenu() {\n    // destroy and re-create the Grid Menu which seems to be the only way to translate properly\n    this.gridMenuControl.destroy();\n\n    // reset all Grid Menu options that have translation text & then re-create the Grid Menu and also the custom items array\n    if (this._gridOptions && this._gridOptions.gridMenu) {\n      this._gridOptions.gridMenu = this.resetGridMenuTranslations(this._gridOptions.gridMenu);\n    }\n    this.createGridMenu(this._grid, this.visibleColumns);\n  }\n\n  /**\n   * Translate the Header Menu titles, we need to loop through all column definition to re-translate them\n   */\n  translateHeaderMenu() {\n    // reset all Grid Menu options that have translation text & then re-create the Grid Menu and also the custom items array\n    if (this._gridOptions && this._gridOptions.headerMenu) {\n      this.resetHeaderMenuTranslations(this.visibleColumns);\n    }\n  }\n\n  /**\n   * Translate manually the header titles.\n   * We could optionally pass a locale (that will change currently loaded locale), else it will use current locale\n   * @param locale locale to use\n   */\n  translateColumnHeaders(locale?: boolean | string, newColumnDefinitions?: Column[]) {\n    if (locale) {\n      this.translate.use(locale as string);\n    }\n\n    const columnDefinitions = newColumnDefinitions || this._columnDefinitions;\n    for (const column of columnDefinitions) {\n      if (column.headerKey) {\n        column.name = this.translate.instant(column.headerKey);\n      }\n    }\n\n    // re-render the column headers\n    this.renderColumnHeaders(columnDefinitions);\n  }\n\n  /**\n   * Render (or re-render) the column headers from column definitions.\n   * calling setColumns() will trigger a grid re-render\n   */\n  renderColumnHeaders(newColumnDefinitions?: Column[]) {\n    const collection = newColumnDefinitions || this._columnDefinitions;\n    if (Array.isArray(collection) && this._grid && this._grid.setColumns) {\n      this._grid.setColumns(collection);\n    }\n  }\n\n  /**\n   * @return default Grid Menu options\n   */\n  private getDefaultGridMenuOptions(): GridMenu {\n    return {\n      columnTitle: this.translate.instant('COLUMNS') || 'Columns',\n      forceFitTitle: this.translate.instant('FORCE_FIT_COLUMNS') || 'Force fit columns',\n      syncResizeTitle: this.translate.instant('SYNCHRONOUS_RESIZE') || 'Synchronous resize',\n      iconCssClass: 'fa fa-bars',\n      menuWidth: 18,\n      customTitle: undefined,\n      customItems: [],\n      hideClearAllFiltersCommand: false,\n      hideRefreshDatasetCommand: false,\n      hideToggleFilterCommand: false\n    };\n  }\n\n  /**\n   * @return default Header Menu options\n   */\n  private getDefaultHeaderMenuOptions(): HeaderMenu {\n    return {\n      autoAlignOffset: 12,\n      minWidth: 140,\n      showColumnHideCommand: true,\n      showSortCommands: true\n    };\n  }\n\n  /**\n   * Reset all the Grid Menu options which have text to translate\n   * @param grid menu object\n   */\n  private resetGridMenuTranslations(gridMenu: GridMenu): GridMenu {\n    // we will reset the custom items array since the commands title have to be translated too (no worries, we will re-create it later)\n    gridMenu.customItems = [];\n    delete gridMenu.customTitle;\n\n    gridMenu.columnTitle = this.translate.instant('COLUMNS') || 'Columns';\n    gridMenu.forceFitTitle = this.translate.instant('FORCE_FIT_COLUMNS') || 'Force fit columns';\n    gridMenu.syncResizeTitle = this.translate.instant('SYNCHRONOUS_RESIZE') || 'Synchronous resize';\n\n    return gridMenu;\n  }\n\n  /**\n   * Reset all the Grid Menu options which have text to translate\n   * @param grid menu object\n   */\n  private resetHeaderMenuTranslations(columnDefinitions: Column[]) {\n    columnDefinitions.forEach((columnDef: Column) => {\n      if (columnDef && columnDef.header && columnDef.header && columnDef.header.menu && columnDef.header.menu.items) {\n        if (!columnDef.excludeFromHeaderMenu) {\n          const columnHeaderMenuItems: HeaderMenuItem[] = columnDef.header.menu.items || [];\n\n          columnHeaderMenuItems.forEach((item) => {\n            switch (item.command) {\n              case 'sort-asc':\n                item.title = this.translate.instant('SORT_ASCENDING') || 'Sort Ascending';\n                break;\n              case 'sort-desc':\n                item.title = this.translate.instant('SORT_DESCENDING') || 'Sort Ascending';\n                break;\n              case 'hide':\n                item.title = this.translate.instant('HIDE_COLUMN') || 'Sort Ascending';\n                break;\n            }\n          });\n        }\n      }\n    });\n  }\n}\n",
    "/**\r\n * This GraphqlQueryBuilder class is a lib that already exist\r\n * but was causing issues with TypeScript, RequireJS and other bundler/packagers\r\n * and so I rewrote it in pure TypeScript.\r\n *\r\n * The previous lib can be viewed here at this Github\r\n * https://github.com/codemeasandwich/graphql-query-builder\r\n */\r\nexport default class GraphqlQueryBuilder {\r\n  alias: string;\r\n  head: any[] = [];\r\n  body: any;\r\n\r\n  /* Constructor, query/mutator you wish to use, and an alias or filter arguments. */\r\n  constructor(private queryFnName: string, aliasOrFilter?: string | object) {\r\n    if (typeof aliasOrFilter === 'function') {\r\n      this.alias = aliasOrFilter;\r\n    } else if (typeof aliasOrFilter === 'object') {\r\n      this.filter(aliasOrFilter);\r\n    } else if (undefined === aliasOrFilter && 2 === arguments.length) {\r\n      throw new TypeError(`You have passed undefined as Second argument to \"Query\"`);\r\n    } else if (undefined !== aliasOrFilter) {\r\n      throw new TypeError(`Second argument to \"Query\" should be an alias name(String) or filter arguments(Object). was passed ${aliasOrFilter}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The parameters to run the query against.\r\n   * @param filters An object mapping attribute to values\r\n   */\r\n  filter(filters: any) {\r\n    for (const prop of Object.keys(filters)) {\r\n      if (typeof filters[prop] === 'function') {\r\n        continue;\r\n      }\r\n      const val = this.getGraphQLValue(filters[prop]);\r\n      if (val === '{}') {\r\n        continue;\r\n      }\r\n      this.head.push(`${prop}:${val}`);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Outlines the properties you wish to be returned from the query.\r\n   * @param properties representing each attribute you want Returned\r\n   */\r\n  find(...searches: any[]) { // THIS NEED TO BE A \"FUNCTION\" to scope 'arguments'\r\n    if (!searches) {\r\n      throw new TypeError(`find value can not be >>falsy<<`);\r\n    }\r\n    // if its a string.. it may have other values\r\n    // else it sould be an Object or Array of maped values\r\n    const searchKeys = (searches.length === 1 && Array.isArray(searches[0])) ? searches[0] : searches;\r\n    this.body = this.parceFind(searchKeys);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * set an alias for this result.\r\n   * @param alias\r\n   */\r\n  setAlias(alias: string) {\r\n    this.alias = alias;\r\n  }\r\n\r\n  /**\r\n   * Return to the formatted query string\r\n   * @return\r\n   */\r\n  toString() {\r\n    if (this.body === undefined) {\r\n      throw new ReferenceError(`return properties are not defined. use the 'find' function to defined them`);\r\n    }\r\n\r\n    return `${(this.alias) ? (this.alias + ':') : ''} ${this.queryFnName} ${(this.head.length > 0) ? '(' + this.head.join(',') + ')' : ''}  { ${this.body} }`;\r\n  }\r\n\r\n  // --\r\n  // PRIVATE FUNCTIONS\r\n  // -----------------\r\n\r\n  private parceFind(_levelA: any[]) {\r\n    const propsA = _levelA.map((currentValue, index) => {\r\n      const itemX = _levelA[index];\r\n\r\n      if (itemX instanceof GraphqlQueryBuilder) {\r\n        return itemX.toString();\r\n      } else if (!Array.isArray(itemX) && typeof itemX === 'object') {\r\n        const propsAA = Object.keys(itemX);\r\n        if (1 !== propsAA.length) {\r\n          throw new RangeError(`Alias objects should only have one value. was passed: ${JSON.stringify(itemX)}`);\r\n        }\r\n        const propS = propsAA[0];\r\n        const item = itemX[propS];\r\n\r\n        if (Array.isArray(item)) {\r\n          return new GraphqlQueryBuilder(propS).find(item);\r\n        }\r\n        return `${propS} : ${item} `;\r\n      } else if (typeof itemX === 'string') {\r\n        return itemX;\r\n      } else {\r\n        throw new RangeError(`cannot handle Find value of ${itemX}`);\r\n      }\r\n    });\r\n\r\n    return propsA.join(',');\r\n  }\r\n\r\n  private getGraphQLValue(value: any) {\r\n    if (typeof value === 'string') {\r\n      value = JSON.stringify(value);\r\n    } else if (Array.isArray(value)) {\r\n      value = value.map(item => {\r\n        return this.getGraphQLValue(item);\r\n      }).join();\r\n      value = `[${value}]`;\r\n    } else if (value instanceof Date) {\r\n      value = JSON.stringify(value);\r\n    } else if (value !== null && typeof value === 'object') {\r\n      value = this.objectToString(value);\r\n    }\r\n    return value;\r\n  }\r\n\r\n  private objectToString(obj: any) {\r\n    const sourceA = [];\r\n\r\n    for (const prop of Object.keys(obj)) {\r\n      if (typeof obj[prop] === 'function') {\r\n        continue;\r\n      }\r\n      sourceA.push(`${prop}:${this.getGraphQLValue(obj[prop])}`);\r\n    }\r\n    return `{${sourceA.join()}}`;\r\n  }\r\n}\r\n",
    "import { Injectable } from '@angular/core';\nimport { mapOperatorType, mapOperatorByFilterType, mapOperatorByFieldType } from './utilities';\nimport {\n  BackendService,\n  Column,\n  ColumnFilter,\n  ColumnFilters,\n  ColumnSort,\n  CurrentFilter,\n  CurrentPagination,\n  CurrentSorter,\n  FieldType,\n  FilterChangedArgs,\n  GraphqlCursorPaginationOption,\n  GraphqlDatasetFilter,\n  GraphqlFilteringOption,\n  GraphqlPaginationOption,\n  GraphqlServiceOption,\n  GraphqlSortingOption,\n  GridOption,\n  Pagination,\n  PaginationChangedArgs,\n  SortChangedArgs,\n  SortDirection,\n  SortDirectionString\n} from './../models/index';\nimport QueryBuilder from './graphqlQueryBuilder';\n\n// timer for keeping track of user typing waits\nlet timer: any;\nconst DEFAULT_FILTER_TYPING_DEBOUNCE = 750;\nconst DEFAULT_ITEMS_PER_PAGE = 25;\nconst DEFAULT_PAGE_SIZE = 20;\n\nexport class GraphqlService implements BackendService {\n  private _currentFilters: ColumnFilters | CurrentFilter[];\n  private _currentPagination: CurrentPagination;\n  private _currentSorters: CurrentSorter[];\n  private _columnDefinitions: Column[];\n  private _grid: any;\n  options: GraphqlServiceOption;\n  pagination: Pagination | undefined;\n  defaultOrderBy: GraphqlSortingOption = { field: 'id', direction: SortDirection.ASC };\n  defaultPaginationOptions: GraphqlPaginationOption | GraphqlCursorPaginationOption = {\n    first: DEFAULT_ITEMS_PER_PAGE,\n    offset: 0\n  };\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /**\n   * Build the GraphQL query, since the service include/exclude cursor, the output query will be different.\n   * @param serviceOptions GraphqlServiceOption\n   */\n  buildQuery() {\n    if (!this.options || !this.options.datasetName || (!this._columnDefinitions && !this.options.columnDefinitions)) {\n      throw new Error('GraphQL Service requires \"datasetName\" & \"columnDefinitions\" properties for it to work');\n    }\n\n    // get the column definitions and exclude some if they were tagged as excluded\n    let columnDefinitions = this._columnDefinitions || this.options.columnDefinitions;\n    columnDefinitions = columnDefinitions.filter((column: Column) => !column.excludeFromQuery);\n\n    const queryQb = new QueryBuilder('query');\n    const datasetQb = new QueryBuilder(this.options.datasetName);\n    const dataQb = (this.options.isWithCursor) ? new QueryBuilder('edges') : new QueryBuilder('nodes');\n\n    // get all the columnds Ids for the filters to work\n    let columnIds: string[] = [];\n    if (columnDefinitions && Array.isArray(columnDefinitions)) {\n      for (const column of columnDefinitions) {\n        columnIds.push(column.field);\n\n        // if extra \"fields\" are passed, also push them to columnIds\n        if (column.fields) {\n          columnIds.push(...column.fields);\n        }\n      }\n      // columnIds = columnDefinitions.map((column) => column.field);\n    } else {\n      columnIds = this.options.columnIds || [];\n    }\n\n    // Slickgrid also requires the \"id\" field to be part of DataView\n    // add it to the GraphQL query if it wasn't already part of the list\n    if (columnIds.indexOf('id') === -1) {\n      columnIds.unshift('id');\n    }\n\n    const filters = this.buildFilterQuery(columnIds);\n\n    if (this.options.isWithCursor) {\n      // ...pageInfo { hasNextPage, endCursor }, edges { cursor, node { _filters_ } }\n      const pageInfoQb = new QueryBuilder('pageInfo');\n      pageInfoQb.find('hasNextPage', 'endCursor');\n      dataQb.find(['cursor', { node: filters }]);\n      datasetQb.find(['totalCount', pageInfoQb, dataQb]);\n    } else {\n      // ...nodes { _filters_ }\n      dataQb.find(filters);\n      datasetQb.find(['totalCount', dataQb]);\n    }\n\n    // add dataset filters, could be Pagination and SortingFilters and/or FieldFilters\n    const datasetFilters: GraphqlDatasetFilter = {\n      ...this.options.paginationOptions,\n      first: ((this.options.paginationOptions && this.options.paginationOptions.first) ? this.options.paginationOptions.first : ((this.pagination && this.pagination.pageSize) ? this.pagination.pageSize : null)) || this.defaultPaginationOptions.first\n    };\n\n    if (!this.options.isWithCursor) {\n      datasetFilters.offset = ((this.options.paginationOptions && this.options.paginationOptions.hasOwnProperty('offset')) ? +this.options.paginationOptions['offset'] : 0);\n    }\n\n    if (this.options.sortingOptions && Array.isArray(this.options.sortingOptions) && this.options.sortingOptions.length > 0) {\n      // orderBy: [{ field:x, direction: 'ASC' }]\n      datasetFilters.orderBy = this.options.sortingOptions;\n    }\n    if (this.options.filteringOptions && Array.isArray(this.options.filteringOptions) && this.options.filteringOptions.length > 0) {\n      // filterBy: [{ field: date, operator: '>', value: '2000-10-10' }]\n      datasetFilters.filterBy = this.options.filteringOptions;\n    }\n    if (this.options.addLocaleIntoQuery) {\n      // first: 20, ... locale: \"en-CA\"\n      datasetFilters.locale = (this._gridOptions.params && this._gridOptions.params.i18n && this._gridOptions.params.i18n.currentLang) || 'en';\n    }\n    if (this.options.extraQueryArguments) {\n      // first: 20, ... userId: 123\n      for (const queryArgument of this.options.extraQueryArguments) {\n        datasetFilters[queryArgument.field] = queryArgument.value;\n      }\n    }\n\n    // query { users(first: 20, orderBy: [], filterBy: [])}\n    datasetQb.filter(datasetFilters);\n    queryQb.find(datasetQb);\n\n    const enumSearchProperties = ['direction:', 'field:', 'operator:'];\n    return this.trimDoubleQuotesOnEnumField(queryQb.toString(), enumSearchProperties, this.options.keepArgumentFieldDoubleQuotes || false);\n  }\n\n  /**\n   * From an input array of strings, we want to build a GraphQL query string.\n   * The process has to take the dot notation and parse it into a valid GraphQL query\n   * Following this SO answer https://stackoverflow.com/a/47705476/1212166\n   *\n   * INPUT\n   *  ['firstName', 'lastName', 'billing.address.street', 'billing.address.zip']\n   * OUTPUT\n   * firstName, lastName, billing{address{street, zip}}\n   * @param inputArray\n   */\n  buildFilterQuery(inputArray: string[]) {\n\n    const set = (o: any = {}, a: any) => {\n      const k = a.shift();\n      o[k] = a.length ? set(o[k], a) : null;\n      return o;\n    };\n\n    const output = inputArray.reduce((o: any, a: string) => set(o, a.split('.')), {});\n\n    return JSON.stringify(output)\n      .replace(/\\\"|\\:|null/g, '')\n      .replace(/^\\{/, '')\n      .replace(/\\}$/, '');\n  }\n\n  init(serviceOptions?: GraphqlServiceOption, pagination?: Pagination, grid?: any): void {\n    this._grid = grid;\n    this.options = serviceOptions || {};\n    this.pagination = pagination;\n\n    if (grid && grid.getColumns && grid.getOptions) {\n      this._columnDefinitions = grid.getColumns();\n    }\n  }\n\n  /**\n   * Get an initialization of Pagination options\n   * @return Pagination Options\n   */\n  getInitPaginationOptions(): GraphqlDatasetFilter {\n    return (this.options.isWithCursor) ? { first: (this.pagination ? this.pagination.pageSize : DEFAULT_ITEMS_PER_PAGE) } : { first: (this.pagination ? this.pagination.pageSize : DEFAULT_ITEMS_PER_PAGE), offset: 0 };\n  }\n\n  /** Get the GraphQL dataset name */\n  getDatasetName(): string {\n    return this.options.datasetName || '';\n  }\n\n  /** Get the Filters that are currently used by the grid */\n  getCurrentFilters(): ColumnFilters | CurrentFilter[] {\n    return this._currentFilters;\n  }\n\n  /** Get the Pagination that is currently used by the grid */\n  getCurrentPagination(): CurrentPagination {\n    return this._currentPagination;\n  }\n\n  /** Get the Sorters that are currently used by the grid */\n  getCurrentSorters(): CurrentSorter[] {\n    return this._currentSorters;\n  }\n\n  /*\n   * Reset the pagination options\n   */\n  resetPaginationOptions() {\n    let paginationOptions;\n    if (this.options.isWithCursor) {\n      // first, last, after, before\n      paginationOptions = {\n        after: '',\n        before: undefined,\n        last: undefined\n      } as GraphqlCursorPaginationOption;\n    } else {\n      // first, last, offset\n      paginationOptions = (this.options.paginationOptions || this.getInitPaginationOptions()) as GraphqlPaginationOption;\n      paginationOptions.offset = 0;\n    }\n\n    // save current pagination as Page 1 and page size as \"first\" set size\n    this._currentPagination = {\n      pageNumber: 1,\n      pageSize: paginationOptions.first\n    };\n\n    this.updateOptions({ paginationOptions });\n  }\n\n  updateOptions(serviceOptions?: GraphqlServiceOption) {\n    this.options = { ...this.options, ...serviceOptions };\n  }\n\n  /*\n   * FILTERING\n   */\n  processOnFilterChanged(event: Event, args: FilterChangedArgs): Promise<string> {\n    const gridOptions: GridOption = this._gridOptions || args.grid.getOptions();\n    const backendApi = gridOptions.backendServiceApi;\n\n    if (backendApi === undefined) {\n      throw new Error('Something went wrong in the GraphqlService, \"backendServiceApi\" is not initialized');\n    }\n\n    // only add a delay when user is typing, on select dropdown filter it will execute right away\n    let debounceTypingDelay = 0;\n    if (event && (event.type === 'keyup' || event.type === 'keydown')) {\n      debounceTypingDelay = backendApi.filterTypingDebounce || DEFAULT_FILTER_TYPING_DEBOUNCE;\n    }\n\n    const promise = new Promise<string>((resolve, reject) => {\n      if (!args || !args.grid) {\n        throw new Error('Something went wrong when trying create the GraphQL Backend Service, it seems that \"args\" is not populated correctly');\n      }\n\n      // reset Pagination, then build the GraphQL query which we will use in the WebAPI callback\n      // wait a minimum user typing inactivity before processing any query\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        // loop through all columns to inspect filters & set the query\n        this.updateFilters(args.columnFilters, false);\n\n        this.resetPaginationOptions();\n        resolve(this.buildQuery());\n      }, debounceTypingDelay);\n    });\n\n    return promise;\n  }\n\n  /*\n   * PAGINATION\n   * With cursor, the query can have 4 arguments (first, after, last, before), for example:\n   *   users (first:20, after:\"YXJyYXljb25uZWN0aW9uOjM=\") {\n   *     totalCount\n   *     pageInfo {\n   *       hasNextPage\n   *       endCursor\n   *     }\n   *     edges {\n   *       cursor\n   *       node {\n   *         name\n   *         gender\n   *       }\n   *     }\n   *   }\n   * Without cursor, the query can have 3 arguments (first, last, offset), for example:\n   *   users (first:20, offset: 10) {\n   *     totalCount\n   *     nodes {\n   *       name\n   *       gender\n   *     }\n   *   }\n   */\n  processOnPaginationChanged(event: Event, args: PaginationChangedArgs) {\n    const pageSize = +(args.pageSize || ((this.pagination) ? this.pagination.pageSize : DEFAULT_PAGE_SIZE));\n    this.updatePagination(args.newPage, pageSize);\n\n    // build the GraphQL query which we will use in the WebAPI callback\n    return this.buildQuery();\n  }\n\n  /*\n   * SORTING\n   * we will use sorting as per a Facebook suggestion on a Github issue (with some small changes)\n   * https://github.com/graphql/graphql-relay-js/issues/20#issuecomment-220494222\n   */\n  processOnSortChanged(event: Event, args: SortChangedArgs) {\n    const sortColumns = (args.multiColumnSort) ? args.sortCols : new Array({ sortCol: args.sortCol, sortAsc: args.sortAsc });\n\n    // loop through all columns to inspect sorters & set the query\n    this.updateSorters(sortColumns);\n\n    // build the GraphQL query which we will use in the WebAPI callback\n    return this.buildQuery();\n  }\n\n  /**\n   * loop through all columns to inspect filters & update backend service filteringOptions\n   * @param columnFilters\n   */\n  updateFilters(columnFilters: ColumnFilters | CurrentFilter[], isUpdatedByPreset: boolean) {\n    // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)\n    this._currentFilters = this.castFilterToColumnFilter(columnFilters);\n\n    const searchByArray: GraphqlFilteringOption[] = [];\n    let searchValue: string | string[];\n\n    for (const columnId in columnFilters) {\n      if (columnFilters.hasOwnProperty(columnId)) {\n        const columnFilter = columnFilters[columnId];\n\n        // if user defined some \"presets\", then we need to find the filters from the column definitions instead\n        let columnDef: Column | undefined;\n        if (isUpdatedByPreset && Array.isArray(this._columnDefinitions)) {\n          columnDef = this._columnDefinitions.find((column: Column) => column.id === columnFilter.columnId);\n        } else {\n          columnDef = columnFilter.columnDef;\n        }\n        if (!columnDef) {\n          throw new Error('[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?');\n        }\n\n        const fieldName = columnDef.queryField || columnDef.queryFieldFilter || columnDef.field || columnDef.name || '';\n        const searchTerms = (columnFilter ? columnFilter.searchTerms : null) || [];\n        let fieldSearchValue = (Array.isArray(searchTerms) && searchTerms.length === 1) ? searchTerms[0] : '';\n        if (typeof fieldSearchValue === 'undefined') {\n          fieldSearchValue = '';\n        }\n\n        if (typeof fieldSearchValue !== 'string' && !searchTerms) {\n          throw new Error(`GraphQL filter searchTerm property must be provided as type \"string\", if you use filter with options then make sure your IDs are also string. For example: filter: {type: FilterType.select, collection: [{ id: \"0\", value: \"0\" }, { id: \"1\", value: \"1\" }]`);\n        }\n\n        fieldSearchValue = '' + fieldSearchValue; // make sure it's a string\n        const matches = fieldSearchValue.match(/^([<>!=\\*]{0,2})(.*[^<>!=\\*])([\\*]?)$/); // group 1: Operator, 2: searchValue, 3: last char is '*' (meaning starts with, ex.: abc*)\n        let operator = columnFilter.operator || ((matches) ? matches[1] : '');\n        searchValue = (!!matches) ? matches[2] : '';\n        const lastValueChar = (!!matches) ? matches[3] : (operator === '*z' ? '*' : '');\n\n        // no need to query if search value is empty\n        if (fieldName && searchValue === '' && searchTerms.length === 0) {\n          continue;\n        }\n\n        // when having more than 1 search term (we need to create a CSV string for GraphQL \"IN\" or \"NOT IN\" filter search)\n        if (searchTerms && searchTerms.length > 1) {\n          searchValue = searchTerms.join(',');\n        } else if (typeof searchValue === 'string') {\n          // escaping the search value\n          searchValue = searchValue.replace(`'`, `''`); // escape single quotes by doubling them\n          if (operator === '*' || operator === 'a*' || operator === '*z' || lastValueChar === '*') {\n            operator = (operator === '*' || operator === '*z') ? 'endsWith' : 'startsWith';\n          }\n        }\n\n        // if we didn't find an Operator but we have a Filter Type, we should use default Operator\n        // multipleSelect is \"IN\", while singleSelect is \"EQ\", else don't map any operator\n        if (!operator && columnDef.filter) {\n          operator = mapOperatorByFilterType(columnDef.filter.type || '');\n        }\n\n        // if we still don't have an operator find the proper Operator to use by it's field type\n        if (!operator) {\n          operator = mapOperatorByFieldType(columnDef.type || FieldType.string);\n        }\n\n        searchByArray.push({\n          field: fieldName,\n          operator: mapOperatorType(operator),\n          value: searchValue\n        });\n      }\n    }\n\n    // update the service options with filters for the buildQuery() to work later\n    this.updateOptions({ filteringOptions: searchByArray });\n  }\n\n  /**\n   * Update the pagination component with it's new page number and size\n   * @param newPage\n   * @param pageSize\n   */\n  updatePagination(newPage: number, pageSize: number) {\n    this._currentPagination = {\n      pageNumber: newPage,\n      pageSize\n    };\n\n    let paginationOptions;\n    if (this.options.isWithCursor) {\n      paginationOptions = {\n        first: pageSize\n      };\n    } else {\n      paginationOptions = {\n        first: pageSize,\n        offset: (newPage - 1) * pageSize\n      };\n    }\n\n    this.updateOptions({ paginationOptions });\n  }\n\n  /**\n   * loop through all columns to inspect sorters & update backend service sortingOptions\n   * @param columnFilters\n   */\n  updateSorters(sortColumns?: ColumnSort[], presetSorters?: CurrentSorter[]) {\n    let currentSorters: CurrentSorter[] = [];\n    let graphqlSorters: GraphqlSortingOption[] = [];\n\n    if (!sortColumns && presetSorters) {\n      // make the presets the current sorters, also make sure that all direction are in uppercase for GraphQL\n      currentSorters = presetSorters;\n      currentSorters.forEach((sorter) => sorter.direction = sorter.direction.toUpperCase() as SortDirectionString);\n\n      // display the correct sorting icons on the UI, for that it requires (columnId, sortAsc) properties\n      const tmpSorterArray = currentSorters.map((sorter) => {\n        const columnDef = this._columnDefinitions.find((column: Column) => column.id === sorter.columnId);\n        if (columnDef) {\n          graphqlSorters.push({\n            field: (columnDef.queryField || columnDef.queryFieldSorter || columnDef.field || columnDef.id) + '',\n            direction: sorter.direction\n          });\n        }\n        return {\n          columnId: sorter.columnId,\n          sortAsc: sorter.direction.toUpperCase() === SortDirection.ASC\n        };\n      });\n      this._grid.setSortColumns(tmpSorterArray);\n    } else if (sortColumns && !presetSorters) {\n      // build the orderBy array, it could be multisort, example\n      // orderBy:[{field: lastName, direction: ASC}, {field: firstName, direction: DESC}]\n      if (sortColumns && sortColumns.length === 0) {\n        graphqlSorters = new Array(this.defaultOrderBy); // when empty, use the default sort\n        currentSorters = new Array({ columnId: this.defaultOrderBy.field, direction: this.defaultOrderBy.direction });\n      } else {\n        if (sortColumns) {\n          for (const column of sortColumns) {\n            if (column && column.sortCol) {\n              currentSorters.push({\n                columnId: column.sortCol.id + '',\n                direction: column.sortAsc ? SortDirection.ASC : SortDirection.DESC\n              });\n\n              graphqlSorters.push({\n                field: (column.sortCol.queryField || column.sortCol.queryFieldSorter || column.sortCol.field || column.sortCol.id) + '',\n                direction: column.sortAsc ? SortDirection.ASC : SortDirection.DESC\n              });\n            }\n          }\n        }\n      }\n    }\n\n    // keep current Sorters and update the service options with the new sorting\n    this._currentSorters = currentSorters;\n    this.updateOptions({ sortingOptions: graphqlSorters });\n  }\n\n  /**\n   * A function which takes an input string and removes double quotes only\n   * on certain fields are identified as GraphQL enums (except fields with dot notation)\n   * For example let say we identified (\"direction:\", \"sort\") as word which are GraphQL enum fields\n   * then the result will be:\n   * FROM\n   * query { users (orderBy:[{field:\"firstName\", direction:\"ASC\"} }]) }\n   * TO\n   * query { users (orderBy:[{field: firstName, direction: ASC}})}\n   *\n   * EXCEPTIONS (fields with dot notation \".\" which are inside a \"field:\")\n   * these fields will keep double quotes while everything else will be stripped of double quotes\n   * query { users (orderBy:[{field:\"billing.street.name\", direction: \"ASC\"} }\n   * TO\n   * query { users (orderBy:[{field:\"billing.street.name\", direction: ASC}}\n   * @param inputStr input string\n   * @param enumSearchWords array of enum words to filter\n   * @returns outputStr output string\n   */\n  trimDoubleQuotesOnEnumField(inputStr: string, enumSearchWords: string[], keepArgumentFieldDoubleQuotes: boolean) {\n    const patternWordInQuotes = `\\s?((field:\\s*)?\".*?\")`;\n    let patternRegex = enumSearchWords.join(patternWordInQuotes + '|');\n    patternRegex += patternWordInQuotes; // the last one should also have the pattern but without the pipe \"|\"\n    // example with (field: & direction:):  /field:s?(\".*?\")|direction:s?(\".*?\")/\n    const reg = new RegExp(patternRegex, 'g');\n\n    return inputStr.replace(reg, (group1, group2, group3) => {\n      // remove double quotes except when the string starts with a \"field:\"\n      let removeDoubleQuotes = true;\n      if (group1.startsWith('field:') && keepArgumentFieldDoubleQuotes) {\n        removeDoubleQuotes = false;\n      }\n      const rep = removeDoubleQuotes ? group1.replace(/\"/g, '') : group1;\n      return rep;\n    });\n  }\n\n  //\n  // private functions\n  // -------------------\n  /**\n   * Cast provided filters (could be in multiple format) into an array of ColumnFilter\n   * @param columnFilters\n   */\n  private castFilterToColumnFilter(columnFilters: ColumnFilters | CurrentFilter[]): CurrentFilter[] {\n    // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)\n    const filtersArray: ColumnFilter[] = (typeof columnFilters === 'object') ? Object.keys(columnFilters).map(key => columnFilters[key]) : columnFilters;\n\n    return filtersArray.map((filter) => {\n      const columnDef = filter.columnDef;\n      const header = (columnDef) ? (columnDef.headerKey || columnDef.name || '') : '';\n      const tmpFilter: CurrentFilter = { columnId: filter.columnId || '' };\n      if (filter.operator) {\n        tmpFilter.operator = filter.operator;\n      }\n      if (Array.isArray(filter.searchTerms)) {\n        tmpFilter.searchTerms = filter.searchTerms;\n      }\n      return tmpFilter;\n    });\n  }\n}\n",
    "declare interface StringConstructor {\r\n  allTitleCase(inputStr: string): string;\r\n  format(inputStr: string, args: any): string;\r\n  padZero(length: number): string;\r\n  trim(inputStr: string): string;\r\n  titleCase(inputStr: string): string;\r\n}\r\n\r\n\r\nString.format = function(format: string, args): string {\r\n  // const args = (Array.isArray(arguments[1])) ? arguments[1] : Array.prototype.slice.call(arguments, 1);\r\n\r\n  return format.replace(/{(\\d+)}/g, function (match, number) {\r\n    return (typeof args[number] !== 'undefined') ? args[number] : match;\r\n  });\r\n};\r\n\r\nString.padZero = function (this: string, length: number) {\r\n  let s = this;\r\n  while (s.length < length) {\r\n    s = '0' + s;\r\n  }\r\n  return s;\r\n};\r\n\r\n/**\r\n * Trim any extra white space from the string\r\n * @param string inputStr\r\n * @returns string outputStr\r\n */\r\nString.trim = function(inputStr: string): string {\r\n  return inputStr ? inputStr.replace(/\\s+/g, ' ') : inputStr;\r\n};\r\n\r\n/**\r\n * Title case the complete sentence (upper case first char of each word while changing everything else to lower case)\r\n * @param string inputStr\r\n * @returns string outputStr\r\n */\r\nString.allTitleCase = function(inputStr: string): string {\r\n  return inputStr.replace(/\\w\\S*/g, function(outputStr) {\r\n     return outputStr.charAt(0).toUpperCase() + outputStr.substr(1).toLowerCase();\r\n  });\r\n};\r\n\r\n/**\r\n * Title case the complete sentence (upper case first char of each word while changing everything else to lower case)\r\n * @param string inputStr\r\n * @returns string outputStr\r\n*/\r\nString.titleCase = function(inputStr: string): string {\r\n  return inputStr.charAt(0).toUpperCase() + inputStr.slice(1);\r\n};\r\n",
    "import './global-utilities';\r\nimport { CaseType, OdataOption } from './../models/index';\r\n\r\nexport class OdataService {\r\n  _columnFilters: any;\r\n  _defaultSortBy: string;\r\n  _odataOptions: OdataOption;\r\n\r\n  constructor() {\r\n    this._odataOptions = {\r\n      filterQueue: [],\r\n      orderBy: ''\r\n    };\r\n    this._defaultSortBy = '';\r\n    this._columnFilters = {};\r\n  }\r\n\r\n  /*\r\n    * Build the OData query string from all the options provided\r\n    * @return string OData query\r\n    */\r\n  buildQuery(): string {\r\n    this._odataOptions.filterQueue = [];\r\n    const queryTmpArray = [];\r\n\r\n    if (this._odataOptions.top) {\r\n      queryTmpArray.push(`$top=${this._odataOptions.top}`);\r\n    }\r\n    if (this._odataOptions.skip) {\r\n      queryTmpArray.push(`$skip=${this._odataOptions.skip}`);\r\n    }\r\n    if (this._odataOptions.orderBy) {\r\n      let argument = '';\r\n      if (Array.isArray(this._odataOptions.orderBy)) {\r\n        argument = this._odataOptions.orderBy.join(','); // csv, that will form a query example like: $orderby=RoleName asc, Id desc\r\n      } else {\r\n        argument = this._odataOptions.orderBy;\r\n      }\r\n      queryTmpArray.push(`$orderby=${argument}`);\r\n    }\r\n    if (this._odataOptions.filterBy || this._odataOptions.filter) {\r\n      if (this._odataOptions.filter) {\r\n        this._odataOptions.filterQueue = [];\r\n        let filterStr = this._odataOptions.filter;\r\n        if (Array.isArray(this._odataOptions.filter)) {\r\n          filterStr = this._odataOptions.filter.join(` ${this._odataOptions.filterBySeparator || 'and'} `);\r\n        }\r\n        this._odataOptions.filterQueue.push(`(${filterStr})`);\r\n      }\r\n      // filterBy are passed manually by the user, however we will only add it if the column wasn't yet filtered\r\n      if (!!this._odataOptions.filterBy && !!this._odataOptions.filterBy.fieldName && !this._columnFilters[this._odataOptions.filterBy.fieldName.toLowerCase()]) {\r\n        if (this._odataOptions.filterBy.searchTerm !== '') {\r\n          this.saveColumnFilter(this._odataOptions.filterBy.fieldName.toLowerCase(), this._odataOptions.filterBy.searchTerm, this._odataOptions.filterBy.searchTerms);\r\n          this.updateFilterFromListTerms(this._odataOptions.filterBy);\r\n        }\r\n      }\r\n    }\r\n    if (this._odataOptions.filterQueue.length > 0) {\r\n      const query = this._odataOptions.filterQueue.join(` ${this._odataOptions.filterBySeparator || 'and'} `);\r\n      this._odataOptions.filter = query; // overwrite with\r\n      queryTmpArray.push(`$filter=${query}`);\r\n    }\r\n\r\n    // join all the odata functions by a '&'\r\n    return queryTmpArray.join('&');\r\n  }\r\n\r\n  getFilterByColumn(columnName: string): string {\r\n    return (!!this._columnFilters[columnName]) ? this._columnFilters[columnName] : null;\r\n  }\r\n\r\n  getFilterCount(): number {\r\n    return (this._odataOptions.filterQueue) ? this._odataOptions.filterQueue.length : 0;\r\n  }\r\n\r\n  get columnFilters(): any[] {\r\n    return this._columnFilters;\r\n  }\r\n\r\n  get options(): OdataOption {\r\n    return this._odataOptions;\r\n  }\r\n\r\n  set options(options: OdataOption) {\r\n    this._odataOptions = options;\r\n  }\r\n\r\n  removeColumnFilter(fieldName: string) {\r\n    delete this._columnFilters[fieldName];\r\n  }\r\n\r\n  saveColumnFilter(fieldName: string, value: any, searchTerms?: any[]) {\r\n    this._columnFilters[fieldName] = {\r\n      search: searchTerms,\r\n      value\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Update the filter by a list of terms usually passed manually by the user as default filters\r\n   * @param filterOptions\r\n   * @returns\r\n   */\r\n  updateFilterFromListTerms(filterOptions: any) {\r\n    // build the filter query\r\n    if (Array.isArray(filterOptions)) {\r\n      filterOptions.forEach((filterOptionObject) => {\r\n        this.updateFilterFromTerm(filterOptionObject);\r\n      });\r\n    } else {\r\n      this.updateFilterFromTerm(filterOptions);\r\n    }\r\n  }\r\n\r\n  updateFilterFromTerm(filterOptions: any) {\r\n    let searchBy = '';\r\n    const tmpSearchByArray = [];\r\n    const fieldName = filterOptions.fieldName;\r\n    const fieldSearchTerms = filterOptions.searchTerms;\r\n    const operator = filterOptions.operator;\r\n\r\n    // when having more than 1 search term (then check if we have a \"IN\" or \"NOT IN\" filter search)\r\n    if (!!fieldSearchTerms && fieldSearchTerms.length > 0) {\r\n      const tmpSearchTerms = [];\r\n\r\n      if (operator === 'IN') {\r\n        // example:: (Stage eq \"Expired\" or Stage eq \"Renewal\")\r\n        for (let j = 0, lnj = fieldSearchTerms.length; j < lnj; j++) {\r\n          tmpSearchTerms.push(`${fieldName} eq '${fieldSearchTerms[j]}'`);\r\n        }\r\n        searchBy = tmpSearchTerms.join(' or ');\r\n        searchBy = `$(${searchBy})`;\r\n      } else if (operator === 'NIN' || operator === 'NOTIN' || operator === 'NOT IN') {\r\n        // example:: (Stage ne \"Expired\" and Stage ne \"Renewal\")\r\n        for (let k = 0, lnk = fieldSearchTerms.length; k < lnk; k++) {\r\n          tmpSearchTerms.push(`${fieldName} ne '${fieldSearchTerms[k]}'`);\r\n        }\r\n        searchBy = tmpSearchTerms.join(' and ');\r\n        searchBy = `$(${searchBy})`;\r\n      }\r\n    }\r\n\r\n    // push to our temp array and also trim white spaces\r\n    tmpSearchByArray.push(String.trim(searchBy));\r\n\r\n    // add to the filter queue only if it doesn't exist in the queue\r\n    const filter = (tmpSearchByArray.length > 0) ? tmpSearchByArray.join(' and ') : '';\r\n    if (this._odataOptions.filterQueue && this._odataOptions.filterQueue.indexOf(filter) === -1) {\r\n      this._odataOptions.filterQueue.push(filter);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Change any OData options that will be used to build the query\r\n   * @param object options\r\n   */\r\n  updateOptions(options: OdataOption) {\r\n    for (const property of Object.keys(options)) {\r\n      if (options.hasOwnProperty(property)) {\r\n        this._odataOptions[property] = options[property]; // replace of the property\r\n      }\r\n\r\n      // we need to keep the defaultSortBy for references whenever the user removes his Sorting\r\n      // then we would revert to the defaultSortBy and the only way is to keep a hard copy here\r\n      if (property === 'orderBy' || property === 'sortBy') {\r\n        let sortBy = options[property];\r\n\r\n        // make sure first char of each orderBy field is capitalize\r\n        if (this._odataOptions.caseType === CaseType.pascalCase) {\r\n          if (Array.isArray(sortBy)) {\r\n            sortBy.forEach((field, index, inputArray) => {\r\n              inputArray[index] = String.titleCase(field);\r\n            });\r\n          } else {\r\n            sortBy = String.titleCase(options[property]);\r\n          }\r\n        }\r\n        this._odataOptions.orderBy = sortBy;\r\n        this._defaultSortBy = sortBy;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n",
    "import './global-utilities';\nimport { parseUtcDate } from './utilities';\nimport { Injectable } from '@angular/core';\nimport {\n  BackendService,\n  CaseType,\n  Column,\n  ColumnFilter,\n  ColumnFilters,\n  ColumnSort,\n  CurrentFilter,\n  CurrentPagination,\n  CurrentSorter,\n  FilterChangedArgs,\n  FieldType,\n  GridOption,\n  OdataOption,\n  Pagination,\n  PaginationChangedArgs,\n  SearchTerm,\n  SortChangedArgs,\n  SortDirection,\n  SortDirectionString\n} from './../models/index';\nimport { OdataService } from './odata.service';\n\nlet timer: any;\nconst DEFAULT_FILTER_TYPING_DEBOUNCE = 750;\nconst DEFAULT_ITEMS_PER_PAGE = 25;\nconst DEFAULT_PAGE_SIZE = 20;\n\n@Injectable()\nexport class GridOdataService implements BackendService {\n  private _currentFilters: CurrentFilter[];\n  private _currentPagination: CurrentPagination;\n  private _currentSorters: CurrentSorter[];\n  private _columnDefinitions: Column[];\n  private _grid: any;\n  odataService: OdataService;\n  options: OdataOption;\n  pagination: Pagination | undefined;\n  defaultOptions: OdataOption = {\n    top: DEFAULT_ITEMS_PER_PAGE,\n    orderBy: '',\n    caseType: CaseType.pascalCase\n  };\n\n  constructor() {\n    this.odataService = new OdataService();\n  }\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  buildQuery(): string {\n    return this.odataService.buildQuery();\n  }\n\n  init(options: OdataOption, pagination?: Pagination, grid?: any): void {\n    this._grid = grid;\n    const mergedOptions = { ...this.defaultOptions, ...options };\n    if (pagination && pagination.pageSize) {\n      mergedOptions.top = pagination.pageSize;\n    }\n    this.odataService.options = { ...mergedOptions, top: mergedOptions.top || this.defaultOptions.top };\n    this.options = this.odataService.options;\n    this.pagination = pagination;\n\n    // save current pagination as Page 1 and page size as \"top\"\n    this._currentPagination = {\n      pageNumber: 1,\n      pageSize: this.odataService.options.top || this.defaultOptions.top\n    };\n\n    if (grid && grid.getColumns && grid.getOptions) {\n      this._columnDefinitions = grid.getColumns() || options.columnDefinitions;\n      this._columnDefinitions = this._columnDefinitions.filter((column: Column) => !column.excludeFromQuery);\n    }\n  }\n\n  updateOptions(serviceOptions?: OdataOption) {\n    this.options = { ...this.options, ...serviceOptions };\n  }\n\n  removeColumnFilter(fieldName: string): void {\n    this.odataService.removeColumnFilter(fieldName);\n  }\n\n  /** Get the Filters that are currently used by the grid */\n  getCurrentFilters(): CurrentFilter[] {\n    return this._currentFilters;\n  }\n\n  /** Get the Pagination that is currently used by the grid */\n  getCurrentPagination(): CurrentPagination {\n    return this._currentPagination;\n  }\n\n  /** Get the Sorters that are currently used by the grid */\n  getCurrentSorters(): CurrentSorter[] {\n    return this._currentSorters;\n  }\n\n  /*\n   * Reset the pagination options\n   */\n  resetPaginationOptions() {\n    this.odataService.updateOptions({\n      skip: 0\n    });\n  }\n\n  saveColumnFilter(fieldName: string, value: string, terms?: any[]) {\n    this.odataService.saveColumnFilter(fieldName, value, terms);\n  }\n\n  /*\n   * FILTERING\n   */\n  processOnFilterChanged(event: Event, args: FilterChangedArgs): Promise<string> {\n    const serviceOptions: GridOption = args.grid.getOptions();\n    const backendApi = serviceOptions.backendServiceApi;\n\n    if (backendApi === undefined) {\n      throw new Error('Something went wrong in the GridOdataService, \"backendServiceApi\" is not initialized');\n    }\n\n    // only add a delay when user is typing, on select dropdown filter it will execute right away\n    let debounceTypingDelay = 0;\n    if (event && (event.type === 'keyup' || event.type === 'keydown')) {\n      debounceTypingDelay = backendApi.filterTypingDebounce || DEFAULT_FILTER_TYPING_DEBOUNCE;\n    }\n\n    const promise = new Promise<string>((resolve, reject) => {\n      // reset Pagination, then build the OData query which we will use in the WebAPI callback\n      // wait a minimum user typing inactivity before processing any query\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        // loop through all columns to inspect filters & set the query\n        this.updateFilters(args.columnFilters);\n\n        this.resetPaginationOptions();\n        resolve(this.odataService.buildQuery());\n      }, debounceTypingDelay);\n    });\n\n    return promise;\n  }\n\n  /*\n   * PAGINATION\n   */\n  processOnPaginationChanged(event: Event, args: PaginationChangedArgs) {\n    const pageSize = +(args.pageSize || DEFAULT_PAGE_SIZE);\n    this.updatePagination(args.newPage, pageSize);\n\n    // build the OData query which we will use in the WebAPI callback\n    return this.odataService.buildQuery();\n  }\n\n  /*\n   * SORTING\n   */\n  processOnSortChanged(event: Event, args: SortChangedArgs) {\n    const sortColumns = (args.multiColumnSort) ? args.sortCols : new Array({ sortCol: args.sortCol, sortAsc: args.sortAsc });\n\n    // loop through all columns to inspect sorters & set the query\n    this.updateSorters(sortColumns);\n\n    // build the OData query which we will use in the WebAPI callback\n    return this.odataService.buildQuery();\n  }\n\n  /**\n   * loop through all columns to inspect filters & update backend service filteringOptions\n   * @param columnFilters\n   */\n  updateFilters(columnFilters: ColumnFilters | CurrentFilter[], isUpdatedByPreset?: boolean) {\n    this._currentFilters = this.castFilterToColumnFilter(columnFilters);\n    let searchBy = '';\n    const searchByArray: string[] = [];\n\n    // loop through all columns to inspect filters\n    for (const columnId in columnFilters) {\n      if (columnFilters.hasOwnProperty(columnId)) {\n        const columnFilter = columnFilters[columnId];\n\n        // if user defined some \"presets\", then we need to find the filters from the column definitions instead\n        let columnDef: Column | undefined;\n        if (isUpdatedByPreset && Array.isArray(this._columnDefinitions)) {\n          columnDef = this._columnDefinitions.find((column: Column) => {\n            return column.id === columnFilter.columnId;\n          });\n        } else {\n          columnDef = columnFilter.columnDef;\n        }\n        if (!columnDef) {\n          throw new Error('[Backend Service API]: Something went wrong in trying to get the column definition of the specified filter (or preset filters). Did you make a typo on the filter columnId?');\n        }\n\n        let fieldName = columnDef.queryField || columnDef.queryFieldFilter || columnDef.field || columnDef.name || '';\n        const fieldType = columnDef.type || 'string';\n        const searchTerms = (columnFilter ? columnFilter.searchTerms : null) || [];\n        let fieldSearchValue = (Array.isArray(searchTerms) && searchTerms.length === 1) ? searchTerms[0] : '';\n        if (typeof fieldSearchValue === 'undefined') {\n          fieldSearchValue = '';\n        }\n\n        if (typeof fieldSearchValue !== 'string' && !searchTerms) {\n          throw new Error(`ODdata filter searchTerm property must be provided as type \"string\", if you use filter with options then make sure your IDs are also string. For example: filter: {type: FilterType.select, collection: [{ id: \"0\", value: \"0\" }, { id: \"1\", value: \"1\" }]`);\n        }\n\n        fieldSearchValue = '' + fieldSearchValue; // make sure it's a string\n        const matches = fieldSearchValue.match(/^([<>!=\\*]{0,2})(.*[^<>!=\\*])([\\*]?)$/); // group 1: Operator, 2: searchValue, 3: last char is '*' (meaning starts with, ex.: abc*)\n        const operator = columnFilter.operator || ((matches) ? matches[1] : '');\n        let searchValue = (!!matches) ? matches[2] : '';\n        const lastValueChar = (!!matches) ? matches[3] : (operator === '*z' ? '*' : '');\n        const bypassOdataQuery = columnFilter.bypassBackendQuery || false;\n\n        // no need to query if search value is empty\n        if (fieldName && searchValue === '' && searchTerms.length === 0) {\n          this.removeColumnFilter(fieldName);\n          continue;\n        }\n\n        // escaping the search value\n        searchValue = searchValue.replace(`'`, `''`); // escape single quotes by doubling them\n        searchValue = encodeURIComponent(searchValue); // encode URI of the final search value\n\n        // extra query arguments\n        if (bypassOdataQuery) {\n          // push to our temp array and also trim white spaces\n          if (fieldName) {\n            this.saveColumnFilter(fieldName, fieldSearchValue, searchTerms);\n          }\n        } else {\n          searchBy = '';\n\n          // titleCase the fieldName so that it matches the WebApi names\n          if (this.odataService.options.caseType === CaseType.pascalCase) {\n            fieldName = String.titleCase(fieldName || '');\n          }\n\n          // when having more than 1 search term (then check if we have a \"IN\" or \"NOT IN\" filter search)\n          if (searchTerms && searchTerms.length > 1) {\n            const tmpSearchTerms = [];\n\n            if (operator === 'IN') {\n              // example:: (Stage eq \"Expired\" or Stage eq \"Renewal\")\n              for (let j = 0, lnj = searchTerms.length; j < lnj; j++) {\n                tmpSearchTerms.push(`${fieldName} eq '${searchTerms[j]}'`);\n              }\n              searchBy = tmpSearchTerms.join(' or ');\n              searchBy = `(${searchBy})`;\n            } else if (operator === 'NIN' || operator === 'NOTIN' || operator === 'NOT IN') {\n              // example:: (Stage ne \"Expired\" and Stage ne \"Renewal\")\n              for (let k = 0, lnk = searchTerms.length; k < lnk; k++) {\n                tmpSearchTerms.push(`${fieldName} ne '${searchTerms[k]}'`);\n              }\n              searchBy = tmpSearchTerms.join(' and ');\n              searchBy = `(${searchBy})`;\n            }\n          } else if (operator === '*' || operator === 'a*' || operator === '*z' || lastValueChar !== '') {\n            // first/last character is a '*' will be a startsWith or endsWith\n            searchBy = (operator === '*' || operator === '*z')\n              ? `endswith(${fieldName}, '${searchValue}')`\n              : `startswith(${fieldName}, '${searchValue}')`;\n          } else if (fieldType === FieldType.date) {\n            // date field needs to be UTC and within DateTime function\n            const dateFormatted = parseUtcDate(searchValue, true);\n            if (dateFormatted) {\n              searchBy = `${fieldName} ${this.mapOdataOperator(operator)} DateTime'${dateFormatted}'`;\n            }\n          } else if (fieldType === FieldType.string) {\n            // string field needs to be in single quotes\n            if (operator === '') {\n              searchBy = `substringof('${searchValue}', ${fieldName})`;\n            } else {\n              // searchBy = `substringof('${searchValue}', ${fieldNameCased}) ${this.mapOdataOperator(operator)} true`;\n              searchBy = `${fieldName} ${this.mapOdataOperator(operator)} '${searchValue}'`;\n            }\n          } else {\n            // any other field type (or undefined type)\n            searchValue = fieldType === FieldType.number ? searchValue : `'${searchValue}'`;\n            searchBy = `${fieldName} ${this.mapOdataOperator(operator)} ${searchValue}`;\n          }\n\n          // push to our temp array and also trim white spaces\n          if (searchBy !== '') {\n            searchByArray.push(String.trim(searchBy));\n            this.saveColumnFilter(fieldName || '', fieldSearchValue, searchTerms);\n          }\n        }\n      }\n    }\n\n    // update the service options with filters for the buildQuery() to work later\n    this.odataService.updateOptions({\n      filter: (searchByArray.length > 0) ? searchByArray.join(' and ') : '',\n      skip: undefined\n    });\n  }\n\n  /**\n   * Update the pagination component with it's new page number and size\n   * @param newPage\n   * @param pageSize\n   */\n  updatePagination(newPage: number, pageSize: number) {\n    this._currentPagination = {\n      pageNumber: newPage,\n      pageSize\n    };\n\n    this.odataService.updateOptions({\n      top: pageSize,\n      skip: (newPage - 1) * pageSize\n    });\n  }\n\n  /**\n   * loop through all columns to inspect sorters & update backend service orderBy\n   * @param columnFilters\n   */\n  updateSorters(sortColumns?: ColumnSort[], presetSorters?: CurrentSorter[]) {\n    let sortByArray: any[] = [];\n    const sorterArray: CurrentSorter[] = [];\n\n    if (!sortColumns && presetSorters) {\n      // make the presets the current sorters, also make sure that all direction are in lowercase for OData\n      sortByArray = presetSorters;\n      sortByArray.forEach((sorter) => sorter.direction = sorter.direction.toLowerCase() as SortDirectionString);\n\n      // display the correct sorting icons on the UI, for that it requires (columnId, sortAsc) properties\n      const tmpSorterArray = sortByArray.map((sorter) => {\n        sorterArray.push({\n          columnId: sorter.columnId + '',\n          direction: sorter.direction\n        });\n        return {\n          columnId: sorter.columnId,\n          sortAsc: sorter.direction.toUpperCase() === SortDirection.ASC\n        };\n      });\n      this._grid.setSortColumns(tmpSorterArray);\n    } else if (sortColumns && !presetSorters) {\n      // build the SortBy string, it could be multisort, example: customerNo asc, purchaserName desc\n      if (sortColumns && sortColumns.length === 0) {\n        sortByArray = new Array(this.defaultOptions.orderBy); // when empty, use the default sort\n      } else {\n        if (sortColumns) {\n          for (const column of sortColumns) {\n            if (column.sortCol) {\n              let fieldName = (column.sortCol.queryField || column.sortCol.queryFieldSorter || column.sortCol.field || column.sortCol.id) + '';\n              let columnFieldName = (column.sortCol.field || column.sortCol.id) + '';\n              if (this.odataService.options.caseType === CaseType.pascalCase) {\n                fieldName = String.titleCase(fieldName);\n                columnFieldName = String.titleCase(columnFieldName);\n              }\n\n              sorterArray.push({\n                columnId: columnFieldName,\n                direction: column.sortAsc ? 'asc' : 'desc'\n              });\n            }\n          }\n          sortByArray = sorterArray;\n        }\n      }\n    }\n\n    // transform the sortby array into a CSV string for OData\n    sortByArray = sortByArray as CurrentSorter[];\n    const csvString = sortByArray.map((sorter) => `${sorter.columnId} ${sorter.direction.toLowerCase()}`).join(',');\n    this.odataService.updateOptions({\n      orderBy: (this.odataService.options.caseType === CaseType.pascalCase) ? String.titleCase(csvString) : csvString\n    });\n\n    // keep current Sorters and update the service options with the new sorting\n    this._currentSorters = sortByArray as CurrentSorter[];\n\n    // build the OData query which we will use in the WebAPI callback\n    return this.odataService.buildQuery();\n  }\n\n  //\n  // private functions\n  // -------------------\n  /**\n   * Cast provided filters (could be in multiple format) into an array of ColumnFilter\n   * @param columnFilters\n   */\n  private castFilterToColumnFilter(columnFilters: ColumnFilters | CurrentFilter[]): CurrentFilter[] {\n    // keep current filters & always save it as an array (columnFilters can be an object when it is dealt by SlickGrid Filter)\n    const filtersArray: ColumnFilter[] = ((typeof columnFilters === 'object') ? Object.keys(columnFilters).map(key => columnFilters[key]) : columnFilters) as CurrentFilter[];\n\n    return filtersArray.map((filter) => {\n      const columnDef = filter.columnDef;\n      const header = (columnDef) ? (columnDef.headerKey || columnDef.name || '') : '';\n      const tmpFilter: CurrentFilter = { columnId: filter.columnId || '' };\n      if (filter.operator) {\n        tmpFilter.operator = filter.operator;\n      }\n      if (Array.isArray(filter.searchTerms)) {\n        tmpFilter.searchTerms = filter.searchTerms;\n      }\n      return tmpFilter;\n    });\n  }\n\n  /**\n   * Mapper for mathematical operators (ex.: <= is \"le\", > is \"gt\")\n   * @param string operator\n   * @returns string map\n   */\n  private mapOdataOperator(operator: string) {\n    let map = '';\n    switch (operator) {\n      case '<':\n        map = 'lt';\n        break;\n      case '<=':\n        map = 'le';\n        break;\n      case '>':\n        map = 'gt';\n        break;\n      case '>=':\n        map = 'ge';\n        break;\n      case '<>':\n      case '!=':\n        map = 'ne';\n        break;\n      case '=':\n      case '==':\n      default:\n        map = 'eq';\n        break;\n    }\n\n    return map;\n  }\n}\n",
    "import { OnEventArgs, CellArgs, GridOption } from './../models/index';\r\n\r\n// using external non-typed js libraries\r\ndeclare var Slick: any;\r\n\r\nexport class GridEventService {\r\n  private _eventHandler: any = new Slick.EventHandler();\r\n\r\n  /* OnCellChange Event */\r\n  attachOnCellChange(grid: any, dataView: any) {\r\n    // subscribe to this Slickgrid event of onCellChange\r\n    this._eventHandler.subscribe(grid.onCellChange, (e: Event, args: CellArgs) => {\r\n      if (!e || !args || !grid || args.cell === undefined || !grid.getColumns || !grid.getDataItem) {\r\n        return;\r\n      }\r\n      const column = grid.getColumns()[args.cell];\r\n\r\n      // if the column definition has a onCellChange property (a callback function), then run it\r\n      if (typeof column.onCellChange === 'function') {\r\n        // add to the output gridOptions & dataView since we'll need them inside the AJAX column.onCellChange\r\n        const returnedArgs: OnEventArgs = {\r\n          row: args.row,\r\n          cell: args.cell,\r\n          dataView,\r\n          gridDefinition: grid.getOptions(),\r\n          grid,\r\n          columnDef: column,\r\n          dataContext: grid.getDataItem(args.row)\r\n        };\r\n\r\n        // finally call up the Slick.column.onCellChanges.... function\r\n        column.onCellChange(returnedArgs);\r\n        // e.stopImmediatePropagation();\r\n      }\r\n    });\r\n  }\r\n  /* OnClick Event */\r\n  attachOnClick(grid: any, dataView: any) {\r\n    this._eventHandler.subscribe(grid.onClick, (e: Event, args: CellArgs) => {\r\n      if (!e || !args || !grid || args.cell === undefined || !grid.getColumns || !grid.getDataItem) {\r\n        return;\r\n      }\r\n      const column = grid.getColumns()[args.cell];\r\n\r\n      // if the column definition has a onCellClick property (a callback function), then run it\r\n      if (typeof column.onCellClick === 'function') {\r\n        // add to the output gridOptions & dataView since we'll need them inside the AJAX column.onClick\r\n        const returnedArgs: OnEventArgs = {\r\n          row: args.row,\r\n          cell: args.cell,\r\n          dataView,\r\n          gridDefinition: grid.getOptions(),\r\n          grid,\r\n          columnDef: column,\r\n          dataContext: grid.getDataItem(args.row)\r\n        };\r\n\r\n        // finally call up the Slick.column.onCellClick.... function\r\n        column.onCellClick(returnedArgs);\r\n        e.stopImmediatePropagation();\r\n      }\r\n\r\n      // stop the click event bubbling\r\n      // NOTE: We don't want to stop bubbling when doing an input edit, if we do the autoEdit which has intent of doing singleClick edit will become doubleClick edit\r\n      if (grid.getOptions && !grid.getOptions().autoEdit) {\r\n        // e.stopImmediatePropagation();\r\n      }\r\n    });\r\n  }\r\n\r\n  dispose() {\r\n    this._eventHandler.unsubscribeAll();\r\n  }\r\n}\r\n",
    "import { Column, GridOption } from './../models/index';\nimport { Subject } from 'rxjs/Subject';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n// global constants, height/width are in pixels\nconst DATAGRID_MIN_HEIGHT = 180;\nconst DATAGRID_MIN_WIDTH = 300;\nconst DATAGRID_BOTTOM_PADDING = 20;\nconst DATAGRID_PAGINATION_HEIGHT = 35;\nlet timer: any;\n\nexport interface GridDimension {\n  height: number;\n  width: number;\n  heightWithPagination?: number;\n}\n\nexport class ResizerService {\n  private _grid: any;\n  private _lastDimensions: GridDimension;\n  onGridBeforeResize = new Subject<boolean>();\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  private get _gridUid(): string {\n    return (this._grid && this._grid.getUID) ? this._grid.getUID() : this._gridOptions.gridId;\n  }\n\n  init(grid: any): void {\n    this._grid = grid;\n  }\n\n  /** Attach an auto resize trigger on the datagrid, if that is enable then it will resize itself to the available space\n   * Options: we could also provide a % factor to resize on each height/width independently\n   */\n  attachAutoResizeDataGrid(newSizes?: GridDimension) {\n    // if we can't find the grid to resize, return without attaching anything\n    const gridDomElm = $(`#${this._gridOptions && this._gridOptions.gridId ? this._gridOptions.gridId : 'grid1'}`);\n    if (gridDomElm === undefined || gridDomElm.offset() === undefined) {\n      return null;\n    }\n\n    // -- 1st resize the datagrid size at first load (we need this because the .on event is not triggered on first load)\n    this.resizeGrid(0, newSizes);\n\n    // -- 2nd attach a trigger on the Window DOM element, so that it happens also when resizing after first load\n    // -- attach auto-resize to Window object only if it exist\n    $(window).on(`resize.grid.${this._gridUid}`, () => {\n      this.onGridBeforeResize.next(true);\n      // for some yet unknown reason, calling the resize twice removes any stuttering/flickering when changing the height and makes it much smoother\n      this.resizeGrid(0, newSizes);\n      this.resizeGrid(0, newSizes);\n    });\n  }\n\n  /**\n   * Calculate the datagrid new height/width from the available space, also consider that a % factor might be applied to calculation\n   * object gridOptions\n   */\n  calculateGridNewDimensions(gridOptions: GridOption): any {\n    const gridDomElm = $(`#${gridOptions.gridId}`);\n    const containerElm = (gridOptions.autoResize && gridOptions.autoResize.containerId) ? $(`#${gridOptions.autoResize.containerId}`) : $(`#${gridOptions.gridContainerId}`);\n    const windowElm = $(window);\n    if (windowElm === undefined || containerElm === undefined || gridDomElm === undefined) {\n      return null;\n    }\n\n    // calculate bottom padding\n    // if using pagination, we need to add the pagination height to this bottom padding\n    let bottomPadding = (gridOptions.autoResize && gridOptions.autoResize.bottomPadding) ? gridOptions.autoResize.bottomPadding : DATAGRID_BOTTOM_PADDING;\n    if (bottomPadding && (gridOptions.enablePagination || this._gridOptions.backendServiceApi)) {\n      bottomPadding += DATAGRID_PAGINATION_HEIGHT;\n    }\n\n    const gridHeight = windowElm.height() || 0;\n    const coordOffsetTop = gridDomElm.offset();\n    const gridOffsetTop = (coordOffsetTop !== undefined) ? coordOffsetTop.top : 0;\n    const availableHeight = gridHeight - gridOffsetTop - bottomPadding;\n    const availableWidth = containerElm.width() || 0;\n    const minHeight = (gridOptions.autoResize && gridOptions.autoResize.minHeight < 0) ? gridOptions.autoResize.minHeight : DATAGRID_MIN_HEIGHT;\n    const minWidth = (gridOptions.autoResize && gridOptions.autoResize.minWidth < 0) ? gridOptions.autoResize.minWidth : DATAGRID_MIN_WIDTH;\n\n    let newHeight = availableHeight;\n    let newWidth = (gridOptions.autoResize && gridOptions.autoResize.sidePadding) ? availableWidth - gridOptions.autoResize.sidePadding : availableWidth;\n    if (newHeight < minHeight) {\n      newHeight = minHeight;\n    }\n    if (newWidth < minWidth) {\n      newWidth = minWidth;\n    }\n\n    return {\n      height: newHeight,\n      width: newWidth\n    };\n  }\n\n  /**\n   * Dispose function when element is destroyed\n   */\n  dispose() {\n    $(window).off(`resize.grid.${this._gridUid}`);\n  }\n\n  getLastResizeDimensions(): GridDimension {\n    return this._lastDimensions;\n  }\n\n  /** Resize the datagrid to fit the browser height & width */\n  resizeGrid(delay?: number, newSizes?: GridDimension): void {\n    if (!this._grid || !this._gridOptions) {\n      throw new Error(`\n      Angular-Slickgrid resizer requires a valid Grid object and Grid Options defined.\n      You can fix this by setting your gridOption to use \"enableAutoResize\" or create an instance of the ResizerService by calling attachAutoResizeDataGrid()`);\n    }\n\n    // because of the javascript async nature, we might want to delay the resize a little bit\n    delay = delay || 0;\n\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      // calculate the available sizes with minimum height defined as a constant\n      const availableDimensions = this.calculateGridNewDimensions(this._gridOptions);\n      const gridElm = $(`#${this._gridOptions.gridId}`) || {};\n      const gridContainerElm = $(`#${this._gridOptions.gridContainerId}`) || {};\n\n      if ((newSizes || availableDimensions) && gridElm.length > 0) {\n        // get the new sizes, if new sizes are passed (not 0), we will use them else use available space\n        // basically if user passes 1 of the dimension, let say he passes just the height,\n        // we will use the height as a fixed height but the width will be resized by it's available space\n        const newHeight = (newSizes && newSizes.height) ? newSizes.height : availableDimensions.height;\n        const newWidth = (newSizes && newSizes.width) ? newSizes.width : availableDimensions.width;\n\n        // apply these new height/width to the datagrid\n        gridElm.height(newHeight);\n        gridElm.width(newWidth);\n        gridContainerElm.height(newHeight);\n        gridContainerElm.width(newWidth);\n\n        // keep last resized dimensions\n        this._lastDimensions = {\n          height: newHeight,\n          width: newWidth\n        };\n        if ((this._gridOptions.enablePagination || this._gridOptions.backendServiceApi)) {\n          this._lastDimensions.heightWithPagination = newHeight + DATAGRID_PAGINATION_HEIGHT;\n        }\n\n        // resize the slickgrid canvas on all browser except some IE versions\n        // exclude all IE below IE11\n        // IE11 wants to be a better standard (W3C) follower (finally) they even changed their appName output to also have 'Netscape'\n        if (new RegExp('MSIE [6-8]').exec(navigator.userAgent) === null && this._grid) {\n          this._grid.resizeCanvas();\n        }\n\n        // also call the grid auto-size columns so that it takes available when going bigger\n        this._grid.autosizeColumns();\n      }\n    }, delay);\n  }\n}\n",
    "import { CellArgs, Column, GridOption, OnEventArgs } from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\ndeclare var Slick: any;\n\nexport class GridService {\n  private _grid: any;\n  private _dataView: any;\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  init(grid: any, dataView: any): void {\n    this._grid = grid;\n    this._dataView = dataView;\n  }\n\n  /**\n   * From a SlickGrid Event triggered get the Column Definition and Item Data Context\n   *\n   * For example the SlickGrid onClick will return cell arguments when subscribing to it.\n   * From these cellArgs, we want to get the Column Definition and Item Data\n   * @param cell event args\n   * @return object with columnDef and dataContext\n   */\n  getColumnFromEventArguments(args: CellArgs): OnEventArgs {\n    if (!args || !args.grid || !args.grid.getColumns || !args.grid.getDataItem) {\n      throw new Error('To get the column definition and data, we need to have these arguments passed as objects (row, cell, grid)');\n    }\n\n    return {\n      row: args.row,\n      cell: args.cell,\n      columnDef: args.grid.getColumns()[args.cell],\n      dataContext: args.grid.getDataItem(args.row),\n      dataView: this._dataView,\n      grid: this._grid,\n      gridDefinition: this._gridOptions\n    };\n  }\n\n  getDataItemByRowNumber(rowNumber: number) {\n    if (!this._grid || typeof this._grid.getDataItem !== 'function') {\n      throw new Error('We could not find SlickGrid Grid object');\n    }\n    return this._grid.getDataItem(rowNumber);\n  }\n\n  /** Chain the item Metadata with our implementation of Metadata at given row index */\n  getItemRowMetadata(previousItemMetadata: any) {\n    return (rowNumber: number) => {\n      const item = this._dataView.getItem(rowNumber);\n      let meta = {\n        cssClasses: ''\n      };\n      if (typeof previousItemMetadata === 'object' && !$.isEmptyObject(previousItemMetadata)) {\n        meta = previousItemMetadata(rowNumber);\n      }\n\n      if (item && item._dirty) {\n        meta.cssClasses = (meta.cssClasses || '') + ' dirty';\n      }\n      if (item && item.rowClass) {\n        meta.cssClasses += ` ${item.rowClass}`;\n        meta.cssClasses += ` row${rowNumber}`;\n      }\n\n      return meta;\n    };\n  }\n\n  /**\n   * Highlight then fade a row for x seconds.\n   * The implementation follows this SO answer: https://stackoverflow.com/a/19985148/1212166\n   * @param rowNumber\n   * @param fadeDelay\n   */\n  highlightRow(rowNumber: number, fadeDelay: number = 1500) {\n    // create a SelectionModel if there's not one yet\n    if (!this._grid.getSelectionModel()) {\n      const rowSelectionPlugin = new Slick.RowSelectionModel(this._gridOptions.rowSelectionOptions || {});\n      this._grid.setSelectionModel(rowSelectionPlugin);\n    }\n\n    this._grid.setSelectedRows([rowNumber]);\n    this._dataView.getItemMetadata = this.getItemRowMetadata(this._dataView.getItemMetadata);\n\n    const item = this._dataView.getItem(rowNumber);\n    if (item && item.id) {\n      item.rowClass = 'highlight';\n      this._dataView.updateItem(item.id, item);\n      const gridOptions = this._grid.getOptions() as GridOption;\n\n      // highlight the row for a user defined timeout\n      $(`#${gridOptions.gridId}`)\n          .find(`.highlight.row${rowNumber}`)\n          .first();\n\n      // delete the row's CSS that was attached for highlighting\n      setTimeout(() => {\n        if (item && item.id) {\n          delete item.rowClass;\n          const gridIdx = this._dataView.getIdxById(item.id);\n          if (gridIdx !== undefined) {\n            this._dataView.updateItem(item.id, item);\n          }\n        }\n      }, fadeDelay + 10);\n    }\n  }\n\n  getSelectedRows() {\n    return this._grid.getSelectedRows();\n  }\n  setSelectedRow(rowIndex: number) {\n    this._grid.setSelectedRows([rowIndex]);\n  }\n  setSelectedRows(rowIndexes: number[]) {\n    this._grid.setSelectedRows(rowIndexes);\n  }\n\n  renderGrid() {\n    if (this._grid && typeof this._grid.invalidate === 'function') {\n      this._grid.invalidate();\n      this._grid.render();\n    }\n  }\n\n  /**\n   * Add an item (data item) to the datagrid\n   * @param object dataItem: item object holding all properties of that row\n   */\n  addItemToDatagrid(item) {\n    if (!this._grid || !this._gridOptions || !this._dataView) {\n      throw new Error('We could not find SlickGrid Grid, DataView objects');\n    }\n    if (!this._gridOptions || (!this._gridOptions.enableCheckboxSelector && !this._gridOptions.enableRowSelection)) {\n      throw new Error('addItemToDatagrid() requires to have a valid Slickgrid Selection Model. You can overcome this issue by enabling enableCheckboxSelector or enableRowSelection to True');\n    }\n\n    const row = 0;\n    this._dataView.insertItem(row, item);\n    this._grid.scrollRowIntoView(0); // scroll to row 0\n    this.highlightRow(0, 1500);\n\n    // refresh dataview & grid\n    this._dataView.refresh();\n  }\n\n  /**\n   * Delete an existing item from the datagrid (dataView)\n   * @param object item: item object holding all properties of that row\n   */\n  deleteDataGridItem(item: any) {\n    const row = this._dataView.getRowById(item.id);\n    const itemId = (!item || !item.hasOwnProperty('id')) ? -1 : item.id;\n\n    if (row === undefined || itemId === -1) {\n      throw new Error(`Could not find the item in the grid or it's associated \"id\"`);\n    }\n\n    // delete the item from the dataView\n    this._dataView.deleteItem(itemId);\n    this._dataView.refresh();\n  }\n\n  /**\n   * Delete an existing item from the datagrid (dataView)\n   * @param object item: item object holding all properties of that row\n   */\n  deleteDataGridItemById(id: string | number) {\n    const row = this._dataView.getRowById(id);\n\n    if (row === undefined) {\n      throw new Error(`Could not find the item in the grid by it's associated \"id\"`);\n    }\n\n    // delete the item from the dataView\n    this._dataView.deleteItem(id);\n    this._dataView.refresh();\n  }\n\n  /**\n   * Update an existing item with new properties inside the datagrid\n   * @param object item: item object holding all properties of that row\n   */\n  updateDataGridItem(item: any) {\n    const row = this._dataView.getRowById(item.id);\n    const itemId = (!item || !item.hasOwnProperty('id')) ? -1 : item.id;\n\n    if (itemId === -1) {\n      throw new Error(`Could not find the item in the grid or it's associated \"id\"`);\n    }\n\n    const gridIdx = this._dataView.getIdxById(itemId);\n    if (gridIdx !== undefined) {\n      // Update the item itself inside the dataView\n      this._dataView.updateItem(itemId, item);\n\n      // highlight the row we just updated\n      this.highlightRow(row, 1500);\n\n      // refresh dataview & grid\n      this._dataView.refresh();\n    }\n  }\n}\n",
    "import {\n  CurrentFilter,\n  CurrentPagination,\n  CurrentSorter,\n  GridOption,\n  GridState,\n  GridStateChange,\n  GridStateType\n} from './../models/index';\nimport { FilterService, SortService } from './../services/index';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\nexport class GridStateService {\n  private _grid: any;\n  private _preset: GridState;\n  private filterService: FilterService;\n  private _filterSubcription: Subscription;\n  private _sorterSubcription: Subscription;\n  private sortService: SortService;\n  onGridStateChanged = new Subject<GridStateChange>();\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /**\n   * Initialize the Export Service\n   * @param grid\n   * @param filterService\n   * @param sortService\n   * @param dataView\n   */\n  init(grid: any, filterService: FilterService, sortService: SortService): void {\n    this._grid = grid;\n    this.filterService = filterService;\n    this.sortService = sortService;\n\n    // Subscribe to Event Emitter of Filter & Sort changed, go back to page 1 when that happen\n    this._filterSubcription = this.filterService.onFilterChanged.subscribe((currentFilters: CurrentFilter[]) => {\n      this.onGridStateChanged.next({ change: { newValues: currentFilters, type: GridStateType.filter }, gridState: this.getCurrentGridState() });\n    });\n    this._sorterSubcription = this.sortService.onSortChanged.subscribe((currentSorters: CurrentSorter[]) => {\n      this.onGridStateChanged.next({ change: { newValues: currentSorters, type: GridStateType.sorter }, gridState: this.getCurrentGridState() });\n    });\n  }\n\n  dispose() {\n    this._filterSubcription.unsubscribe();\n    this._sorterSubcription.unsubscribe();\n  }\n\n  /**\n   * Get the current grid state (filters/sorters/pagination)\n   * @return grid state\n   */\n  getCurrentGridState(): GridState {\n    const gridState: GridState = {\n      filters: this.getCurrentFilters(),\n      sorters: this.getCurrentSorters()\n    };\n\n    const currentPagination = this.getCurrentPagination();\n    if (currentPagination) {\n      gridState.pagination = currentPagination;\n    }\n    return gridState;\n  }\n\n  /**\n   * Get the Filters (and their state, columnId, searchTerm(s)) that are currently applied in the grid\n   * @return current filters\n   */\n  getCurrentFilters(): CurrentFilter[] | null {\n    if (this._gridOptions && this._gridOptions.backendServiceApi) {\n      const backendService = this._gridOptions.backendServiceApi.service;\n      if (backendService && backendService.getCurrentFilters) {\n        return backendService.getCurrentFilters() as CurrentFilter[];\n      }\n    } else if (this.filterService && this.filterService.getCurrentLocalFilters) {\n      return this.filterService.getCurrentLocalFilters();\n    }\n    return null;\n  }\n\n  /**\n   * Get current Pagination (and it's state, pageNumber, pageSize) that are currently applied in the grid\n   * @return current pagination state\n   */\n  getCurrentPagination(): CurrentPagination | null {\n    if (this._gridOptions && this._gridOptions.backendServiceApi) {\n      const backendService = this._gridOptions.backendServiceApi.service;\n      if (backendService && backendService.getCurrentPagination) {\n        return backendService.getCurrentPagination();\n      }\n    } else {\n      // TODO implement this whenever local pagination gets implemented\n    }\n    return null;\n  }\n\n  /**\n   * Get the current Sorters (and their state, columnId, direction) that are currently applied in the grid\n   * @return current sorters\n   */\n  getCurrentSorters(): CurrentSorter[] | null {\n    if (this._gridOptions && this._gridOptions.backendServiceApi) {\n      const backendService = this._gridOptions.backendServiceApi.service;\n      if (backendService && backendService.getCurrentSorters) {\n        return backendService.getCurrentSorters() as CurrentSorter[];\n      }\n    } else if (this.sortService && this.sortService.getCurrentLocalSorters) {\n      return this.sortService.getCurrentLocalSorters();\n    }\n    return null;\n  }\n}\n",
    "\nimport {\n  Column,\n  GridOption\n} from './../models/index';\n\n// using external non-typed js libraries\ndeclare let $: any;\n\n// using external non-typed js libraries\ndeclare var Slick: any;\n\nexport class GroupingAndColspanService {\n  private _eventHandler = new Slick.EventHandler();\n  private _dataView: any;\n  private _grid: any;\n\n  /** Getter for the Grid Options pulled through the Grid Object */\n  private get _gridOptions(): GridOption {\n    return (this._grid && this._grid.getOptions) ? this._grid.getOptions() : {};\n  }\n\n  /** Getter for the Column Definitions pulled through the Grid Object */\n  private get _columnDefinitions(): Column[] {\n    return (this._grid && this._grid.getColumns) ? this._grid.getColumns() : [];\n  }\n\n  init(grid: any, dataView: any) {\n    this._grid = grid;\n    this._dataView = dataView;\n\n    if (grid && this._gridOptions) {\n      // When dealing with Pre-Header Grouping colspan, we need to re-create the pre-header in multiple occasions\n      // for all these occasions, we have to trigger a re-create\n      if (this._gridOptions.createPreHeaderPanel) {\n        this._eventHandler.subscribe(grid.onSort, (e: Event, args: any) => {\n          this.createPreHeaderRowGroupingTitle();\n        });\n        this._eventHandler.subscribe(grid.onColumnsResized, (e: Event, args: any) => {\n          this.createPreHeaderRowGroupingTitle();\n        });\n        this._eventHandler.subscribe(dataView.onRowCountChanged, (e: Event, args: any) => {\n          this.createPreHeaderRowGroupingTitle();\n        });\n\n        // also not sure why at this point, but it seems that I need to call the 1st create in a delayed execution\n        // probably some kind of timing issues and delaying it until the grid is fully ready does help\n        setTimeout(() => {\n          this.createPreHeaderRowGroupingTitle();\n        }, 50);\n      }\n    }\n  }\n\n  dispose() {\n    // unsubscribe all SlickGrid events\n    this._eventHandler.unsubscribeAll();\n  }\n\n  createPreHeaderRowGroupingTitle() {\n    const $preHeaderPanel = $(this._grid.getPreHeaderPanel())\n      .empty()\n      .addClass('slick-header-columns')\n      .css('left', '-1000px')\n      .width(this._grid.getHeadersWidth());\n    $preHeaderPanel.parent().addClass('slick-header');\n    const headerColumnWidthDiff = this._grid.getHeaderColumnWidthDiff();\n    let m;\n    let header;\n    let lastColumnGroup = '';\n    let widthTotal = 0;\n\n    for (let i = 0; i < this._columnDefinitions.length; i++) {\n      m = this._columnDefinitions[i];\n      if (lastColumnGroup === m.columnGroup && i > 0) {\n        widthTotal += m.width;\n        header.width(widthTotal - headerColumnWidthDiff);\n      } else {\n        widthTotal = m.width;\n        header = $(`<div class=\"ui-state-default slick-header-column\" />`)\n          .html(`<span class=\"slick-column-name\">${m.columnGroup || ''}</span>`)\n          .width(m.width - headerColumnWidthDiff)\n          .appendTo($preHeaderPanel);\n      }\n      lastColumnGroup = m.columnGroup;\n    }\n  }\n}\n",
    "import { Aggregator } from './../models/aggregator.interface';\n\nexport class AvgAggregator implements Aggregator {\n  private _count: number;\n  private _nonNullCount: number;\n  private _sum: number;\n  private _field: number | string;\n\n  constructor(field: number | string) {\n    this._field = field;\n  }\n\n  init(): void {\n    this._count = 0;\n    this._nonNullCount = 0;\n    this._sum = 0;\n  }\n\n  accumulate(item) {\n    const val = item[this._field];\n    this._count++;\n    if (val != null && val !== '' && !isNaN(val)) {\n      this._nonNullCount++;\n      this._sum += parseFloat(val);\n    }\n  }\n\n  storeResult(groupTotals) {\n    if (!groupTotals.avg) {\n      groupTotals.avg = {};\n    }\n    if (this._nonNullCount !== 0) {\n      groupTotals.avg[this._field] = this._sum / this._nonNullCount;\n    }\n  }\n}\n",
    "import { Aggregator } from './../models/aggregator.interface';\n\nexport class MinAggregator implements Aggregator {\n  private _min: number;\n  private _field: number | string;\n\n  constructor(field: number | string) {\n    this._field = field;\n  }\n\n  init() {\n    this._min = null;\n  }\n\n  accumulate(item) {\n    const val = item[this._field];\n    if (val != null && val !== '' && !isNaN(val)) {\n      if (this._min == null || val < this._min) {\n        this._min = val;\n      }\n    }\n  }\n\n  storeResult(groupTotals) {\n    if (!groupTotals.min) {\n      groupTotals.min = {};\n    }\n    groupTotals.min[this._field] = this._min;\n  }\n}\n",
    "import { Aggregator } from './../models/aggregator.interface';\n\nexport class MaxAggregator implements Aggregator {\n  private _max: number;\n  private _field: number | string;\n\n  constructor(field: number | string) {\n    this._field = field;\n  }\n\n  init(): void {\n    this._max = null;\n  }\n\n  accumulate(item) {\n    const val = item[this._field];\n    if (val != null && val !== '' && !isNaN(val)) {\n      if (this._max == null || val > this._max) {\n        this._max = val;\n      }\n    }\n  }\n\n  storeResult(groupTotals) {\n    if (!groupTotals.max) {\n      groupTotals.max = {};\n    }\n    groupTotals.max[this._field] = this._max;\n  }\n}\n",
    "import { Aggregator } from './../models/aggregator.interface';\n\nexport class SumAggregator implements Aggregator {\n  private _sum: number;\n  private _field: number | string;\n\n  constructor(field: number | string) {\n    this._field = field;\n  }\n\n  init() {\n    this._sum = null;\n  }\n\n  accumulate(item) {\n    const val = item[this._field];\n    if (val != null && val !== '' && !isNaN(val)) {\n      this._sum += parseFloat(val);\n    }\n  }\n\n  storeResult(groupTotals) {\n    if (!groupTotals.sum) {\n      groupTotals.sum = {};\n    }\n    groupTotals.sum[this._field] = this._sum;\n  }\n}\n",
    "import { AvgAggregator } from './avgAggregator';\nimport { MinAggregator } from './minAggregator';\nimport { MaxAggregator } from './maxAggregator';\nimport { SumAggregator } from './sumAggregator';\n\n/** Provides a list of different Aggregators for the Group Formatter */\nexport const Aggregators = {\n  Avg: AvgAggregator,\n  Min: MinAggregator,\n  Max: MaxAggregator,\n  Sum: SumAggregator\n};\n",
    "import { Editor } from './../models/index';\r\n\r\n// using external non-typed js libraries\r\ndeclare var $: any;\r\n\r\n/*\r\n * An example of a 'detached' editor.\r\n * KeyDown events are also handled to provide handling for Tab, Shift-Tab, Esc and Ctrl-Enter.\r\n */\r\nexport class CheckboxEditor implements Editor {\r\n  $input: any;\r\n  defaultValue: boolean;\r\n\r\n  constructor(private args: any) {\r\n    this.init();\r\n  }\r\n\r\n  init(): void {\r\n    this.$input = $(`<input type=\"checkbox\" value=\"true\" class=\"editor-checkbox\" />`);\r\n    this.$input.appendTo(this.args.container);\r\n    this.$input.focus();\r\n  }\r\n\r\n  destroy(): void {\r\n    this.$input.remove();\r\n  }\r\n\r\n  focus(): void {\r\n    this.$input.focus();\r\n  }\r\n\r\n  hide() {\r\n    this.$input.hide();\r\n  }\r\n\r\n  show() {\r\n    this.$input.show();\r\n  }\r\n\r\n  loadValue(item: any) {\r\n    this.defaultValue = !!item[this.args.column.field];\r\n    if (this.defaultValue) {\r\n      this.$input.prop('checked', true);\r\n    } else {\r\n      this.$input.prop('checked', false);\r\n    }\r\n  }\r\n\r\n  preClick() {\r\n    this.$input.prop('checked', !this.$input.prop('checked'));\r\n  }\r\n\r\n  serializeValue(): boolean {\r\n    return this.$input.prop('checked');\r\n  }\r\n\r\n  applyValue(item: any, state: any) {\r\n    item[this.args.column.field] = state;\r\n  }\r\n\r\n  isValueChanged() {\r\n    return (this.serializeValue() !== this.defaultValue);\r\n  }\r\n\r\n  validate() {\r\n    return {\r\n      valid: true,\r\n      msg: null\r\n    };\r\n  }\r\n}\r\n",
    "import { mapFlatpickrDateFormatWithFieldType, mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport { Column, Editor, FieldType, GridOption } from './../models/index';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\n\ndeclare function require(name: string);\nrequire('flatpickr');\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n/*\n * An example of a date picker editor using Flatpickr\n * https://chmln.github.io/flatpickr\n */\nexport class DateEditor implements Editor {\n  $input: any;\n  flatInstance: any;\n  defaultDate: string;\n\n  constructor(private args: any) {\n    this.init();\n  }\n\n  init(): void {\n    if (this.args && this.args.column) {\n      const columnDef = this.args.column;\n      const gridOptions = this.args.grid.getOptions() as GridOption;\n      this.defaultDate = (this.args.item) ? this.args.item[this.args.column.field] : null;\n      const inputFormat = mapFlatpickrDateFormatWithFieldType(columnDef.type || FieldType.dateIso);\n      const outputFormat = mapFlatpickrDateFormatWithFieldType(columnDef.outputType || FieldType.dateUtc);\n      let currentLocale = this.getCurrentLocale(columnDef, gridOptions);\n      if (currentLocale.length > 2) {\n        currentLocale = currentLocale.substring(0, 2);\n      }\n\n      const pickerOptions: any = {\n        defaultDate: this.defaultDate,\n        altInput: true,\n        altFormat: inputFormat,\n        dateFormat: outputFormat,\n        closeOnSelect: false,\n        locale: (currentLocale !== 'en') ? this.loadFlatpickrLocale(currentLocale) : 'en',\n        onChange: (selectedDates: any[] | any, dateStr: string, instance: any) => {\n          this.save();\n        },\n      };\n\n\n      this.$input = $(`<input type=\"text\" data-defaultDate=\"${this.defaultDate}\" class=\"editor-text flatpickr\" />`);\n      this.$input.appendTo(this.args.container);\n      this.flatInstance = (this.$input[0] && typeof this.$input[0].flatpickr === 'function') ? this.$input[0].flatpickr(pickerOptions) : null;\n      this.show();\n    }\n  }\n\n  getCurrentLocale(columnDef: Column, gridOptions: GridOption) {\n    const params = gridOptions || columnDef.params || {};\n    if (params.i18n && params.i18n instanceof TranslateService) {\n      return params.i18n.currentLang;\n    }\n\n    return 'en';\n  }\n\n  loadFlatpickrLocale(locale: string) {\n    // change locale if needed, Flatpickr reference: https://chmln.github.io/flatpickr/localization/\n    if (locale !== 'en') {\n      const localeDefault: any = require(`flatpickr/dist/l10n/${locale}.js`).default;\n      return (localeDefault && localeDefault[locale]) ? localeDefault[locale] : 'en';\n    }\n    return 'en';\n  }\n\n  destroy() {\n    this.hide();\n    // this.flatInstance.destroy();\n    this.$input.remove();\n  }\n\n  show() {\n    if (this.flatInstance && typeof this.flatInstance.open === 'function') {\n      this.flatInstance.open();\n    }\n  }\n\n  hide() {\n    if (this.flatInstance && typeof this.flatInstance.close === 'function') {\n      this.flatInstance.close();\n    }\n  }\n\n  focus() {\n    this.$input.focus();\n  }\n\n  save() {\n    this.args.commitChanges();\n  }\n\n  loadValue(item: any) {\n    this.defaultDate = item[this.args.column.field];\n    this.flatInstance.setDate(item[this.args.column.field]);\n  }\n\n  serializeValue() {\n    const domValue: string = this.$input.val();\n\n    if (!domValue) {\n      return '';\n    }\n\n    const outputFormat = mapMomentDateFormatWithFieldType(this.args.column.type || FieldType.dateIso);\n    const value = moment(domValue).format(outputFormat);\n\n    return value;\n  }\n\n  applyValue(item: any, state: any) {\n    if (!state) {\n      return;\n    }\n\n    const outputFormat = mapMomentDateFormatWithFieldType(this.args.column.type || FieldType.dateIso);\n\n    item[this.args.column.field] = moment(state, outputFormat).toDate();\n  }\n\n  isValueChanged() {\n    return (!(this.$input.val() === '' && this.defaultDate == null)) && (this.$input.val() !== this.defaultDate);\n  }\n\n  validate() {\n    if (this.args.column.validator) {\n      const validationResults = this.args.column.validator(this.$input.val(), this.args);\n      if (!validationResults.valid) {\n        return validationResults;\n      }\n    }\n\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n}\n",
    "import { Editor, KeyCode } from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\nconst defaultDecimalPlaces = 2;\n\n/*\n * An example of a 'detached' editor.\n * KeyDown events are also handled to provide handling for Tab, Shift-Tab, Esc and Ctrl-Enter.\n */\nexport class FloatEditor implements Editor {\n  $input: any;\n  defaultValue: any;\n\n  constructor(private args: any) {\n    this.init();\n  }\n\n  init(): void {\n    this.$input = $(`<input type=\"number\" class='editor-text' />`)\n      .appendTo(this.args.container)\n      .on('keydown.nav', (e) => {\n        if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.RIGHT) {\n          e.stopImmediatePropagation();\n        }\n      });\n\n    setTimeout(() => {\n      this.$input.focus().select();\n    }, 50);\n  }\n\n  destroy() {\n    this.$input.remove();\n  }\n\n  focus() {\n    this.$input.focus();\n  }\n\n  getDecimalPlaces() {\n    // returns the number of fixed decimal places or null\n    const columnEditor = this.args && this.args.column && this.args.column.internalColumnEditor && this.args.column.internalColumnEditor;\n    let rtn = (columnEditor && columnEditor.params && columnEditor.params.hasOwnProperty('decimalPlaces')) ? columnEditor.params.decimalPlaces : undefined;\n    if (rtn === undefined) {\n      rtn = defaultDecimalPlaces;\n    }\n    return (!rtn && rtn !== 0 ? null : rtn);\n  }\n\n  loadValue(item: any) {\n    this.defaultValue = item[this.args.column.field];\n\n    const decPlaces = this.getDecimalPlaces();\n    if (decPlaces !== null\n      && (this.defaultValue || this.defaultValue === 0)\n      && this.defaultValue.toFixed) {\n      this.defaultValue = this.defaultValue.toFixed(decPlaces);\n    }\n\n    this.$input.val(this.defaultValue);\n    this.$input[0].defaultValue = this.defaultValue;\n    this.$input.select();\n  }\n\n  serializeValue() {\n    let rtn = parseFloat(this.$input.val()) || 0;\n    const decPlaces = this.getDecimalPlaces();\n    if (decPlaces !== null\n      && (rtn || rtn === 0)\n      && rtn.toFixed) {\n      rtn = parseFloat(rtn.toFixed(decPlaces));\n    }\n\n    return rtn;\n  }\n\n  applyValue(item: any, state: any) {\n    item[this.args.column.field] = state;\n  }\n\n  isValueChanged() {\n    const elmValue = this.$input.val();\n    return (!(elmValue === '' && this.defaultValue === null)) && (elmValue !== this.defaultValue);\n  }\n\n  validate() {\n    const elmValue = this.$input.val();\n    if (isNaN(elmValue as number)) {\n      return {\n        valid: false,\n        msg: 'Please enter a valid number'\n      };\n    }\n\n    if (this.args.column.validator) {\n      const validationResults = this.args.column.validator(elmValue);\n      if (!validationResults.valid) {\n        return validationResults;\n      }\n    }\n\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n}\n",
    "import { Editor, KeyCode } from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n/*\n * An example of a 'detached' editor.\n * KeyDown events are also handled to provide handling for Tab, Shift-Tab, Esc and Ctrl-Enter.\n */\nexport class IntegerEditor implements Editor {\n  $input: any;\n  defaultValue: any;\n\n  constructor(private args: any) {\n    this.init();\n  }\n\n  init(): void {\n    this.$input = $(`<input type=\"number\" class='editor-text' />`)\n      .appendTo(this.args.container)\n      .on('keydown.nav', (e) => {\n        if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.RIGHT) {\n          e.stopImmediatePropagation();\n        }\n      });\n\n    setTimeout(() => {\n      this.$input.focus().select();\n    }, 50);\n  }\n\n  destroy() {\n    this.$input.remove();\n  }\n\n  focus() {\n    this.$input.focus();\n  }\n\n  loadValue(item: any) {\n    this.defaultValue = parseInt(item[this.args.column.field], 10);\n    this.$input.val(this.defaultValue);\n    this.$input[0].defaultValue = this.defaultValue;\n    this.$input.select();\n  }\n\n  serializeValue() {\n    return parseInt(this.$input.val() as string, 10) || 0;\n  }\n\n  applyValue(item: any, state: any) {\n    item[this.args.column.field] = state;\n  }\n\n  isValueChanged() {\n    const elmValue = this.$input.val();\n    const value = isNaN(elmValue) ? elmValue : parseInt(elmValue, 10);\n    return (!(value === '' && this.defaultValue === null)) && (value !== this.defaultValue);\n  }\n\n  validate() {\n    const elmValue = this.$input.val();\n    if (isNaN(elmValue as number)) {\n      return {\n        valid: false,\n        msg: 'Please enter a valid integer'\n      };\n    }\n\n    if (this.args.column.validator) {\n      const validationResults = this.args.column.validator(elmValue);\n      if (!validationResults.valid) {\n        return validationResults;\n      }\n    }\n\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n}\n",
    "import { Editor, HtmlElementPosition, KeyCode } from './../models/index';\r\n\r\n// using external non-typed js libraries\r\ndeclare var $: any;\r\n\r\n/*\r\n * An example of a 'detached' editor.\r\n * The UI is added onto document BODY and .position(), .show() and .hide() are implemented.\r\n * KeyDown events are also handled to provide handling for Tab, Shift-Tab, Esc and Ctrl-Enter.\r\n */\r\nexport class LongTextEditor implements Editor {\r\n  $input: any;\r\n  $wrapper: any;\r\n  defaultValue: any;\r\n\r\n  constructor(private args: any) {\r\n    this.init();\r\n  }\r\n\r\n  init(): void {\r\n    const $container = $('body');\r\n\r\n    this.$wrapper = $(`<div class=\"slick-large-editor-text\" />`).appendTo($container);\r\n    this.$input = $(`<textarea hidefocus rows=\"5\">`).appendTo(this.$wrapper);\r\n\r\n    $(`<div class=\"editor-footer\">\r\n        <button class=\"btn btn-primary btn-xs\">Save</button>\r\n        <button class=\"btn btn-default btn-xs\">Cancel</button>\r\n      </div>`).appendTo(this.$wrapper);\r\n\r\n    this.$wrapper.find('button:first').on('click', (event: Event) => this.save());\r\n    this.$wrapper.find('button:last').on('click', (event: Event) => this.cancel());\r\n    this.$input.on('keydown', this.handleKeyDown);\r\n\r\n    this.position(this.args.position);\r\n    this.$input.focus().select();\r\n  }\r\n\r\n  handleKeyDown(e: any) {\r\n    if (e.which === KeyCode.ENTER && e.ctrlKey) {\r\n      this.save();\r\n    } else if (e.which === KeyCode.ESCAPE) {\r\n      e.preventDefault();\r\n      this.cancel();\r\n    } else if (e.which === KeyCode.TAB && e.shiftKey) {\r\n      e.preventDefault();\r\n      this.args.grid.navigatePrev();\r\n    } else if (e.which === KeyCode.TAB) {\r\n      e.preventDefault();\r\n      this.args.grid.navigateNext();\r\n    }\r\n  }\r\n\r\n  save() {\r\n    this.args.commitChanges();\r\n  }\r\n\r\n  cancel() {\r\n    this.$input.val(this.defaultValue);\r\n    this.args.cancelChanges();\r\n  }\r\n\r\n  hide() {\r\n    this.$wrapper.hide();\r\n  }\r\n\r\n  show() {\r\n    this.$wrapper.show();\r\n  }\r\n\r\n  position(position: HtmlElementPosition) {\r\n    this.$wrapper\r\n      .css('top', (position.top || 0) - 5)\r\n      .css('left', (position.left || 0) - 5);\r\n  }\r\n\r\n  destroy() {\r\n    this.$wrapper.remove();\r\n  }\r\n\r\n  focus() {\r\n    this.$input.focus();\r\n  }\r\n\r\n  loadValue(item: any) {\r\n    this.$input.val(this.defaultValue = item[this.args.column.field]);\r\n    this.$input.select();\r\n  }\r\n\r\n  serializeValue() {\r\n    return this.$input.val();\r\n  }\r\n\r\n  applyValue(item: any, state: any) {\r\n    item[this.args.column.field] = state;\r\n  }\r\n\r\n  isValueChanged() {\r\n    return (!(this.$input.val() === '' && this.defaultValue == null)) && (this.$input.val() !== this.defaultValue);\r\n  }\r\n\r\n  validate() {\r\n    let valid = true;\r\n    let msg = null;\r\n    if (this.args.column.validator) {\r\n      const validationResults = this.args.column.validator(this.$input.val(), this.args);\r\n      valid = validationResults.valid;\r\n      msg = validationResults.msg;\r\n    }\r\n\r\n    return {\r\n      valid,\r\n      msg\r\n    };\r\n  }\r\n}\r\n",
    "import { TranslateService } from '@ngx-translate/core';\nimport {\n  Editor,\n  Column,\n  GridOption,\n  MultipleSelectOption,\n  SelectOption\n} from './../models/index';\nimport { arraysEqual, CollectionService } from '../services/index';\n\n// height in pixel of the multiple-select DOM element\nconst SELECT_ELEMENT_HEIGHT = 26;\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n/**\n * Slickgrid editor class for multiple select lists\n */\nexport class MultipleSelectEditor implements Editor {\n  /** The JQuery DOM element */\n  $editorElm: any;\n\n  /** Editor Multiple-Select options */\n  editorElmOptions: MultipleSelectOption;\n\n  /** The slick grid column being edited */\n  columnDef: Column;\n\n  /** The multiple-select options for a multiple select list */\n  defaultOptions: MultipleSelectOption;\n\n  /** The default item values that are set */\n  defaultValue: any[];\n\n  /** The options label/value object to use in the select list */\n  collection: SelectOption[] = [];\n\n  /** The property name for values in the collection */\n  valueName: string;\n\n  /** The property name for labels in the collection */\n  labelName: string;\n\n  /** Grid options */\n  gridOptions: GridOption;\n\n  /** Do we translate the label? */\n  enableTranslateLabel: boolean;\n\n  /** The i18n aurelia library */\n  private _translate: TranslateService;\n\n  constructor(private args: any) {\n    this.gridOptions = this.args.grid.getOptions() as GridOption;\n    const params = this.gridOptions.params || this.args.column.params || {};\n    this._translate = params.i18n;\n\n    this.defaultOptions = {\n      container: 'body',\n      filter: false,\n      maxHeight: 200,\n      addTitle: true,\n      okButton: true,\n      selectAllDelimiter: ['', ''],\n      width: 150,\n      offsetLeft: 20,\n      onOpen: () => this.autoAdjustDropPosition(this.$editorElm, this.editorElmOptions),\n    };\n\n    if (this._translate) {\n      this.defaultOptions.countSelected = this._translate.instant('X_OF_Y_SELECTED');\n      this.defaultOptions.allSelected = this._translate.instant('ALL_SELECTED');\n      this.defaultOptions.selectAllText = this._translate.instant('SELECT_ALL');\n    }\n\n    this.init();\n  }\n\n  /**\n   * The current selected values from the collection\n   */\n  get currentValues() {\n    return this.collection\n      .filter(c => this.$editorElm.val().indexOf(c[this.valueName].toString()) !== -1)\n      .map(c => c[this.valueName]);\n  }\n\n  init() {\n    if (!this.args) {\n      throw new Error('[Angular-SlickGrid] An editor must always have an \"init()\" with valid arguments.');\n    }\n\n    this.columnDef = this.args.column as Column;\n\n    if (!this.columnDef || !this.columnDef.internalColumnEditor || !this.columnDef.internalColumnEditor.collection) {\n      throw new Error(`[Angular-SlickGrid] You need to pass a \"collection\" inside Column Definition Editor for the MultipleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }`);\n    }\n\n    const collectionService = new CollectionService(this._translate);\n    this.enableTranslateLabel = (this.columnDef.internalColumnEditor.enableTranslateLabel) ? this.columnDef.internalColumnEditor.enableTranslateLabel : false;\n    let newCollection =  this.columnDef.internalColumnEditor.collection || [];\n    this.labelName = (this.columnDef.internalColumnEditor.customStructure) ? this.columnDef.internalColumnEditor.customStructure.label : 'label';\n    this.valueName = (this.columnDef.internalColumnEditor.customStructure) ? this.columnDef.internalColumnEditor.customStructure.value : 'value';\n\n    // user might want to filter certain items of the collection\n    if (this.columnDef.internalColumnEditor && this.columnDef.internalColumnEditor.collectionSortBy) {\n      const filterBy = this.columnDef.internalColumnEditor.collectionFilterBy;\n      newCollection = collectionService.filterCollection(newCollection, filterBy);\n    }\n\n    // user might want to sort the collection\n    if (this.columnDef.internalColumnEditor && this.columnDef.internalColumnEditor.collectionSortBy) {\n      const sortBy = this.columnDef.internalColumnEditor.collectionSortBy;\n      newCollection = collectionService.sortCollection(newCollection, sortBy, this.enableTranslateLabel);\n    }\n\n    this.collection = newCollection;\n    const editorTemplate = this.buildTemplateHtmlString(newCollection);\n\n    this.createDomElement(editorTemplate);\n  }\n\n  applyValue(item: any, state: any): void {\n    item[this.args.column.field] = state;\n  }\n\n  destroy() {\n    this.$editorElm.remove();\n  }\n\n  loadValue(item: any): void {\n    // convert to string because that is how the DOM will return these values\n    this.defaultValue = item[this.columnDef.field].map((i: any) => i.toString());\n\n    this.$editorElm.find('option').each((i: number, $e: any) => {\n      if (this.defaultValue.indexOf($e.value) !== -1) {\n        $e.selected = true;\n      } else {\n        $e.selected = false;\n      }\n    });\n\n    this.refresh();\n  }\n\n  serializeValue(): any {\n    return this.currentValues;\n  }\n\n  focus() {\n    this.$editorElm.focus();\n  }\n\n  isValueChanged(): boolean {\n    return !arraysEqual(this.$editorElm.val(), this.defaultValue);\n  }\n\n  validate() {\n    if (this.args.column.validator) {\n      const validationResults = this.args.column.validator(this.currentValues, this.args);\n      if (!validationResults.valid) {\n        return validationResults;\n      }\n    }\n\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n\n  private buildTemplateHtmlString(collection: any[]) {\n    let options = '';\n    collection.forEach((option: SelectOption) => {\n      if (!option || (option[this.labelName] === undefined && option.labelKey === undefined)) {\n        throw new Error(`A collection with value/label (or value/labelKey when using Locale) is required to populate the Select list, for example: { collection: [ { value: '1', label: 'One' } ])`);\n      }\n      const labelKey = (option.labelKey || option[this.labelName]) as string;\n\n      const textLabel = ((option.labelKey || this.enableTranslateLabel) && this._translate && typeof this._translate.instant === 'function') ? this._translate.instant(labelKey || ' ') : labelKey;\n\n      options += `<option value=\"${option[this.valueName]}\">${textLabel}</option>`;\n    });\n\n    return `<select class=\"ms-filter search-filter\" multiple=\"multiple\">${options}</select>`;\n  }\n\n  /**\n   * Automatically adjust the multiple-select dropup or dropdown by available space\n   */\n  private autoAdjustDropPosition(multipleSelectDomElement: any, multipleSelectOptions: MultipleSelectOption) {\n    // height in pixel of the multiple-select element\n    const selectElmHeight = SELECT_ELEMENT_HEIGHT;\n\n    const windowHeight = $(window).innerHeight() || 300;\n    const pageScroll = $('body').scrollTop() || 0;\n    const $msDropContainer = multipleSelectOptions.container ? $(multipleSelectOptions.container) : multipleSelectDomElement;\n    const $msDrop = $msDropContainer.find('.ms-drop');\n    const msDropHeight = $msDrop.height() || 0;\n    const msDropOffsetTop = $msDrop.offset().top;\n    const space = windowHeight - (msDropOffsetTop - pageScroll);\n\n    if (space < msDropHeight) {\n      if (multipleSelectOptions.container) {\n        // when using a container, we need to offset the drop ourself\n        // and also make sure there's space available on top before doing so\n        const newOffsetTop = (msDropOffsetTop - msDropHeight - selectElmHeight);\n        if (newOffsetTop > 0) {\n          $msDrop.offset({ top: newOffsetTop < 0 ? 0 : newOffsetTop });\n        }\n      } else {\n        // without container, we simply need to add the \"top\" class to the drop\n        $msDrop.addClass('top');\n      }\n      $msDrop.removeClass('bottom');\n    } else {\n      $msDrop.addClass('bottom');\n      $msDrop.removeClass('top');\n    }\n  }\n\n  /** Build the template HTML string */\n  private createDomElement(editorTemplate: string) {\n    this.$editorElm = $(editorTemplate);\n\n    if (this.$editorElm && typeof this.$editorElm.appendTo === 'function') {\n      this.$editorElm.appendTo(this.args.container);\n    }\n\n    if (typeof this.$editorElm.multipleSelect !== 'function') {\n      // fallback to bootstrap\n      this.$editorElm.addClass('form-control');\n    } else {\n      const elementOptions = (this.columnDef.internalColumnEditor) ? this.columnDef.internalColumnEditor.elementOptions : {};\n      this.editorElmOptions = { ...this.defaultOptions, ...elementOptions };\n      this.$editorElm = this.$editorElm.multipleSelect(this.editorElmOptions);\n      setTimeout(() => this.$editorElm.multipleSelect('open'));\n    }\n  }\n\n  // refresh the jquery object because the selected checkboxes were already set\n  // prior to this method being called\n  private refresh() {\n    if (typeof this.$editorElm.multipleSelect === 'function') {\n      this.$editorElm.multipleSelect('refresh');\n    }\n  }\n}\n",
    "import { TranslateService } from '@ngx-translate/core';\nimport {\n  Editor,\n  Column,\n  GridOption,\n  MultipleSelectOption,\n  SelectOption\n} from './../models/index';\nimport { findOrDefault, CollectionService } from '../services/index';\n\n// height in pixel of the multiple-select DOM element\nconst SELECT_ELEMENT_HEIGHT = 26;\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n/**\n * Slickgrid editor class for single select lists\n */\nexport class SingleSelectEditor implements Editor {\n  /** The JQuery DOM element */\n  $editorElm: any;\n\n  /** Editor Multiple-Select options */\n  editorElmOptions: MultipleSelectOption;\n\n  /** The slick grid column being edited */\n  columnDef: Column;\n\n  /** The multiple-select options for a single select */\n  defaultOptions: any;\n\n  /** The default item value that is set */\n  defaultValue: any;\n\n  /** The options label/value object to use in the select list */\n  collection: SelectOption[] = [];\n\n  /** The property name for values in the collection */\n  valueName: string;\n\n  /** The property name for labels in the collection */\n  labelName: string;\n\n  /** Grid options */\n  gridOptions: GridOption;\n\n  /** Do we translate the label? */\n  enableTranslateLabel: boolean;\n\n  /** The i18n aurelia library */\n  private _translate: TranslateService;\n\n  constructor(private args: any) {\n    this.gridOptions = this.args.grid.getOptions() as GridOption;\n    const params = this.gridOptions.params || this.args.column.params || {};\n    this._translate = params.i18n;\n\n    this.defaultOptions = {\n      container: 'body',\n      filter: false,\n      maxHeight: 200,\n      width: 150,\n      offsetLeft: 20,\n      single: true,\n      onOpen: () => this.autoAdjustDropPosition(this.$editorElm, this.editorElmOptions),\n    };\n\n    this.init();\n  }\n\n  /**\n   * The current selected value from the collection\n   */\n  get currentValue() {\n    return findOrDefault(this.collection, (c: any) =>\n      c[this.valueName].toString() === this.$editorElm.val())[this.valueName];\n  }\n\n  init() {\n    if (!this.args) {\n      throw new Error('[Angular-SlickGrid] An editor must always have an \"init()\" with valid arguments.');\n    }\n\n    this.columnDef = this.args.column;\n\n    if (!this.columnDef || !this.columnDef.internalColumnEditor || !this.columnDef.internalColumnEditor.collection) {\n      throw new Error(`[Angular-SlickGrid] You need to pass a \"collection\" inside Column Definition Editor for the SingleSelect Editor to work correctly.\n      Also each option should include a value/label pair (or value/labelKey when using Locale).\n      For example: { editor: { collection: [{ value: true, label: 'True' },{ value: false, label: 'False'}] } }`);\n    }\n\n    const collectionService = new CollectionService(this._translate);\n    this.enableTranslateLabel = (this.columnDef.internalColumnEditor.enableTranslateLabel) ? this.columnDef.internalColumnEditor.enableTranslateLabel : false;\n    let newCollection =  this.columnDef.internalColumnEditor.collection || [];\n    this.labelName = (this.columnDef.internalColumnEditor.customStructure) ? this.columnDef.internalColumnEditor.customStructure.label : 'label';\n    this.valueName = (this.columnDef.internalColumnEditor.customStructure) ? this.columnDef.internalColumnEditor.customStructure.value : 'value';\n\n    // user might want to filter certain items of the collection\n    if (this.columnDef.internalColumnEditor && this.columnDef.internalColumnEditor.collectionFilterBy) {\n      const filterBy = this.columnDef.internalColumnEditor.collectionFilterBy;\n      newCollection = collectionService.filterCollection(newCollection, filterBy);\n    }\n\n    // user might want to sort the collection\n    if (this.columnDef.internalColumnEditor && this.columnDef.internalColumnEditor.collectionSortBy) {\n      const sortBy = this.columnDef.internalColumnEditor.collectionSortBy;\n      newCollection = collectionService.sortCollection(newCollection, sortBy, this.enableTranslateLabel);\n    }\n\n    this.collection = newCollection;\n    const editorTemplate = this.buildTemplateHtmlString(newCollection);\n\n    this.createDomElement(editorTemplate);\n  }\n\n  applyValue(item: any, state: any): void {\n    item[this.args.column.field] = state;\n  }\n\n  destroy() {\n    this.$editorElm.remove();\n  }\n\n  loadValue(item: any): void {\n    // convert to string because that is how the DOM will return these values\n    // make sure the prop exists first\n    this.defaultValue = item[this.columnDef.field] && item[this.columnDef.field].toString();\n\n\n    this.$editorElm.find('option').each((i: number, $e: any) => {\n      if (this.defaultValue === $e.value) {\n        $e.selected = true;\n      } else {\n        $e.selected = false;\n      }\n    });\n\n    this.refresh();\n  }\n\n  serializeValue(): any {\n    return this.currentValue;\n  }\n\n  focus() {\n    this.$editorElm.focus();\n  }\n\n  isValueChanged(): boolean {\n    return this.$editorElm.val() !== this.defaultValue;\n  }\n\n  validate() {\n    if (this.args.column.validator) {\n      const validationResults = this.args.column.validator(this.currentValue, this.args);\n      if (!validationResults.valid) {\n        return validationResults;\n      }\n    }\n\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n\n  private buildTemplateHtmlString(collection: any[]) {\n    let options = '';\n    collection.forEach((option: SelectOption) => {\n      if (!option || (option[this.labelName] === undefined && option.labelKey === undefined)) {\n        throw new Error('A collection with value/label (or value/labelKey when using ' +\n          'Locale) is required to populate the Select list, for example: { params: { ' +\n          '{ collection: [ { value: \\'1\\', label: \\'One\\' } ] } } }');\n      }\n      const labelKey = (option.labelKey || option[this.labelName]) as string;\n      const textLabel = ((option.labelKey || this.enableTranslateLabel) && this._translate && typeof this._translate.instant === 'function') ? this._translate.instant(labelKey || ' ') : labelKey;\n\n      options += `<option value=\"${option[this.valueName]}\">${textLabel}</option>`;\n    });\n\n    return `<select class=\"ms-filter search-filter\">${options}</select>`;\n  }\n\n    /**\n   * Automatically adjust the multiple-select dropup or dropdown by available space\n   */\n  private autoAdjustDropPosition(multipleSelectDomElement: any, multipleSelectOptions: MultipleSelectOption) {\n    // height in pixel of the multiple-select element\n    const selectElmHeight = SELECT_ELEMENT_HEIGHT;\n\n    const windowHeight = $(window).innerHeight() || 300;\n    const pageScroll = $('body').scrollTop() || 0;\n    const $msDropContainer = multipleSelectOptions.container ? $(multipleSelectOptions.container) : multipleSelectDomElement;\n    const $msDrop = $msDropContainer.find('.ms-drop');\n    const msDropHeight = $msDrop.height() || 0;\n    const msDropOffsetTop = $msDrop.offset().top;\n    const space = windowHeight - (msDropOffsetTop - pageScroll);\n\n    if (space < msDropHeight) {\n      if (multipleSelectOptions.container) {\n        // when using a container, we need to offset the drop ourself\n        // and also make sure there's space available on top before doing so\n        const newOffsetTop = (msDropOffsetTop - msDropHeight - selectElmHeight);\n        if (newOffsetTop > 0) {\n          $msDrop.offset({ top: newOffsetTop < 0 ? 0 : newOffsetTop });\n        }\n      } else {\n        // without container, we simply need to add the \"top\" class to the drop\n        $msDrop.addClass('top');\n      }\n      $msDrop.removeClass('bottom');\n    } else {\n      $msDrop.addClass('bottom');\n      $msDrop.removeClass('top');\n    }\n  }\n\n  /** Build the template HTML string */\n  private createDomElement(editorTemplate: string) {\n    this.$editorElm = $(editorTemplate);\n\n    if (this.$editorElm && typeof this.$editorElm.appendTo === 'function') {\n      this.$editorElm.appendTo(this.args.container);\n    }\n\n    if (typeof this.$editorElm.multipleSelect !== 'function') {\n      // fallback to bootstrap\n      this.$editorElm.addClass('form-control');\n    } else {\n      const elementOptions = (this.columnDef.params) ? this.columnDef.params.elementOptions : {};\n      this.editorElmOptions = { ...this.defaultOptions, ...elementOptions };\n      this.$editorElm = this.$editorElm.multipleSelect(this.editorElmOptions);\n      setTimeout(() => this.$editorElm.multipleSelect('open'));\n    }\n  }\n\n  // refresh the jquery object because the selected checkboxes were already set\n  // prior to this method being called\n  private refresh() {\n    if (typeof this.$editorElm.multipleSelect === 'function') {\n      this.$editorElm.multipleSelect('refresh');\n    }\n  }\n}\n",
    "import { Editor, KeyCode } from './../models/index';\n\n// using external non-typed js libraries\ndeclare var $: any;\n\n/*\n * An example of a 'detached' editor.\n * KeyDown events are also handled to provide handling for Tab, Shift-Tab, Esc and Ctrl-Enter.\n */\nexport class TextEditor implements Editor {\n  $input: any;\n  defaultValue: any;\n\n  constructor(private args: any) {\n    this.init();\n  }\n\n  init(): void {\n    this.$input = $(`<input type=\"text\" class=\"editor-text\" />`)\n      .appendTo(this.args.container)\n      .on('keydown.nav', (e) => {\n        if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.RIGHT) {\n          e.stopImmediatePropagation();\n        }\n      });\n\n    setTimeout(() => {\n      this.$input.focus().select();\n    }, 50);\n  }\n\n  destroy() {\n    this.$input.remove();\n  }\n\n  focus() {\n    this.$input.focus();\n  }\n\n  getValue() {\n    return this.$input.val();\n  }\n\n  setValue(val: string) {\n    this.$input.val(val);\n  }\n\n  loadValue(item: any) {\n    this.defaultValue = item[this.args.column.field] || '';\n    this.$input.val(this.defaultValue);\n    this.$input[0].defaultValue = this.defaultValue;\n    this.$input.select();\n  }\n\n  serializeValue() {\n    return this.$input.val();\n  }\n\n  applyValue(item: any, state: any) {\n    item[this.args.column.field] = state;\n  }\n\n  isValueChanged() {\n    return (!(this.$input.val() === '' && this.defaultValue === null)) && (this.$input.val() !== this.defaultValue);\n  }\n\n  validate() {\n    if (this.args.column.validator) {\n      const validationResults = this.args.column.validator(this.$input.val());\n      if (!validationResults.valid) {\n        return validationResults;\n      }\n    }\n\n    return {\n      valid: true,\n      msg: null\n    };\n  }\n}\n",
    "import { EditorType } from './../models/editorType.enum';\nimport { CheckboxEditor } from './checkboxEditor';\nimport { DateEditor } from './dateEditor';\nimport { FloatEditor } from './floatEditor';\nimport { IntegerEditor } from './integerEditor';\nimport { LongTextEditor } from './longTextEditor';\nimport { MultipleSelectEditor } from './multipleSelectEditor';\nimport { SingleSelectEditor } from './singleSelectEditor';\nimport { TextEditor } from './textEditor';\nimport { Editor } from '../models';\n\nexport class AvailableEditor {\n  constructor(public type: EditorType, public editor: any) {}\n}\n\nexport const Editors = {\n  checkbox: CheckboxEditor,\n  date: DateEditor,\n  float: FloatEditor,\n  integer: IntegerEditor,\n  longText: LongTextEditor,\n  multipleSelect: MultipleSelectEditor,\n  singleSelect: SingleSelectEditor,\n  text: TextEditor\n};\n\nexport const AVAILABLE_EDITORS: AvailableEditor[] = [\n  { type: EditorType.checkbox, editor: CheckboxEditor },\n  { type: EditorType.date, editor: DateEditor },\n  { type: EditorType.float, editor: FloatEditor },\n  { type: EditorType.integer, editor: IntegerEditor },\n  { type: EditorType.longText, editor: LongTextEditor },\n  { type: EditorType.multipleSelect, editor: MultipleSelectEditor },\n  { type: EditorType.singleSelect, editor: SingleSelectEditor },\n  { type: EditorType.text, editor: TextEditor },\n];\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const arrayToCsvFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (value && Array.isArray(value)) {\n    const values = value.join(', ');\n    return `<span title=\"${values}\">${values}</span>`;\n  }\n  return '';\n};\n",
    "import { Column, Formatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const boldFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (!isNaN(+value)) {\n    return '';\n  } else if (value >= 0) {\n    return `<span style=\"font-weight: bold\">${decimalFormatted(value, 2, 2)}$</span>`;\n  } else {\n    return `<span style=\"font-weight: bold\">${decimalFormatted(value, 2, 2)}$</span>`;\n  }\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const checkboxFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  value ? '&#x2611;' : '';\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const checkmarkFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  value ? `<i class=\"fa fa-check checkmark-icon\" aria-hidden=\"true\"></i>` : '';\n",
    "import { arrayToCsvFormatter } from './arrayToCsvFormatter';\nimport { Column, Formatter } from './../models/index';\nimport { findOrDefault } from '../services/utilities';\n\n/**\n * A formatter to show the label property value of a params collection\n */\nexport const collectionFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (!value || !columnDef || !columnDef.params || !columnDef.params.collection\n    || !columnDef.params.collection.length) {\n    return '';\n  }\n\n  const { params, params: { collection } } = columnDef;\n  const labelName = (params.customStructure) ? params.customStructure.label : 'label';\n  const valueName = (params.customStructure) ? params.customStructure.value : 'value';\n\n  if (Array.isArray(value)) {\n    return arrayToCsvFormatter(row,\n      cell,\n      value.map((v: any) => findOrDefault(collection, (c: any) => c[valueName] === v)[labelName]),\n      columnDef,\n      dataContext);\n  }\n\n  return findOrDefault(collection, (c: any) => c[valueName] === value)[labelName] || '';\n};\n",
    "import { arrayToCsvFormatter } from './arrayToCsvFormatter';\nimport { Column, Formatter } from './../models/index';\nimport { findOrDefault } from '../services/utilities';\n\n/**\n * A formatter to show the label property value of an editor collection\n */\nexport const collectionEditorFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (!value || !columnDef || !columnDef.internalColumnEditor || !columnDef.internalColumnEditor.collection\n    || !columnDef.internalColumnEditor.collection.length) {\n    return '';\n  }\n\n  const { internalColumnEditor, internalColumnEditor: { collection } } = columnDef;\n  const labelName = (internalColumnEditor.customStructure) ? internalColumnEditor.customStructure.label : 'label';\n  const valueName = (internalColumnEditor.customStructure) ? internalColumnEditor.customStructure.value : 'value';\n\n  if (Array.isArray(value)) {\n    return arrayToCsvFormatter(row,\n      cell,\n      value.map((v: any) => findOrDefault(collection, (c: any) => c[valueName] === v)[labelName]),\n      columnDef,\n      dataContext);\n  }\n\n  return findOrDefault(collection, (c: any) => c[valueName] === value)[labelName] || '';\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const complexObjectFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (!columnDef) {\n    return '';\n  }\n  const complexField = columnDef.field || '';\n  return complexField.split('.').reduce((obj, i) => (obj ? obj[i] : ''), dataContext);\n};\n",
    "import { Column, FieldType, Formatter } from './../models/index';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateIso);\n\nexport const dateIsoFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  value ? moment(value).format(FORMAT) : '';\n",
    "import { Column, FieldType, Formatter } from './../models/index';\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\nimport * as moment_ from 'moment-mini';\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateTimeIso);\n\nexport const dateTimeIsoFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  value ? moment(value).format(FORMAT) : '';\n",
    "import { Column, FieldType, Formatter } from './../models/index';\r\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\r\nimport * as moment_ from 'moment-mini';\r\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\r\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateTimeIsoAmPm);\r\n\r\nexport const dateTimeIsoAmPmFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\r\n  value ? moment(value).format(FORMAT) : '';\r\n",
    "import { Column, FieldType, Formatter } from './../models/index';\r\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\r\nimport * as moment_ from 'moment-mini';\r\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\r\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateTimeUsAmPm);\r\n\r\nexport const dateTimeUsAmPmFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\r\n  value ? moment(value).format(FORMAT) : '';\r\n",
    "import { Column, FieldType, Formatter } from './../models/index';\r\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\r\nimport * as moment_ from 'moment-mini';\r\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\r\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateTimeUs);\r\n\r\nexport const dateTimeUsFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\r\n  value ? moment(value).format(FORMAT) : '';\r\n",
    "import { Column, FieldType, Formatter } from './../models/index';\r\nimport { mapMomentDateFormatWithFieldType } from './../services/utilities';\r\nimport * as moment_ from 'moment-mini';\r\nconst moment = moment_; // patch to fix rollup \"moment has no default export\" issue, document here https://github.com/rollup/rollup/issues/670\r\nconst FORMAT = mapMomentDateFormatWithFieldType(FieldType.dateUs);\r\n\r\nexport const dateUsFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\r\n  value ? moment(value).format(FORMAT) : '';\r\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const deleteIconFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  `<i class=\"fa fa-trash pointer delete-icon\" aria-hidden=\"true\"></i>`;\n",
    "import { Column, Formatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const dollarColoredBoldFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (isNaN(+value)) {\n    return '';\n  } else if (value >= 0) {\n    return `<span style=\"color:green; font-weight: bold;\">$${decimalFormatted(value, 2, 2)}</span>`;\n  } else {\n    return `<span style=\"color:red; font-weight: bold;\">$${decimalFormatted(value, 2, 2)}</span>`;\n  }\n};\n",
    "import { Column, Formatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const dollarColoredFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (isNaN(+value)) {\n    return '';\n  } else if (value >= 0) {\n    return `<span style=\"color:green;\">$${decimalFormatted(value, 2, 2)}</span>`;\n  } else {\n    return `<span style=\"color:red;\">$${decimalFormatted(value, 2, 2)}</span>`;\n  }\n};\n",
    "import { Column, Formatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const dollarFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  isNaN(+value) ? '' : `$${decimalFormatted(value, 2, 4)}`;\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const editIconFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  `<i class=\"fa fa-pencil pointer edit-icon\" aria-hidden=\"true\"></i>`;\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const hyperlinkFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  if (value && typeof value === 'string') {\n    const matchUrl = value.match(/^(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&amp;:\\/~\\+#]*[\\w\\-\\@?^=%&amp;\\/~\\+#])?/i);\n    if (matchUrl && Array.isArray(matchUrl)) {\n      return `<a href=\"${matchUrl[0]}\">' + value + '</a>`;\n    }\n  }\n  return '';\n};\n",
    "import { Column, Formatter } from './../models/index';\n\n/** Takes an hyperlink URI prefix (passed in column definition \"params.uriPrefix\") and adds the cell value. The structure will be \"<a href=\"uriPrefix\">value</a>\"  */\nexport const hyperlinkUriPrefixFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) => {\n  let uriPrefix = (columnDef && columnDef.params && columnDef.params.uriPrefix) ? columnDef.params.uriPrefix : '';\n  if (!uriPrefix) {\n    throw new Error(`HyperlinkUriPrefix Formatter require a \"uriPrefix\" that can be passed through params. e.g.:: formatter: Formatters.hyperlinkUriPrefix, params: { uriPrefix: '/users/' }`);\n  }\n  if (value && uriPrefix && typeof uriPrefix === 'string' && !uriPrefix.includes('<script>')) {\n    uriPrefix += value;\n    return '<a href=\"' + uriPrefix + '\">' + value + '</a>';\n  }\n  return '';\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const infoIconFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any) =>\n  `<i class=\"fa fa-info-circle pointer info-icon\" aria-hidden=\"true\"></i>`;\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const lowercaseFormatter: Formatter = (row: number, cell: number, value: string | any, columnDef: Column, dataContext: any): string => {\n  // make sure the value is a string\n  if (value !== undefined && typeof value !== 'string') {\n    value = value + '';\n  }\n\n  return value ? value.toLowerCase() : '';\n};\n",
    "import { Column, Formatter } from './../models/index';\n\nexport const multipleFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any, grid: any) => {\n  const params = columnDef.params || {};\n  if (!params.formatters || !Array.isArray(params.formatters)) {\n    throw new Error(`The multiple formatter requires the \"formatters\" to be provided as a column params.\n    For example: this.columnDefinitions = [{ id: title, field: title, formatter: Formatters.multiple, params: { formatters: [Formatters.lowercase, Formatters.uppercase] }`);\n  }\n  const formatters: Formatter[] = params.formatters;\n\n  // loop through all Formatters, the value of 1st formatter will be used by 2nd formatter and so on.\n  // they are piped and executed in sequences\n  let currentValue = value;\n  for (const formatter of formatters) {\n    currentValue = formatter(row, cell, currentValue, columnDef, dataContext, grid);\n  }\n  return currentValue;\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const percentFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any): string => {\n  if (value === null || value === '') {\n    return '';\n  }\n\n  const outputValue = value > 0 ? value / 100 : 0;\n  return `<span>${outputValue}%</span>`;\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const percentCompleteBarFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any): string => {\n  if (value === null || value === '') {\n    return '';\n  }\n\n  let color;\n\n  if (value < 30) {\n    color = 'red';\n  } else if (value < 70) {\n    color = 'silver';\n  } else {\n    color = 'green';\n  }\n\n  return `<span class=\"percent-complete-bar\" style=\"background:${color}; width:${value}%\"></span>`;\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const percentCompleteFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any): string => {\n  if (value === null || value === '') {\n    return '-';\n  } else if (value < 50) {\n    return `<span style='color:red;font-weight:bold;'>${value}%</span>`;\n  } else {\n    return `<span style='color:green'>${value}%</span>`;\n  }\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const percentSymbolFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any): string => {\n  return value ? `<span>${value}%</span>` : '';\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const progressBarFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any): string => {\n  if (value === null || value === '') {\n    return '';\n  }\n\n  let color;\n\n  if (value < 30) {\n    color = 'danger';\n  } else if (value < 70) {\n    color = 'warning';\n  } else {\n    color = 'success';\n  }\n\n  return `<div class=\"progress\">\n    <div class=\"progress-bar progress-bar-${color}\" role=\"progressbar\" aria-valuenow=\"${value}\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"min-width: 2em; width: ${value}%;\">\n    ${value}%\n    </div>\n  </div>`;\n};\n",
    "import { Column, Formatter } from './../models/index';\n\n/** Takes a cell value and translates it with the \"ngx-translate\" service */\nexport const translateFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any, grid: any) => {\n  const gridOptions = (grid && typeof grid.getOptions === 'function') ? grid.getOptions() : {};\n  const columnParams = columnDef.params || {};\n  const translate = gridOptions.i18n || columnParams.i18n;\n\n  if (!translate || typeof translate.instant !== 'function') {\n    throw new Error(`The translate formatter requires the \"ngx-translate\" Service to be provided as a Grid Options or Column Definition \"i18n\".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }`);\n  }\n\n  // make sure the value is a string (for example a boolean value would throw an error)\n  if (value !== undefined && typeof value !== 'string') {\n    value = value + '';\n  }\n\n  return value ? translate.instant(value) : '';\n};\n",
    "import { Column, Formatter } from './../models/index';\n\n/** Takes a boolean value, cast it to upperCase string and finally translates it with the \"ngx-translate\" service */\nexport const translateBooleanFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any, grid: any) => {\n  const gridOptions = (grid && typeof grid.getOptions === 'function') ? grid.getOptions() : {};\n  const columnParams = columnDef.params || {};\n  const translate = gridOptions.i18n || columnParams.i18n;\n\n  if (!translate || typeof translate.instant !== 'function') {\n    throw new Error(`The translate formatter requires the \"ngx-translate\" Service to be provided as a Grid Options or Column Definition \"i18n\".\n    For example: this.gridOptions = { enableTranslate: true, i18n: this.translate }`);\n  }\n\n  // make sure the value is a string (for example a boolean value would throw an error)\n  if (value !== undefined && typeof value !== 'string') {\n    value = value + '';\n  }\n  return value ? translate.instant(value.toUpperCase() as string) : '';\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const uppercaseFormatter: Formatter = (row: number, cell: number, value: string | any, columnDef: Column, dataContext: any): string => {\n  // make sure the value is a string\n  if (value !== undefined && typeof value !== 'string') {\n    value = value + '';\n  }\n\n  return value ? value.toUpperCase() : '';\n};\n",
    "import { Column } from './../models/column.interface';\nimport { Formatter } from './../models/formatter.interface';\n\nexport const yesNoFormatter: Formatter = (row: number, cell: number, value: any, columnDef: Column, dataContext: any): string =>\n  value ? 'Yes' : 'No';\n",
    "import { Column } from './../models/index';\nimport { arrayToCsvFormatter } from './arrayToCsvFormatter';\nimport { boldFormatter } from './boldFormatter';\nimport { checkboxFormatter } from './checkboxFormatter';\nimport { checkmarkFormatter } from './checkmarkFormatter';\nimport { collectionFormatter } from './collectionFormatter';\nimport { collectionEditorFormatter } from './collectionEditorFormatter';\nimport { complexObjectFormatter } from './complexObjectFormatter';\nimport { dateIsoFormatter } from './dateIsoFormatter';\nimport { dateTimeIsoFormatter } from './dateTimeIsoFormatter';\nimport { dateTimeIsoAmPmFormatter } from './dateTimeIsoAmPmFormatter';\nimport { dateTimeUsAmPmFormatter } from './dateTimeUsAmPmFormatter';\nimport { dateTimeUsFormatter } from './dateTimeUsFormatter';\nimport { dateUsFormatter } from './dateUsFormatter';\nimport { deleteIconFormatter } from './deleteIconFormatter';\nimport { dollarColoredBoldFormatter } from './dollarColoredBoldFormatter';\nimport { dollarColoredFormatter } from './dollarColoredFormatter';\nimport { dollarFormatter } from './dollarFormatter';\nimport { editIconFormatter } from './editIconFormatter';\nimport { hyperlinkFormatter } from './hyperlinkFormatter';\nimport { hyperlinkUriPrefixFormatter } from './hyperlinkUriPrefixFormatter';\nimport { infoIconFormatter } from './infoIconFormatter';\nimport { lowercaseFormatter } from './lowercaseFormatter';\nimport { multipleFormatter } from './multipleFormatter';\nimport { percentFormatter } from './percentFormatter';\nimport { percentCompleteBarFormatter } from './percentCompleteBarFormatter';\nimport { percentCompleteFormatter } from './percentCompleteFormatter';\nimport { percentSymbolFormatter } from './percentSymbolFormatter';\nimport { progressBarFormatter } from './progressBarFormatter';\nimport { translateFormatter } from './translateFormatter';\nimport { translateBooleanFormatter } from './translateBooleanFormatter';\nimport { uppercaseFormatter } from './uppercaseFormatter';\nimport { yesNoFormatter } from './yesNoFormatter';\n\n/** Provides a list of different Formatters that will change the cell value displayed in the UI */\nexport const Formatters = {\n  /** Takes an array of string and converts it to a comma delimited string */\n  arrayToCsv: arrayToCsvFormatter,\n\n  /** show value in bold font weight as well */\n  bold: boldFormatter,\n\n  /** When value is filled (true), it will display a checkbox Unicode icon */\n  checkbox: checkboxFormatter,\n\n  /** When value is filled (true), it will display a Font-Awesome icon (fa-check) */\n  checkmark: checkmarkFormatter,\n\n  /** Takes a complex data object and return the data under that property (for example: \"user.firstName\" will return the first name \"John\") */\n  complexObject: complexObjectFormatter,\n\n  /**\n   * Looks up values from the columnDefinition.params.collection property and displays the label in CSV or string format\n   * @example\n   * // the grid will display 'foo' and 'bar' and not 1 and 2 from your dataset\n   * { params: { collection: [{ value: 1, label: 'foo'}, {value: 2, label: 'bar' }] }}\n   * const dataset = [{ value: 1 },{ value: 2 }];\n   */\n  collection: collectionFormatter,\n\n  /**\n   * Looks up values from the columnDefinition.editor.collection property and displays the label in CSV or string format\n   * @example\n   * // the grid will display 'foo' and 'bar' and not 1 and 2 from your dataset\n   * { params: { collection: [{ value: 1, label: 'foo'}, {value: 2, label: 'bar' }] }}\n   * const dataset = [{ value: 1 },{ value: 2 }];\n   */\n  collectionEditor: collectionEditorFormatter,\n\n  /** Takes a Date object and displays it as an ISO Date format */\n  dateIso: dateIsoFormatter,\n\n  /** Takes a Date object and displays it as an ISO Date+Time format */\n  dateTimeIso: dateTimeIsoFormatter,\n\n  /** Takes a Date object and displays it as an ISO Date+Time+(am/pm) format */\n  dateTimeIsoAmPm: dateTimeIsoAmPmFormatter,\n\n  /** Takes a Date object and displays it as an US Date format */\n  dateUs: dateUsFormatter,\n\n  /** Takes a Date object and displays it as an US Date+Time format */\n  dateTimeUs: dateTimeUsFormatter,\n\n  /** Takes a Date object and displays it as an US Date+Time+(am/pm) format */\n  dateTimeUsAmPm: dateTimeUsAmPmFormatter,\n\n  /** Displays a Font-Awesome delete icon (fa-trash) */\n  deleteIcon: deleteIconFormatter,\n\n  /** Display the value as 2 decimals formatted with dollar sign '$' at the end of of the value */\n  dollar: dollarFormatter,\n\n  /** Display the value as 2 decimals formatted with dollar sign '$' at the end of of the value, change color of text to red/green on negative/positive value */\n  dollarColored: dollarColoredFormatter,\n\n  /** Display the value as 2 decimals formatted with dollar sign '$' at the end of of the value, change color of text to red/green on negative/positive value, show it in bold font weight as well */\n  dollarColoredBold: dollarColoredBoldFormatter,\n\n  /** Displays a Font-Awesome edit icon (fa-pencil) */\n  editIcon: editIconFormatter,\n\n  /** Takes an hyperlink cell value and transforms it into a real hyperlink, given that the value starts with 1 of these (http|ftp|https). The structure will be \"<a href=\"hyperlink\">hyperlink</a>\" */\n  hyperlink: hyperlinkFormatter,\n\n  /** Takes an hyperlink URI prefix (passed in column definition \"params.uriPrefix\") and adds the cell value. The structure will be \"<a href=\"uriPrefix\">value</a>\"  */\n  hyperlinkUriPrefix: hyperlinkUriPrefixFormatter,\n\n  /** Displays a Font-Awesome edit icon (fa-info-circle) */\n  infoIcon: infoIconFormatter,\n\n  /** Takes a value and displays it all lowercase */\n  lowercase: lowercaseFormatter,\n\n  /**\n   * You can pipe multiple formatters (executed in sequence), use params to pass the list of formatters. For example::\n   * { field: 'title', formatter: Formatters.multiple, params: { formatters: [ Formatters.lowercase, Formatters.uppercase ] }\n   */\n  multiple: multipleFormatter,\n\n  /** Takes a cell value number (between 0.0-1.0) and displays a red (<50) or green (>=50) bar */\n  percent: percentFormatter,\n\n  /** Takes a cell value number (between 0.0-100) and displays a red (<50) or green (>=50) bar */\n  percentComplete: percentCompleteFormatter,\n\n  /** Takes a cell value number (between 0-100) and displays Bootstrap \"percent-complete-bar\" a red (<30), silver (>30 & <70) or green (>=70) bar */\n  percentCompleteBar: percentCompleteBarFormatter,\n\n  /** Takes a cell value number (between 0-100) and add the \"%\" after the number */\n  percentSymbol: percentSymbolFormatter,\n\n  /** Takes a cell value number (between 0-100) and displays Bootstrap \"progress-bar\" a red (<30), silver (>30 & <70) or green (>=70) bar */\n  progressBar: progressBarFormatter,\n\n  /** Takes a cell value and translates it (i18n). Requires an instance of the Translate Service:: `i18n: this.translate */\n  translate: translateFormatter,\n\n  /** Takes a boolean value, cast it to upperCase string and finally translates it (i18n). */\n  translateBoolean: translateBooleanFormatter,\n\n  /** Takes a value and displays it all uppercase */\n  uppercase: uppercaseFormatter,\n\n  /** Takes a boolean value and display a string 'Yes' or 'No' */\n  yesNo: yesNoFormatter\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const avgTotalsPercentageFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.avg && totals.avg[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + Math.round(val) + '%' + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const avgTotalsDollarFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.avg && totals.avg[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + '$' + decimalFormatted(val, 2, 4) + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const avgTotalsFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.avg && totals.avg[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + Math.round(val) + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const minTotalsFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.min && totals.min[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + ((Math.round(parseFloat(val) * 1000000) / 1000000)) + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const maxTotalsFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.max && totals.max[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + ((Math.round(parseFloat(val) * 1000000) / 1000000)) + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const sumTotalsColoredFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (isNaN(+val)) {\n    return '';\n  } else if (val >= 0) {\n    return `<span style=\"color:green;\">${prefix + ((Math.round(parseFloat(val) * 1000000) / 1000000)) + suffix}</span>`;\n  } else {\n    return `<span style=\"color:red;\">${prefix + ((Math.round(parseFloat(val) * 1000000) / 1000000)) + suffix}</span>`;\n  }\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const sumTotalsDollarColoredBoldFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (isNaN(+val)) {\n    return '';\n  } else if (val >= 0) {\n    return `<span style=\"color:green; font-weight: bold;\">${prefix + '$' + decimalFormatted(val, 2, 2) + suffix}</span>`;\n  } else {\n    return `<span style=\"color:red; font-weight: bold;\">${prefix + '$' + decimalFormatted(val, 2, 2) + suffix}</span>`;\n  }\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const sumTotalsDollarColoredFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (isNaN(+val)) {\n    return '';\n  } else if (val >= 0) {\n    return `<span style=\"color:green;\">${prefix + '$' + decimalFormatted(val, 2, 2) + suffix}</span>`;\n  } else {\n    return `<span style=\"color:red;\">${prefix + '$' + decimalFormatted(val, 2, 2) + suffix}</span>`;\n  }\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const sumTotalsDollarBoldFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return `<span style=\"font-weight: bold;\">${prefix + '$' + decimalFormatted(val, 2, 4) + suffix}</span>`;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\nimport { decimalFormatted } from './../services/utilities';\n\nexport const sumTotalsDollarFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + '$' + decimalFormatted(val, 2, 2) + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const sumTotalsFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return prefix + ((Math.round(parseFloat(val) * 1000000) / 1000000)) + suffix;\n  }\n  return '';\n};\n",
    "import { Column, GroupTotalsFormatter } from './../models/index';\n\nexport const sumTotalsBoldFormatter: GroupTotalsFormatter = (totals: any, columnDef: Column, grid?: any) => {\n  const field = columnDef.field || '';\n  const val = totals.sum && totals.sum[field];\n  const prefix = (columnDef.params && columnDef.params.groupFormatterPrefix) ? columnDef.params.groupFormatterPrefix : '';\n  const suffix = (columnDef.params && columnDef.params.groupFormatterSuffix) ? columnDef.params.groupFormatterSuffix : '';\n\n  if (val != null) {\n    return `<span style=\"font-weight: bold;\">${prefix + ((Math.round(parseFloat(val) * 1000000) / 1000000)) + suffix}`;\n  }\n  return '';\n};\n",
    "import { Column } from './../models/index';\nimport { avgTotalsPercentageFormatter } from './avgTotalsPercentageFormatter';\nimport { avgTotalsDollarFormatter } from './avgTotalsDollarFormatter';\nimport { avgTotalsFormatter } from './avgTotalsFormatter';\nimport { minTotalsFormatter } from './minTotalsFormatter';\nimport { maxTotalsFormatter } from './maxTotalsFormatter';\nimport { sumTotalsColoredFormatter } from './sumTotalsColoredFormatter';\nimport { sumTotalsDollarColoredBoldFormatter } from './sumTotalsDollarColoredBoldFormatter';\nimport { sumTotalsDollarColoredFormatter } from './sumTotalsDollarColoredFormatter';\nimport { sumTotalsDollarBoldFormatter } from './sumTotalsDollarBoldFormatter';\nimport { sumTotalsDollarFormatter } from './sumTotalsDollarFormatter';\nimport { sumTotalsFormatter } from './sumTotalsFormatter';\nimport { sumTotalsBoldFormatter } from './sumTotalsBoldFormatter';\n\n/** Provides a list of different Formatters that will change the cell value displayed in the UI */\nexport const GroupTotalFormatters = {\n  /**\n   * Average all the column totals\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g.: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  avgTotals: avgTotalsFormatter,\n\n  /**\n   * Average all the column totals and display '$' at the end of the value\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g.: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  avgTotalsDollar: avgTotalsDollarFormatter,\n\n  /**\n   * Average all the column totals and display '%' at the end of the value\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g.: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  avgTotalsPercentage: avgTotalsPercentageFormatter,\n\n  /**\n   * Show max value of all the column totals\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g.: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  maxTotals: maxTotalsFormatter,\n\n  /**\n   * Show min value of all the column totals\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g.: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  minTotals: minTotalsFormatter,\n\n  /**\n   * Sums up all the column totals\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g.: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotals: sumTotalsFormatter,\n\n  /**\n   * Sums up all the column totals and display it in bold font weight\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotalsBold: sumTotalsBoldFormatter,\n\n  /**\n   * Sums up all the column totals, change color of text to red/green on negative/positive value\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotalsColored: sumTotalsColoredFormatter,\n\n  /**\n   * Sums up all the column totals and display dollar sign\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotalsDollar: sumTotalsDollarFormatter,\n\n  /**\n   * Sums up all the column totals and display dollar sign and show it in bold font weight\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotalsDollarBold: sumTotalsDollarBoldFormatter,\n\n  /**\n   * Sums up all the column totals, change color of text to red/green on negative/positive value\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotalsDollarColored: sumTotalsDollarColoredFormatter,\n\n  /**\n   * Sums up all the column totals, change color of text to red/green on negative/positive value, show it in bold font weight as well\n   * Extra options available in \"params\":: \"groupFormatterPrefix\" and \"groupFormatterSuffix\", e.g: params: { groupFormatterPrefix: '<i>Total</i>: ', groupFormatterSuffix: '$' }\n   */\n  sumTotalsDollarColoredBold: sumTotalsDollarColoredBoldFormatter,\n};\n",
    "import { Pagination } from './../models/pagination.interface';\nimport { AfterViewInit, Component, EventEmitter, Injectable, Input, OnDestroy, Output } from '@angular/core';\nimport { castToPromise } from './../services/utilities';\nimport { GridOption } from './../models/index';\nimport { FilterService, SortService } from './../services/index';\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n  selector: 'slick-pagination',\n  template: `<div class=\"slick-pagination\">\r\n    <div class=\"slick-pagination-nav\">\r\n        <nav aria-label=\"Page navigation\">\r\n        <ul class=\"pagination\">\r\n            <li class=\"page-item\" [ngClass]=\"pageNumber === 1 ? 'disabled' : ''\">\r\n            <a class=\"page-link icon-seek-first fa fa-angle-double-left\" aria-label=\"First\" (click)=\"changeToFirstPage($event)\">\r\n            </a>\r\n            </li>\r\n            <li class=\"page-item\" [ngClass]=\"pageNumber === 1 ? 'disabled' : ''\">\r\n            <a class=\"page-link icon-seek-prev fa fa-angle-left\" aria-label=\"Previous\" (click)=\"changeToPreviousPage($event)\">\r\n            </a>\r\n            </li>\r\n        </ul>\r\n        </nav>\r\n\r\n        <div class=\"slick-page-number\">\r\n            <span [translate]=\"'PAGE'\"></span>\r\n            <input type=\"text\" class=\"form-control\" value=\"{{pageNumber}}\" size=\"1\"  (change)=\"changeToCurrentPage($event)\">\r\n            <span [translate]=\"'OF'\"></span><span> {{pageCount}}</span>\r\n        </div>\r\n\r\n        <nav aria-label=\"Page navigation\">\r\n        <ul class=\"pagination\">\r\n            <li class=\"page-item\" [ngClass]=\"pageNumber === pageCount ? 'disabled' : ''\">\r\n            <a class=\"page-link icon-seek-next text-center fa fa-lg fa-angle-right\" aria-label=\"Next\" (click)=\"changeToNextPage($event)\">\r\n            </a>\r\n            </li>\r\n            <li class=\"page-item\" [ngClass]=\"pageNumber === pageCount ? 'disabled' : ''\">\r\n            <a class=\"page-link icon-seek-end fa fa-lg fa-angle-double-right\" aria-label=\"Last\" (click)=\"changeToLastPage($event)\">\r\n            </a>\r\n            </li>\r\n        </ul>\r\n        </nav>\r\n    </div>\r\n    <span class=\"slick-pagination-settings\">\r\n        <select id=\"items-per-page-label\" [value]=\"itemsPerPage\" (change)=\"onChangeItemPerPage($event)\">\r\n        <option value=\"{{pageSize}}\" *ngFor=\"let pageSize of paginationPageSizes;\">{{pageSize}}</option>\r\n        </select>\r\n        <span [translate]=\"'ITEMS_PER_PAGE'\"></span>,\r\n        <span class=\"slick-pagination-count\">\r\n            <span [translate]=\"'FROM_TO_OF_TOTAL_ITEMS'\" [translateParams]=\"{ from: dataFrom, to: dataTo, totalItems: totalItems }\"></span>\r\n        </span>\r\n    </span>\r\n    </div>\r\n`\n})\n@Injectable()\nexport class SlickPaginationComponent implements AfterViewInit, OnDestroy {\n  private _filterSubcription: Subscription;\n  private _gridPaginationOptions: GridOption;\n  private _isFirstRender = true;\n  @Output() onPaginationChanged = new EventEmitter<Pagination>();\n\n  @Input()\n  set gridPaginationOptions(gridPaginationOptions: GridOption) {\n    this._gridPaginationOptions = gridPaginationOptions;\n    if (this._isFirstRender || !gridPaginationOptions || !gridPaginationOptions.pagination || (gridPaginationOptions.pagination.totalItems !== this.totalItems)) {\n      this.refreshPagination();\n      this._isFirstRender = false;\n    }\n  }\n  get gridPaginationOptions(): GridOption {\n    return this._gridPaginationOptions;\n  }\n  @Input() grid: any;\n  dataFrom = 1;\n  dataTo = 1;\n  itemsPerPage: number;\n  pageCount = 0;\n  pageNumber = 1;\n  totalItems = 0;\n  paginationCallback: Function;\n  paginationPageSizes = [25, 75, 100];\n  fromToParams: any = { from: this.dataFrom, to: this.dataTo, totalItems: this.totalItems };\n\n  /** Constructor */\n  constructor(private filterService: FilterService, private sortService: SortService) { }\n\n  ngOnDestroy() {\n    this.dispose();\n  }\n\n  ngAfterViewInit() {\n    this._gridPaginationOptions = this._gridPaginationOptions;\n    if (!this._gridPaginationOptions || !this._gridPaginationOptions.pagination || (this._gridPaginationOptions.pagination.totalItems !== this.totalItems)) {\n      this.refreshPagination();\n    }\n\n    // Subscribe to Event Emitter of Filter & Sort changed, go back to page 1 when that happen\n    this._filterSubcription = this.filterService.onFilterChanged.subscribe((data) => {\n      this.refreshPagination(true);\n    });\n  }\n\n  ceil(number: number) {\n    return Math.ceil(number);\n  }\n\n  changeToFirstPage(event: any) {\n    this.pageNumber = 1;\n    this.onPageChanged(event, this.pageNumber);\n  }\n\n  changeToLastPage(event: any) {\n    this.pageNumber = this.pageCount;\n    this.onPageChanged(event, this.pageNumber);\n  }\n\n  changeToNextPage(event: any) {\n    if (this.pageNumber < this.pageCount) {\n      this.pageNumber++;\n      this.onPageChanged(event, this.pageNumber);\n    }\n  }\n\n  changeToPreviousPage(event: any) {\n    if (this.pageNumber > 0) {\n      this.pageNumber--;\n      this.onPageChanged(event, this.pageNumber);\n    }\n  }\n\n  changeToCurrentPage(event: any) {\n    this.pageNumber = event.currentTarget.value;\n    if (this.pageNumber < 1) {\n          this.pageNumber = 1;\n    } else if (this.pageNumber > this.pageCount) {\n          this.pageNumber = this.pageCount;\n    }\n\n    this.onPageChanged(event, this.pageNumber);\n  }\n\n  dispose() {\n    this.onPaginationChanged.unsubscribe();\n    if (this._filterSubcription) {\n      this._filterSubcription.unsubscribe();\n    }\n  }\n\n  onChangeItemPerPage(event: any) {\n    const itemsPerPage = +event.target.value;\n    this.pageCount = Math.ceil(this.totalItems / itemsPerPage);\n    this.pageNumber = 1;\n    this.itemsPerPage = itemsPerPage;\n    this.onPageChanged(event, this.pageNumber);\n  }\n\n  refreshPagination(isPageNumberReset: boolean = false) {\n    const backendApi = this._gridPaginationOptions.backendServiceApi;\n    if (!backendApi || !backendApi.service || !backendApi.process) {\n      throw new Error(`BackendServiceApi requires at least a \"process\" function and a \"service\" defined`);\n    }\n\n    if (this._gridPaginationOptions && this._gridPaginationOptions.pagination) {\n      const pagination = this._gridPaginationOptions.pagination;\n      // set the number of items per page if not already set\n      if (!this.itemsPerPage) {\n        this.itemsPerPage = +((backendApi && backendApi.options && backendApi.options.paginationOptions && backendApi.options.paginationOptions.first) ? backendApi.options.paginationOptions.first : this._gridPaginationOptions.pagination.pageSize);\n      }\n\n      // if totalItems changed, we should always go back to the first page and recalculation the From-To indexes\n      if (isPageNumberReset || this.totalItems !== pagination.totalItems) {\n        if (this._isFirstRender && pagination.pageNumber && pagination.pageNumber > 1) {\n          this.pageNumber = pagination.pageNumber || 1;\n        } else {\n          this.pageNumber = 1;\n        }\n\n        // when page number is set to 1 then also reset the \"offset\" of backend service\n        if (this.pageNumber === 1) {\n          backendApi.service.resetPaginationOptions();\n        }\n      }\n\n      // calculate and refresh the multiple properties of the pagination UI\n      this.paginationPageSizes = this._gridPaginationOptions.pagination.pageSizes;\n      this.totalItems = this._gridPaginationOptions.pagination.totalItems;\n      this.recalculateFromToIndexes();\n    }\n    this.pageCount = Math.ceil(this.totalItems / this.itemsPerPage);\n  }\n\n  async onPageChanged(event: Event | undefined, pageNumber: number) {\n    this.recalculateFromToIndexes();\n\n    const backendApi = this._gridPaginationOptions.backendServiceApi;\n    if (!backendApi || !backendApi.service || !backendApi.process) {\n      throw new Error(`BackendServiceApi requires at least a \"process\" function and a \"service\" defined`);\n    }\n\n    if (this.dataTo > this.totalItems) {\n      this.dataTo = this.totalItems;\n    } else if (this.totalItems < this.itemsPerPage) {\n      this.dataTo = this.totalItems;\n    }\n    if (backendApi) {\n      const itemsPerPage = +this.itemsPerPage;\n\n      if (backendApi.preProcess) {\n        backendApi.preProcess();\n      }\n\n      const query = backendApi.service.processOnPaginationChanged(event, { newPage: pageNumber, pageSize: itemsPerPage });\n\n      // the process could be an Observable (like HttpClient) or a Promise\n      // in any case, we need to have a Promise so that we can await on it (if an Observable, convert it to Promise)\n      const observableOrPromise = backendApi.process(query);\n      const processResult = await castToPromise(observableOrPromise);\n\n      // from the result, call our internal post process to update the Dataset and Pagination info\n      if (processResult && backendApi.internalPostProcess) {\n        backendApi.internalPostProcess(processResult);\n      }\n\n      // send the response process to the postProcess callback\n      if (backendApi.postProcess) {\n        backendApi.postProcess(processResult);\n      }\n    } else {\n      throw new Error('Pagination with a backend service requires \"BackendServiceApi\" to be defined in your grid options');\n    }\n\n    // emit the changes to the parent component\n    this.onPaginationChanged.emit({\n      pageNumber: this.pageNumber,\n      pageSizes: this.paginationPageSizes,\n      pageSize: this.itemsPerPage,\n      totalItems: this.totalItems\n    });\n  }\n\n  recalculateFromToIndexes() {\n    this.dataFrom = (this.pageNumber * this.itemsPerPage) - this.itemsPerPage + 1;\n    this.dataTo = (this.totalItems < this.itemsPerPage) ? this.totalItems : (this.pageNumber * this.itemsPerPage);\n  }\n}\n",
    "import { DelimiterType, FileType, FilterType, GridOption } from './models/index';\n\n/**\n * Options that can be passed to the Bootstrap-Datetimepicker directly\n */\nexport const GlobalGridOptions: GridOption = {\n  alwaysShowVerticalScroll: true,\n  autoEdit: false,\n  asyncEditorLoading: false,\n  autoFitColumnsOnFirstLoad: true,\n  autoResize: {\n    bottomPadding: 20,\n    minHeight: 180,\n    minWidth: 300,\n    sidePadding: 0\n  },\n  cellHighlightCssClass: 'slick-cell-modified',\n  checkboxSelector: {\n    cssClass: 'slick-cell-checkboxsel'\n  },\n  columnPicker: {\n    hideForceFitButton: false,\n    hideSyncResizeButton: true\n  },\n  datasetIdPropertyName: 'id',\n  defaultFilterPlaceholder: '&#128269;',\n  defaultFilterType: FilterType.input,\n  editable: false,\n  enableAutoResize: true,\n  enableCellNavigation: false,\n  enableColumnPicker: true,\n  enableColumnReorder: true,\n  enableExport: true,\n  enableGridMenu: true,\n  enableHeaderMenu: true,\n  enableMouseHoverHighlightRow: true,\n  enableSorting: true,\n  enableTextSelectionOnCells: true,\n  explicitInitialization: true,\n  exportOptions: {\n    delimiter: DelimiterType.comma,\n    exportWithFormatter: false,\n    filename: 'export',\n    format: FileType.csv,\n    groupingAggregatorRowText: '',\n    sanitizeDataExport: false,\n    useUtf8WithBom: true\n  },\n  forceFitColumns: false,\n  gridMenu: {\n    hideClearAllFiltersCommand: false,\n    hideClearAllSortingCommand: false,\n    hideExportCsvCommand: false,\n    hideExportTextDelimitedCommand: true,\n    hideForceFitButton: false,\n    hideRefreshDatasetCommand: false,\n    hideSyncResizeButton: true,\n    hideToggleFilterCommand: false,\n    iconCssClass: 'fa fa-bars',\n    iconClearAllFiltersCommand: 'fa fa-filter text-danger',\n    iconClearAllSortingCommand: 'fa fa-unsorted text-danger',\n    iconExportCsvCommand: 'fa fa-download',\n    iconExportTextDelimitedCommand: 'fa fa-download',\n    iconRefreshDatasetCommand: 'fa fa-refresh',\n    iconToggleFilterCommand: 'fa fa-random',\n    menuWidth: 16,\n    resizeOnShowHeaderRow: true\n  },\n  headerMenu: {\n    autoAlign: true,\n    autoAlignOffset: 12,\n    minWidth: 140,\n    iconSortAscCommand: 'fa fa-sort-asc',\n    iconSortDescCommand: 'fa fa-sort-desc',\n    iconColumnHideCommand: 'fa fa-times',\n    showColumnHideCommand: true,\n    showSortCommands: true\n  },\n  headerRowHeight: 35,\n  multiColumnSort: true,\n  numberedMultiColumnSort: true,\n  tristateMultiColumnSort: false,\n  sortColNumberInSeparateSpan: true,\n  suppressActiveCellChangeOnEdit: true,\n  pagination: {\n    pageSizes: [10, 15, 20, 25, 30, 40, 50, 75, 100],\n    pageSize: 25,\n    totalItems: 0\n  },\n  rowHeight: 35,\n  showHeaderRow: false,\n  topPanelHeight: 35\n};\n",
    "// import 3rd party vendor libs\nimport 'jquery-ui-dist/jquery-ui';\nimport 'slickgrid/lib/jquery.event.drag-2.3.0';\nimport 'slickgrid/slick.core';\nimport 'slickgrid/slick.dataview';\nimport 'slickgrid/slick.grid';\nimport 'slickgrid/slick.dataview';\nimport 'slickgrid/slick.groupitemmetadataprovider';\nimport 'slickgrid/controls/slick.columnpicker';\nimport 'slickgrid/controls/slick.gridmenu';\nimport 'slickgrid/controls/slick.pager';\nimport 'slickgrid/plugins/slick.autotooltips';\nimport 'slickgrid/plugins/slick.cellexternalcopymanager';\nimport 'slickgrid/plugins/slick.cellrangedecorator';\nimport 'slickgrid/plugins/slick.cellrangeselector';\nimport 'slickgrid/plugins/slick.cellselectionmodel';\nimport 'slickgrid/plugins/slick.checkboxselectcolumn';\nimport 'slickgrid/plugins/slick.headerbuttons';\nimport 'slickgrid/plugins/slick.headermenu';\nimport 'slickgrid/plugins/slick.rowmovemanager';\nimport 'slickgrid/plugins/slick.rowselectionmodel';\nimport { AfterViewInit, Component, EventEmitter, Inject, Injectable, Input, Output, OnDestroy, OnInit, ViewChildren, ElementRef, ViewChild, ReflectiveInjector } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { castToPromise, toKebabCase } from './../services/utilities';\nimport { GlobalGridOptions } from './../global-grid-options';\nimport {\n  AngularGridInstance,\n  BackendServiceOption,\n  Column,\n  Editor,\n  EditorType,\n  GridOption,\n  GridStateChange,\n  GridStateType,\n  Pagination\n} from './../models/index';\nimport { Editors, AVAILABLE_EDITORS } from './../editors/index';\nimport { ControlAndPluginService } from './../services/controlAndPlugin.service';\nimport { ExportService } from './../services/export.service';\nimport { FilterService } from './../services/filter.service';\nimport { GraphqlService } from './../services/graphql.service';\nimport { GridEventService } from './../services/gridEvent.service';\nimport { GridService } from './../services/grid.service';\nimport { GridStateService } from './../services/gridState.service';\nimport { GroupingAndColspanService } from './../services/groupingAndColspan.service';\nimport { ResizerService } from './../services/resizer.service';\nimport { SortService } from './../services/sort.service';\nimport { Subscription } from 'rxjs/Subscription';\n\n// using external non-typed js libraries\ndeclare var Slick: any;\ndeclare var $: any;\n\nconst slickgridEventPrefix = 'sg';\n\n@Injectable()\n@Component({\n  selector: 'angular-slickgrid',\n  template: `<div id=\"slickGridContainer-{{gridId}}\" #customElm class=\"gridPane\" [style.width]=\"gridWidthString\">\n    <div attr.id='{{gridId}}' class=\"slickgrid-container\" style=\"width: 100%\" [style.height]=\"gridHeightString\">\n    </div>\n\n    <slick-pagination id=\"slickPagingContainer-{{gridId}}\"\n        *ngIf=\"showPagination\"\n        (onPaginationChanged)=\"paginationChanged($event)\"\n        [gridPaginationOptions]=\"gridPaginationOptions\">\n    </slick-pagination>\n</div>\n`,\n  providers: [\n    ControlAndPluginService,\n    ExportService,\n    FilterService,\n    GraphqlService,\n    GridEventService,\n    GridService,\n    GridStateService,\n    GroupingAndColspanService,\n    ResizerService,\n    SortService\n  ]\n})\nexport class AngularSlickgridComponent implements AfterViewInit, OnDestroy, OnInit {\n  @ViewChild('customElm', {read: ElementRef}) customElm: ElementRef;\n  private _dataset: any[];\n  private _columnDefinitions: Column[];\n  private _dataView: any;\n  private _eventHandler: any = new Slick.EventHandler();\n  private _translateSubscriber: Subscription;\n  private _gridStateSubscriber: Subscription;\n  grid: any;\n  gridPaginationOptions: GridOption;\n  gridHeightString: string;\n  gridWidthString: string;\n  groupingDefinition: any = {};\n  groupItemMetadataProvider: any;\n  showPagination = false;\n  isGridInitialized = false;\n\n  @Output() onAngularGridCreated = new EventEmitter<AngularGridInstance>();\n  @Output() onDataviewCreated = new EventEmitter<any>();\n  @Output() onGridCreated = new EventEmitter<any>();\n  @Output() onGridInitialized = new EventEmitter<any>();\n  @Output() onBeforeGridCreate = new EventEmitter<boolean>();\n  @Output() onBeforeGridDestroy = new EventEmitter<any>();\n  @Output() onAfterGridDestroyed = new EventEmitter<boolean>();\n  @Output() onGridStateServiceChanged = new EventEmitter<GridStateChange>();\n  @Input() gridId: string;\n  @Input() gridOptions: GridOption;\n  @Input() gridHeight = 0;\n  @Input() gridWidth = 0;\n\n  @Input()\n  set columnDefinitions(columnDefinitions: Column[]) {\n    this._columnDefinitions = columnDefinitions;\n    if (this.isGridInitialized) {\n      this.updateColumnDefinitionsList(columnDefinitions);\n    }\n  }\n  get columnDefinitions(): Column[] {\n    return this._columnDefinitions;\n  }\n  @Input()\n  set dataset(dataset: any[]) {\n    this._dataset = dataset;\n    this.refreshGridData(dataset);\n  }\n  get dataset(): any[] {\n    return this._dataView.getItems();\n  }\n\n\n  constructor(\n    private controlAndPluginService: ControlAndPluginService,\n    private exportService: ExportService,\n    private filterService: FilterService,\n    private gridService: GridService,\n    private gridEventService: GridEventService,\n    private gridStateService: GridStateService,\n    private groupingAndColspanService: GroupingAndColspanService,\n    private resizer: ResizerService,\n    private sortService: SortService,\n    private translate: TranslateService,\n    @Inject('config') private forRootConfig: GridOption\n  ) {}\n\n  ngOnInit(): void {\n    this.onBeforeGridCreate.emit(true);\n    if (!this.gridOptions.enableAutoResize && !this.gridOptions.autoResize) {\n      this.gridHeightString = `${this.gridHeight}px`;\n      this.gridWidthString = `${this.gridWidth}px`;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.onBeforeGridDestroy.emit(this.grid);\n    this.destroy();\n    this.onAfterGridDestroyed.emit(true);\n  }\n\n  destroy() {\n    this._dataView = [];\n    this.gridOptions = {};\n    this._eventHandler.unsubscribeAll();\n    this.controlAndPluginService.dispose();\n    this.filterService.dispose();\n    this.gridEventService.dispose();\n    this.gridStateService.dispose();\n    this.groupingAndColspanService.dispose();\n    this.resizer.dispose();\n    this.sortService.dispose();\n    this.grid.destroy();\n    if (this._translateSubscriber) {\n      this._translateSubscriber.unsubscribe();\n    }\n    if (this._gridStateSubscriber) {\n      this._gridStateSubscriber.unsubscribe();\n    }\n  }\n\n  ngAfterViewInit() {\n    this.initialization();\n    this.isGridInitialized = true;\n  }\n\n  initialization() {\n    // make sure the dataset is initialized (if not it will throw an error that it cannot getLength of null)\n    this._dataset = this._dataset || [];\n    this.gridOptions = this.mergeGridOptions(this.gridOptions);\n    this.createBackendApiInternalPostProcessCallback(this.gridOptions);\n\n    if (this.gridOptions.enableGrouping) {\n      this.groupItemMetadataProvider = new Slick.Data.GroupItemMetadataProvider();\n      this._dataView = new Slick.Data.DataView({\n        groupItemMetadataProvider: this.groupItemMetadataProvider,\n        inlineFilters: true\n      });\n    } else {\n      this._dataView = new Slick.Data.DataView();\n    }\n\n    // for convenience, we provide the property \"editor\" as an Angular-Slickgrid editor complex object\n    // however \"editor\" is used internally by SlickGrid for it's Editor Factory\n    // so in our lib we will swap \"editor\" and copy it into \"internalColumnEditor\"\n    // then take back \"editor.type\" and make it the new \"editor\" so that SlickGrid Editor Factory still works\n    this._columnDefinitions = this._columnDefinitions.map((c: Column | any) => ({ ...c, editor: this.getEditor((c.editor && c.editor.type), c), internalColumnEditor: { ...c.editor } })),\n\n    this.controlAndPluginService.createPluginBeforeGridCreation(this._columnDefinitions, this.gridOptions);\n    this.grid = new Slick.Grid(`#${this.gridId}`, this._dataView, this._columnDefinitions, this.gridOptions);\n\n    this.controlAndPluginService.attachDifferentControlOrPlugins(this.grid, this._dataView, this.groupItemMetadataProvider);\n    this.attachDifferentHooks(this.grid, this.gridOptions, this._dataView);\n\n    // emit the Grid & DataView object to make them available in parent component\n    this.onGridCreated.emit(this.grid);\n    this.onDataviewCreated.emit(this._dataView);\n\n    this.grid.init();\n    this._dataView.beginUpdate();\n    this._dataView.setItems(this._dataset, this.gridOptions.datasetIdPropertyName);\n    this._dataView.endUpdate();\n\n    // attach resize ONLY after the dataView is ready\n    this.attachResizeHook(this.grid, this.gridOptions);\n\n    // attach grouping and header grouping colspan service\n    if (this.gridOptions.createPreHeaderPanel) {\n      this.groupingAndColspanService.init(this.grid, this._dataView);\n    }\n\n    // attach grid  service\n    this.gridService.init(this.grid, this._dataView);\n\n    // when user enables translation, we need to translate Headers on first pass & subsequently in the attachDifferentHooks\n    if (this.gridOptions.enableTranslate) {\n      this.controlAndPluginService.translateColumnHeaders();\n    }\n\n    // if Export is enabled, initialize the service with the necessary grid and other objects\n    if (this.gridOptions.enableExport) {\n      this.exportService.init(this.grid, this._dataView);\n    }\n\n    // once all hooks are in placed and the grid is initialized, we can emit an event\n    this.onGridInitialized.emit(this.grid);\n\n    // attach the Backend Service API callback functions only after the grid is initialized\n    // because the preProcess() and onInit() might get triggered\n    if (this.gridOptions && this.gridOptions.backendServiceApi) {\n      this.attachBackendCallbackFunctions(this.gridOptions);\n    }\n\n    this.gridStateService.init(this.grid, this.filterService, this.sortService);\n\n    this.onAngularGridCreated.emit({\n      // Slick Grid & DataView objects\n      dataView: this._dataView,\n      slickGrid: this.grid,\n\n      // return all available Services (non-singleton)\n      backendService: this.gridOptions && this.gridOptions.backendServiceApi && this.gridOptions.backendServiceApi.service,\n      exportService: this.exportService,\n      filterService: this.filterService,\n      gridEventService: this.gridEventService,\n      gridStateService: this.gridStateService,\n      gridService: this.gridService,\n      groupingService: this.groupingAndColspanService,\n      pluginService: this.controlAndPluginService,\n      resizerService: this.resizer,\n      sortService: this.sortService,\n    });\n  }\n\n  /**\n   * From the list of available editors, find the editor associated to it's type\n   * and if it's a custom one, return the \"customEditor\" from the column\n   * @param type\n   * @param column\n   */\n  getEditor(type: EditorType, column: Column) {\n    if (type === EditorType.custom && column && column.editor && column.editor.hasOwnProperty('customEditor')) {\n      return column.editor['customEditor'];\n    }\n\n    const editorFound = AVAILABLE_EDITORS.find(editor => editor.type === type);\n    if (editorFound && editorFound.editor) {\n      return editorFound.editor;\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Define what our internal Post Process callback, it will execute internally after we get back result from the Process backend call\n   * For now, this is GraphQL Service only feautre and it will basically refresh the Dataset & Pagination without having the user to create his own PostProcess every time\n   */\n  createBackendApiInternalPostProcessCallback(gridOptions: GridOption) {\n    if (gridOptions && gridOptions.backendServiceApi) {\n      const backendApi = gridOptions.backendServiceApi;\n\n      // internalPostProcess only works with a GraphQL Service, so make sure it is that type\n      if (backendApi && backendApi.service && backendApi.service instanceof GraphqlService) {\n        backendApi.internalPostProcess = (processResult: any) => {\n          const datasetName = (backendApi && backendApi.service && typeof backendApi.service.getDatasetName === 'function') ? backendApi.service.getDatasetName() : '';\n          if (processResult && processResult.data && processResult.data[datasetName]) {\n            this._dataset = processResult.data[datasetName].nodes;\n            this.refreshGridData(this._dataset, processResult.data[datasetName].totalCount);\n          } else {\n            this._dataset = [];\n          }\n        };\n      }\n    }\n  }\n\n  attachDifferentHooks(grid: any, gridOptions: GridOption, dataView: any) {\n    // on locale change, we have to manually translate the Headers, GridMenu\n    this._translateSubscriber = this.translate.onLangChange.subscribe((event) => {\n      if (gridOptions.enableTranslate) {\n        this.controlAndPluginService.translateColumnHeaders();\n        this.controlAndPluginService.translateColumnPicker();\n        this.controlAndPluginService.translateGridMenu();\n        this.controlAndPluginService.translateHeaderMenu();\n      }\n    });\n\n    // attach external sorting (backend) when available or default onSort (dataView)\n    if (gridOptions.enableSorting) {\n      gridOptions.backendServiceApi ? this.sortService.attachBackendOnSort(grid, dataView) : this.sortService.attachLocalOnSort(grid, dataView);\n    }\n\n    // attach external filter (backend) when available or default onFilter (dataView)\n    if (gridOptions.enableFiltering) {\n      this.filterService.init(grid);\n\n      // if user entered some \"presets\", we need to reflect them all in the DOM\n      if (gridOptions.presets && gridOptions.presets.filters) {\n        this.filterService.populateColumnFilterSearchTerms(grid);\n      }\n      gridOptions.backendServiceApi ? this.filterService.attachBackendOnFilter(grid) : this.filterService.attachLocalOnFilter(grid, this._dataView);\n    }\n\n    // if user set an onInit Backend, we'll run it right away (and if so, we also need to run preProcess, internalPostProcess & postProcess)\n    if (gridOptions.backendServiceApi) {\n      const backendApi = gridOptions.backendServiceApi;\n\n      if (backendApi && backendApi.service && backendApi.service.init) {\n        backendApi.service.init(backendApi.options, gridOptions.pagination, this.grid);\n      }\n    }\n\n    // expose all Slick Grid Events through dispatch\n    for (const prop in grid) {\n      if (grid.hasOwnProperty(prop) && prop.startsWith('on')) {\n        this._eventHandler.subscribe(grid[prop], (e: any, args: any) => {\n          this.customElm.nativeElement.dispatchEvent(new CustomEvent(`${slickgridEventPrefix}-${toKebabCase(prop)}`, {\n            bubbles: true,\n            detail: {\n              eventData: e,\n              args\n            }\n          }));\n        });\n      }\n    }\n\n    // expose all Slick DataView Events through dispatch\n    for (const prop in dataView) {\n      if (dataView.hasOwnProperty(prop) && prop.startsWith('on')) {\n        this._eventHandler.subscribe(dataView[prop], (e: any, args: any) => {\n          this.customElm.nativeElement.dispatchEvent(new CustomEvent(`${slickgridEventPrefix}-${toKebabCase(prop)}`, {\n            bubbles: true,\n            detail: {\n              eventData: e,\n              args\n            }\n          }));\n        });\n      }\n    }\n\n    // expose GridState Service changes event through dispatch\n    this._gridStateSubscriber = this.gridStateService.onGridStateChanged.subscribe((gridStateChange: GridStateChange) => {\n      this.onGridStateServiceChanged.emit(gridStateChange);\n    });\n\n\n    // on cell click, mainly used with the columnDef.action callback\n    this.gridEventService.attachOnCellChange(grid, dataView);\n    this.gridEventService.attachOnClick(grid, dataView);\n\n    this._eventHandler.subscribe(dataView.onRowCountChanged, (e: any, args: any) => {\n      grid.updateRowCount();\n      grid.render();\n    });\n    this._eventHandler.subscribe(dataView.onRowsChanged, (e: any, args: any) => {\n      grid.invalidateRows(args.rows);\n      grid.render();\n    });\n\n    // does the user have a colspan callback?\n    if (gridOptions.colspanCallback) {\n      this._dataView.getItemMetadata = (rowNumber: number) => {\n        const item = this._dataView.getItem(rowNumber);\n        return gridOptions.colspanCallback(item);\n      };\n    }\n  }\n\n  attachBackendCallbackFunctions(gridOptions: GridOption) {\n    const backendApi = gridOptions.backendServiceApi;\n    const serviceOptions: BackendServiceOption = (backendApi && backendApi.service && backendApi.service.options) ? backendApi.service.options : {};\n    const isExecuteCommandOnInit = (!serviceOptions) ? false : ((serviceOptions && serviceOptions.hasOwnProperty('executeProcessCommandOnInit')) ? serviceOptions['executeProcessCommandOnInit'] : true);\n\n    // update backend filters (if need be) before the query runs\n    if (backendApi) {\n      const backendService = backendApi.service;\n      if (gridOptions && gridOptions.presets) {\n        if (backendService && backendService.updateFilters && gridOptions.presets.filters) {\n          backendService.updateFilters(gridOptions.presets.filters, true);\n        }\n        if (backendService && backendService.updateSorters && gridOptions.presets.sorters) {\n          backendService.updateSorters(undefined, gridOptions.presets.sorters);\n        }\n        if (backendService && backendService.updatePagination && gridOptions.presets.pagination) {\n          backendService.updatePagination(gridOptions.presets.pagination.pageNumber, gridOptions.presets.pagination.pageSize);\n        }\n      } else {\n        const columnFilters = this.filterService.getColumnFilters();\n        if (columnFilters && backendService && backendService.updateFilters) {\n          backendService.updateFilters(columnFilters, false);\n        }\n      }\n    }\n\n    if (backendApi && backendApi.service && (backendApi.onInit || isExecuteCommandOnInit)) {\n      const query = (typeof backendApi.service.buildQuery === 'function') ? backendApi.service.buildQuery() : '';\n      const observableOrPromise = (isExecuteCommandOnInit) ? backendApi.process(query) : backendApi.onInit(query);\n\n      // wrap this inside a setTimeout to avoid timing issue since the gridOptions needs to be ready before running this onInit\n      setTimeout(async () => {\n        if (backendApi.preProcess) {\n          backendApi.preProcess();\n        }\n\n        // the process could be an Observable (like HttpClient) or a Promise\n        // in any case, we need to have a Promise so that we can await on it (if an Observable, convert it to Promise)\n        const processResult = await castToPromise(observableOrPromise);\n\n        // define what our internal Post Process callback, only available for GraphQL Service for now\n        // it will basically refresh the Dataset & Pagination without having the user to create his own PostProcess every time\n        if (processResult && backendApi && backendApi.service instanceof GraphqlService && backendApi.internalPostProcess) {\n          backendApi.internalPostProcess(processResult);\n        }\n\n        // send the response process to the postProcess callback\n        if (backendApi.postProcess) {\n          backendApi.postProcess(processResult);\n        }\n      });\n    }\n  }\n\n  attachResizeHook(grid: any, options: GridOption) {\n    // expand/autofit columns on first page load\n    if (grid && options.autoFitColumnsOnFirstLoad) {\n      grid.autosizeColumns();\n    }\n\n    // auto-resize grid on browser resize\n    this.resizer.init(grid);\n    if (options.enableAutoResize) {\n      this.resizer.attachAutoResizeDataGrid({ height: this.gridHeight, width: this.gridWidth });\n      if (grid && options.autoFitColumnsOnFirstLoad) {\n        grid.autosizeColumns();\n      }\n    }\n  }\n\n  mergeGridOptions(gridOptions): GridOption {\n    gridOptions.gridId = this.gridId;\n    gridOptions.gridContainerId = `slickGridContainer-${this.gridId}`;\n    if (gridOptions.enableFiltering || this.forRootConfig.enableFiltering) {\n      gridOptions.showHeaderRow = true;\n    }\n    // use jquery extend to deep merge and avoid immutable properties changed in GlobalGridOptions after route change\n    return $.extend(true, {}, GlobalGridOptions, this.forRootConfig, gridOptions);\n  }\n\n  paginationChanged(pagination: Pagination) {\n    this.gridStateService.onGridStateChanged.next({\n      change: { newValues: pagination, type: GridStateType.pagination },\n      gridState: this.gridStateService.getCurrentGridState()\n    });\n  }\n\n  /**\n   * When dataset changes, we need to refresh the entire grid UI & possibly resize it as well\n   * @param dataset\n   */\n  refreshGridData(dataset: any[], totalCount?: number) {\n    if (dataset && this.grid && this._dataView && typeof this._dataView.setItems === 'function') {\n      this._dataView.setItems(dataset, this.gridOptions.datasetIdPropertyName);\n      this._dataView.reSort();\n\n      // this.grid.setData(dataset);\n      this.grid.invalidate();\n      this.grid.render();\n\n      if (this.gridOptions.enablePagination || this.gridOptions.backendServiceApi) {\n        // do we want to show pagination?\n        // if we have a backendServiceApi and the enablePagination is undefined, we'll assume that we do want to see it, else get that defined value\n        this.showPagination = ((this.gridOptions.backendServiceApi && this.gridOptions.enablePagination === undefined) ? true : this.gridOptions.enablePagination) || false;\n\n        // before merging the grid options, make sure that it has the totalItems count\n        // once we have that, we can merge and pass all these options to the pagination component\n        if (!this.gridOptions.pagination) {\n          this.gridOptions.pagination = (this.gridOptions.pagination) ? this.gridOptions.pagination : undefined;\n        }\n        if (this.gridOptions.pagination && totalCount) {\n          this.gridOptions.pagination.totalItems = totalCount;\n        }\n        if (this.gridOptions.presets && this.gridOptions.presets.pagination && this.gridOptions.pagination) {\n          this.gridOptions.pagination.pageSize = this.gridOptions.presets.pagination.pageSize;\n          this.gridOptions.pagination.pageNumber = this.gridOptions.presets.pagination.pageNumber;\n        }\n        this.gridPaginationOptions = this.mergeGridOptions(this.gridOptions);\n      }\n      if (this.grid &&  this.gridOptions.enableAutoResize) {\n        // resize the grid inside a slight timeout, in case other DOM element changed prior to the resize (like a filter/pagination changed)\n        this.resizer.resizeGrid(10, { height: this.gridHeight, width: this.gridWidth });\n      }\n    }\n  }\n\n  /**\n   * Dynamically change or update the column definitions list.\n   * We will re-render the grid so that the new header and data shows up correctly.\n   * If using i18n, we also need to trigger a re-translate of the column headers\n   */\n  updateColumnDefinitionsList(newColumnDefinitions) {\n    if (this.gridOptions.enableTranslate) {\n      this.controlAndPluginService.translateColumnHeaders(false, newColumnDefinitions);\n    } else {\n      this.controlAndPluginService.renderColumnHeaders(newColumnDefinitions);\n    }\n    this.grid.autosizeColumns();\n  }\n\n  /** Toggle the filter row displayed on first row\n   * @param isShowing\n   */\n  showHeaderRow(isShowing: boolean) {\n    this.grid.setHeaderRowVisibility(isShowing);\n    return isShowing;\n  }\n\n  /** Toggle the filter row displayed on first row */\n  toggleHeaderRow() {\n    const isShowing = !this.grid.getOptions().showHeaderRow;\n    this.grid.setHeaderRowVisibility(isShowing);\n    return isShowing;\n  }\n}\n",
    "import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AngularSlickgridComponent } from './../components/angular-slickgrid.component';\nimport { CollectionService } from './../services/collection.service';\nimport { GraphqlService } from './../services/graphql.service';\nimport { GridOdataService } from './../services/grid-odata.service';\nimport { GridOption } from './../models/gridOption.interface';\nimport { SlickPaginationComponent } from './../components/slick-pagination.component';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule\n  ],\n  declarations: [\n    AngularSlickgridComponent,\n    SlickPaginationComponent\n  ],\n  exports: [\n    AngularSlickgridComponent,\n    SlickPaginationComponent\n  ],\n  entryComponents: [AngularSlickgridComponent]\n})\nexport class AngularSlickgridModule {\n  static forRoot(config: GridOption = {}) {\n    return {\n      ngModule: AngularSlickgridModule,\n      providers: [\n        { provide: 'config', useValue: config },\n        CollectionService,\n        GraphqlService,\n        GridOdataService\n      ]\n    };\n  }\n}\n"
  ],
  "names": [
    "__awaiter",
    "thisArg",
    "_arguments",
    "P",
    "generator",
    "Promise",
    "resolve",
    "reject",
    "fulfilled",
    "value",
    "step",
    "next",
    "e",
    "rejected",
    "result",
    "done",
    "then",
    "apply",
    "__generator",
    "body",
    "f",
    "y",
    "t",
    "g",
    "_",
    "label",
    "sent",
    "trys",
    "ops",
    "verb",
    "throw",
    "return",
    "Symbol",
    "iterator",
    "this",
    "n",
    "v",
    "op",
    "TypeError",
    "call",
    "pop",
    "length",
    "push",
    "__values",
    "o",
    "m",
    "i",
    "__read",
    "r",
    "ar",
    "error",
    "__spread",
    "arguments",
    "concat",
    "colon",
    "comma",
    "equalSign",
    "pipe",
    "semicolon",
    "space",
    "tab",
    "doubleColon",
    "doublePipe",
    "doubleSemicolon",
    "csv",
    "doc",
    "docx",
    "pdf",
    "txt",
    "xls",
    "xlsx",
    "filter",
    "pagination",
    "sorter",
    "contains",
    "lessThan",
    "lessThanOrEqual",
    "greaterThan",
    "greaterThanOrEqual",
    "notEqual",
    "equal",
    "endsWith",
    "startsWith",
    "in",
    "notIn",
    "asc",
    "ASC",
    "desc",
    "DESC",
    "moment",
    "moment_",
    "addWhiteSpaces",
    "nbSpaces",
    "htmlEntityDecode",
    "input",
    "replace",
    "match",
    "dec",
    "String",
    "fromCharCode",
    "arraysEqual",
    "a",
    "b",
    "orderMatters",
    "sort",
    "castToPromise",
    "fromServiceName",
    "promise",
    "Observable",
    "first",
    "toPromise",
    "take",
    "Error",
    "findOrDefault",
    "array",
    "logic",
    "defaultVal",
    "find",
    "decimalFormatted",
    "minDecimal",
    "maxDecimal",
    "isNaN",
    "minDec",
    "undefined",
    "maxDec",
    "amount",
    "Math",
    "round",
    "pow",
    "indexOf",
    "mapMomentDateFormatWithFieldType",
    "fieldType",
    "map",
    "FieldType",
    "dateTime",
    "dateTimeIso",
    "dateTimeIsoAmPm",
    "dateTimeIsoAM_PM",
    "dateUs",
    "dateUsShort",
    "dateTimeUs",
    "dateTimeUsAmPm",
    "dateTimeUsAM_PM",
    "dateTimeUsShort",
    "dateTimeUsShortAmPm",
    "dateUtc",
    "date",
    "dateIso",
    "mapFlatpickrDateFormatWithFieldType",
    "mapOperatorType",
    "operator",
    "OperatorType",
    "mapOperatorByFieldType",
    "string",
    "unknown",
    "float",
    "number",
    "dateTimeUsShortAM_PM",
    "mapOperatorByFilterType",
    "filterType",
    "FilterType",
    "multipleSelect",
    "singleSelect",
    "parseUtcDate",
    "inputDateString",
    "useUtc",
    "test",
    "dateString",
    "decodeURIComponent",
    "dateMoment",
    "Date",
    "isValid",
    "year",
    "toString",
    "utc",
    "format",
    "sanitizeHtmlToText",
    "htmlString",
    "temp",
    "document",
    "createElement",
    "innerHTML",
    "textContent",
    "innerText",
    "toCamelCase",
    "str",
    "offset",
    "toLowerCase",
    "toUpperCase",
    "toKebabCase",
    "compareDates",
    "value1",
    "value2",
    "sortDirection",
    "strict",
    "diff",
    "date1",
    "date2",
    "parseInt",
    "FORMAT",
    "dateUsShortSorter",
    "dateSorter",
    "ISO_8601",
    "dateIsoSorter",
    "dateUsSorter",
    "numericSorter",
    "x",
    "parseFloat",
    "stringSorter",
    "position",
    "Sorters",
    "numeric",
    "sortByFieldType",
    "sortResult",
    "CollectionService",
    "translate",
    "prototype",
    "filterCollection",
    "collection",
    "filterBy",
    "filteredCollection",
    "property_1",
    "property",
    "value_1",
    "item",
    "sortCollection",
    "sortBy",
    "enableTranslateLabel",
    "_this",
    "sortedCollection",
    "property_2",
    "sortDirection_1",
    "hasOwnProperty",
    "sortDesc",
    "fieldType_1",
    "dataRow1",
    "dataRow2",
    "instant",
    "parseBoolean",
    "type",
    "Injectable",
    "TranslateService",
    "booleanFilterCondition",
    "options",
    "searchTerm",
    "Array",
    "isArray",
    "searchTerms",
    "cellValue",
    "testFilterCondition",
    "includes",
    "dateFilterCondition",
    "searchDateFormat",
    "filterSearchType",
    "dateCell",
    "dateSearch",
    "dateIsoFilterCondition",
    "dateUsFilterCondition",
    "dateUsShortFilterCondition",
    "dateUtcFilterCondition",
    "collectionSearchFilterCondition",
    "numberFilterCondition",
    "stringFilterCondition",
    "cellValueLastChar",
    "executeMappedCondition",
    "boolean",
    "FilterConditions",
    "booleanFilter",
    "collectionSearchFilter",
    "dateFilter",
    "dateIsoFilter",
    "dateUtcFilter",
    "dateUsFilter",
    "dateUsShortFilter",
    "numberFilter",
    "stringFilter",
    "testFilter",
    "require",
    "CompoundDateFilter",
    "Object",
    "defineProperty",
    "get",
    "grid",
    "getOptions",
    "init",
    "args",
    "callback",
    "columnDef",
    "$filterElm",
    "createDomElement",
    "$filterInputElm",
    "keyup",
    "onTriggerEvent",
    "$selectOperatorElm",
    "change",
    "clear",
    "triggerFilterKeyup",
    "flatInstance",
    "val",
    "destroy",
    "off",
    "remove",
    "setValues",
    "values",
    "setDate",
    "buildDatePickerInput",
    "inputFormat",
    "outputFormat",
    "outputType",
    "currentLocale",
    "getCurrentLocale",
    "gridOptions",
    "substring",
    "pickerOptions",
    "defaultDate",
    "altInput",
    "altFormat",
    "dateFormat",
    "wrap",
    "closeOnSelect",
    "locale",
    "loadFlatpickrLocale",
    "onChange",
    "selectedDates",
    "dateStr",
    "instance",
    "_currentValue",
    "enableTime",
    "CustomEvent",
    "placeholder",
    "defaultFilterPlaceholder",
    "$",
    "flatpickr",
    "buildSelectOperatorHtmlString",
    "optionValues",
    "getOptionValues",
    "optionValueString",
    "forEach",
    "option",
    "description",
    "$headerElm",
    "getHeaderRowColumn",
    "id",
    "empty",
    "$filterContainerElm",
    "$containerInputGroup",
    "$operatorInputGroupAddon",
    "append",
    "attr",
    "data",
    "addClass",
    "appendTo",
    "params",
    "i18n",
    "currentLang",
    "localeDefault",
    "default",
    "selectedOperator",
    "text",
    "removeClass",
    "hide",
    "close",
    "show",
    "open",
    "CompoundInputFilter",
    "trigger",
    "buildInputHtmlString",
    "InputFilter",
    "filterTemplate",
    "buildTemplateHtmlString",
    "target",
    "MultipleSelectFilter",
    "collectionService",
    "isFilled",
    "defaultOptions",
    "container",
    "maxHeight",
    "okButton",
    "addTitle",
    "countSelected",
    "allSelected",
    "selectAllText",
    "selectAllDelimiter",
    "onClose",
    "selectedItems",
    "siblings",
    "labelName",
    "customStructure",
    "valueName",
    "newCollection",
    "collectionFilterBy",
    "collectionSortBy",
    "triggerFilterChange",
    "optionCollection",
    "labelKey",
    "selected",
    "findValueInSearchTerms",
    "textLabel",
    "assign",
    "filterOptions",
    "SelectFilter",
    "searchTermInput",
    "SingleSelectFilter",
    "single",
    "selectedItem",
    "Filters",
    "select",
    "compoundDate",
    "compoundInput",
    "FilterService",
    "_eventHandler",
    "Slick",
    "EventHandler",
    "_filters",
    "_columnFilters",
    "_isFirstQuery",
    "onFilterChanged",
    "Subject",
    "_grid",
    "getColumns",
    "attachBackendOnFilter",
    "_slickSubscriber",
    "Event",
    "subscribe",
    "attachBackendOnFilterSubscribe",
    "bind",
    "onHeaderRowCellRendered",
    "addFilterTemplateToHeaderRow",
    "event",
    "backendApi",
    "_gridOptions",
    "backendServiceApi",
    "process",
    "service",
    "preProcess",
    "processOnFilterChanged",
    "query",
    "_a",
    "emitFilterChanged",
    "processResult",
    "internalPostProcess",
    "postProcess",
    "attachLocalOnFilter",
    "dataView",
    "_dataView",
    "setFilterArgs",
    "columnFilters",
    "setFilter",
    "customLocalFilter",
    "columnId",
    "refresh",
    "clearFilters",
    "index",
    "invalidate",
    "render",
    "tslib_1.__values",
    "keys",
    "_b",
    "columnFilter",
    "columnIndex",
    "getColumnIndex",
    "queryField",
    "queryFieldFilter",
    "field",
    "fieldSearchValue",
    "matches",
    "lastValueChar",
    "join",
    "custom",
    "k",
    "ln",
    "useFormatterOuputToFilter",
    "rowIndex",
    "getIdxById",
    "formatter",
    "dispose",
    "disposeColumnFilters",
    "unsubscribeAll",
    "unsubscribe",
    "getColumnFilters",
    "getCurrentLocalFilters",
    "currentFilters",
    "colId",
    "callbackSearchEvent",
    "colFilter",
    "triggerEvent",
    "serviceOptions",
    "_onFilterChangedOptions",
    "column",
    "filterable",
    "updateColumnFilters",
    "filter_1",
    "filterArguments",
    "defaultFilterType",
    "customFilter",
    "filterExistIndex",
    "findIndex",
    "filt",
    "name",
    "sender",
    "backendService",
    "getCurrentFilters",
    "populateColumnFilterSearchTerms",
    "presets",
    "filters",
    "filters_1",
    "_columnDefinitions",
    "columnPreset",
    "presetFilter",
    "slickEvent",
    "isPropagationStopped",
    "extend",
    "EventData",
    "notify",
    "ExportService",
    "_lineCarriageReturn",
    "_hasGroupedItems",
    "onGridBeforeExportToFile",
    "onGridAfterExportToFile",
    "exportToFile",
    "_exportOptions",
    "exportOptions",
    "dataOutput",
    "getDataOutput",
    "setTimeout",
    "downloadOptions",
    "filename",
    "csvContent",
    "useUtf8WithBom",
    "startDownloadFile",
    "columns",
    "delimiter",
    "groupByColumnHeader",
    "groupingColumnHeaderTitle",
    "_exportQuoteWrapper",
    "FileType",
    "outputDataString",
    "grouping",
    "getGrouping",
    "_columnHeaders",
    "getColumnHeaders",
    "header",
    "title",
    "getAllGridRowData",
    "lineCarriageReturn",
    "lineCount",
    "getLength",
    "rowNumber",
    "itemObj",
    "getItem",
    "readRegularRowData",
    "__groupTotals",
    "readGroupedTitleRow",
    "readGroupedTotalRow",
    "columnHeaders",
    "fieldName",
    "headerKey",
    "skippedField",
    "excludeFromExport",
    "width",
    "key",
    "row",
    "idx",
    "rowOutputString",
    "exportQuoteWrapper",
    "col",
    "fieldId",
    "isEvaluatingFormatter",
    "exportWithFormatter",
    "exportCustomFormatter",
    "itemData",
    "sanitizeDataExport",
    "exportCsvForceToKeepAsString",
    "groupName",
    "level",
    "groupingAggregatorRowText",
    "output",
    "groupTotalsFormatter",
    "navigator",
    "appName",
    "outputData",
    "mimeType",
    "TextEncoder",
    "encode",
    "blob",
    "Blob",
    "msSaveOrOpenBlob",
    "link",
    "csvUrl",
    "URL",
    "createObjectURL",
    "href",
    "setAttribute",
    "style",
    "visibility",
    "appendChild",
    "click",
    "removeChild",
    "SortService",
    "_currentLocalSorters",
    "_isBackendGrid",
    "onSortChanged",
    "attachBackendOnSort",
    "onSort",
    "onBackendSortChanged",
    "processOnSortChanged",
    "emitSortChanged",
    "attachLocalOnSort",
    "sortColumns",
    "sortCols",
    "sortAsc",
    "sortCol",
    "sortColumn",
    "direction",
    "SortDirection",
    "onLocalSortChanged",
    "onRowCountChanged",
    "current",
    "loadLocalPresets",
    "clearSorting",
    "setSortColumns",
    "getCurrentLocalSorters",
    "getPreviousColumnSorts",
    "getSortColumns",
    "reduce",
    "cols",
    "sorters",
    "sorters_1",
    "currentSorter",
    "l",
    "columnSortObj",
    "SortDirectionNumber",
    "sortField",
    "neutral",
    "currentSorters",
    "getCurrentSorters",
    "ControlAndPluginService",
    "exportService",
    "filterService",
    "sortService",
    "areVisibleColumnDifferent",
    "pluginList",
    "getPlugin",
    "p",
    "autoResizeColumns",
    "autosizeColumns",
    "attachDifferentControlOrPlugins",
    "groupItemMetadataProvider",
    "visibleColumns",
    "enableColumnPicker",
    "columnPickerControl",
    "createColumnPicker",
    "plugin",
    "enableGridMenu",
    "gridMenuControl",
    "createGridMenu",
    "enableAutoTooltip",
    "autoTooltipPlugin",
    "AutoTooltips",
    "autoTooltipOptions",
    "registerPlugin",
    "enableGrouping",
    "groupItemMetaProviderPlugin",
    "enableCheckboxSelector",
    "checkboxSelectorPlugin",
    "rowSelectionPlugin",
    "getSelectionModel",
    "RowSelectionModel",
    "rowSelectionOptions",
    "setSelectionModel",
    "preselectedRows",
    "selectRows",
    "enableRowSelection",
    "enableHeaderButton",
    "headerButtonsPlugin",
    "Plugins",
    "HeaderButtons",
    "headerButton",
    "onCommand",
    "enableHeaderMenu",
    "headerMenuPlugin",
    "createHeaderMenu",
    "enableExcelCopyBuffer",
    "createUndoRedoBuffer",
    "hookUndoShortcutKey",
    "createCellExternalCopyManagerPlugin",
    "registerPlugins",
    "createPluginBeforeGridCreation",
    "columnDefinitions",
    "CheckboxSelectColumn",
    "checkboxSelector",
    "selectionColumn",
    "getColumnDefinition",
    "excludeFromQuery",
    "excludeFromHeaderMenu",
    "unshift",
    "newRowIds",
    "pluginOptions",
    "clipboardCommandHandler",
    "editCommand",
    "undoRedoBuffer",
    "queueAndExecuteCommand",
    "dataItemColumnValueExtractor",
    "editable",
    "editor",
    "formattedOutput",
    "readOnlyMode",
    "includeHeaderWhenCopying",
    "newRowCreator",
    "count",
    "getData",
    "addItem",
    "CellSelectionModel",
    "cellExternalCopyManagerPlugin",
    "CellExternalCopyManager",
    "forceFitTitle",
    "enableTranslate",
    "syncResizeTitle",
    "columnPicker",
    "Controls",
    "ColumnPicker",
    "onColumnsChanged",
    "gridMenu",
    "getDefaultGridMenuOptions",
    "addGridMenuCustomCommands",
    "GridMenu",
    "onBeforeMenuShow",
    "onMenuClose",
    "gridUid",
    "getUID",
    "headerMenu",
    "getDefaultHeaderMenuOptions",
    "addHeaderMenuCustomCommands",
    "HeaderMenu",
    "commandQueue",
    "commandCtr",
    "execute",
    "undo",
    "command",
    "GlobalEditorLock",
    "cancelCurrentEdit",
    "redo",
    "hideColumn",
    "removeColumnByIndex",
    "setColumns",
    "keydown",
    "which",
    "ctrlKey",
    "metaKey",
    "shiftKey",
    "enableFiltering",
    "hideClearAllFiltersCommand",
    "customItems",
    "iconCssClass",
    "iconClearAllFiltersCommand",
    "disabled",
    "positionOrder",
    "hideToggleFilterCommand",
    "iconToggleFilterCommand",
    "hideRefreshDatasetCommand",
    "iconRefreshDatasetCommand",
    "enableSorting",
    "hideClearAllSortingCommand",
    "iconClearAllSortingCommand",
    "enableExport",
    "hideExportCsvCommand",
    "iconExportCsvCommand",
    "hideExportTextDelimitedCommand",
    "iconExportTextDelimitedCommand",
    "DelimiterType",
    "setHeaderRowVisibility",
    "showHeaderRow",
    "setTopPanelVisibility",
    "showTopPanel",
    "refreshBackendDataset",
    "alert",
    "customTitle",
    "itemA",
    "itemB",
    "headerMenuOptions",
    "menu",
    "items",
    "columnHeaderMenuItems",
    "sortable",
    "showSortCommands",
    "iconSortAscCommand",
    "iconSortDescCommand",
    "showColumnHideCommand",
    "iconColumnHideCommand",
    "multiColumnSort",
    "newSortColumns",
    "buildQuery",
    "el",
    "translateColumnPicker",
    "tempHideForceFit",
    "hideForceFitButton",
    "tempSyncResize",
    "hideSyncResizeButton",
    "translateGridMenu",
    "resetGridMenuTranslations",
    "translateHeaderMenu",
    "resetHeaderMenuTranslations",
    "translateColumnHeaders",
    "newColumnDefinitions",
    "use",
    "columnDefinitions_1",
    "columnDefinitions_1_1",
    "renderColumnHeaders",
    "columnTitle",
    "menuWidth",
    "autoAlignOffset",
    "minWidth",
    "timer",
    "GraphqlQueryBuilder",
    "queryFnName",
    "aliasOrFilter",
    "head",
    "alias",
    "prop",
    "getGraphQLValue",
    "searches",
    "_i",
    "searchKeys",
    "parceFind",
    "setAlias",
    "ReferenceError",
    "_levelA",
    "currentValue",
    "itemX",
    "RangeError",
    "propsAA",
    "JSON",
    "stringify",
    "propS",
    "objectToString",
    "obj",
    "sourceA",
    "DEFAULT_ITEMS_PER_PAGE",
    "GraphqlService",
    "defaultOrderBy",
    "defaultPaginationOptions",
    "datasetName",
    "queryQb",
    "QueryBuilder",
    "datasetQb",
    "dataQb",
    "columnIds",
    "columnDefinitions_2",
    "columnDefinitions_2_1",
    "fields",
    "buildFilterQuery",
    "isWithCursor",
    "pageInfoQb",
    "node",
    "datasetFilters",
    "paginationOptions",
    "pageSize",
    "sortingOptions",
    "orderBy",
    "filteringOptions",
    "addLocaleIntoQuery",
    "extraQueryArguments",
    "_c",
    "queryArgument",
    "trimDoubleQuotesOnEnumField",
    "keepArgumentFieldDoubleQuotes",
    "inputArray",
    "set",
    "shift",
    "split",
    "getInitPaginationOptions",
    "getDatasetName",
    "_currentFilters",
    "getCurrentPagination",
    "_currentPagination",
    "_currentSorters",
    "resetPaginationOptions",
    "after",
    "before",
    "last",
    "pageNumber",
    "updateOptions",
    "debounceTypingDelay",
    "filterTypingDebounce",
    "clearTimeout",
    "updateFilters",
    "processOnPaginationChanged",
    "updatePagination",
    "newPage",
    "updateSorters",
    "isUpdatedByPreset",
    "castFilterToColumnFilter",
    "searchValue",
    "searchByArray",
    "_loop_1",
    "columnFilter_1",
    "this_1",
    "presetSorters",
    "graphqlSorters",
    "tmpSorterArray",
    "queryFieldSorter",
    "sortColumns_1",
    "sortColumns_1_1",
    "inputStr",
    "enumSearchWords",
    "patternWordInQuotes",
    "patternRegex",
    "reg",
    "RegExp",
    "group1",
    "group2",
    "group3",
    "removeDoubleQuotes",
    "tmpFilter",
    "padZero",
    "s",
    "trim",
    "allTitleCase",
    "outputStr",
    "charAt",
    "substr",
    "titleCase",
    "slice",
    "OdataService",
    "_odataOptions",
    "filterQueue",
    "_defaultSortBy",
    "queryTmpArray",
    "top",
    "skip",
    "argument",
    "filterStr",
    "filterBySeparator",
    "saveColumnFilter",
    "updateFilterFromListTerms",
    "getFilterByColumn",
    "columnName",
    "getFilterCount",
    "removeColumnFilter",
    "search",
    "filterOptionObject",
    "updateFilterFromTerm",
    "searchBy",
    "tmpSearchByArray",
    "fieldSearchTerms",
    "tmpSearchTerms",
    "j",
    "lnj",
    "lnk",
    "caseType",
    "CaseType",
    "pascalCase",
    "GridOdataService",
    "odataService",
    "mergedOptions",
    "terms",
    "_loop_2",
    "columnFilter_2",
    "this_2",
    "bypassOdataQuery",
    "bypassBackendQuery",
    "encodeURIComponent",
    "dateFormatted",
    "mapOdataOperator",
    "sortByArray",
    "sorterArray",
    "sortColumns_2",
    "sortColumns_2_1",
    "columnFieldName",
    "csvString",
    "GridEventService",
    "attachOnCellChange",
    "onCellChange",
    "cell",
    "getDataItem",
    "returnedArgs",
    "gridDefinition",
    "dataContext",
    "attachOnClick",
    "onClick",
    "onCellClick",
    "stopImmediatePropagation",
    "autoEdit",
    "GridService",
    "getColumnFromEventArguments",
    "getDataItemByRowNumber",
    "getItemRowMetadata",
    "previousItemMetadata",
    "meta",
    "cssClasses",
    "isEmptyObject",
    "_dirty",
    "rowClass",
    "highlightRow",
    "fadeDelay",
    "setSelectedRows",
    "getItemMetadata",
    "updateItem",
    "gridId",
    "getSelectedRows",
    "setSelectedRow",
    "rowIndexes",
    "renderGrid",
    "addItemToDatagrid",
    "insertItem",
    "scrollRowIntoView",
    "deleteDataGridItem",
    "getRowById",
    "itemId",
    "deleteItem",
    "deleteDataGridItemById",
    "updateDataGridItem",
    "GridStateService",
    "onGridStateChanged",
    "_filterSubcription",
    "newValues",
    "GridStateType",
    "gridState",
    "getCurrentGridState",
    "_sorterSubcription",
    "currentPagination",
    "GroupingAndColspanService",
    "createPreHeaderPanel",
    "createPreHeaderRowGroupingTitle",
    "onColumnsResized",
    "$preHeaderPanel",
    "getPreHeaderPanel",
    "css",
    "getHeadersWidth",
    "parent",
    "headerColumnWidthDiff",
    "getHeaderColumnWidthDiff",
    "lastColumnGroup",
    "widthTotal",
    "columnGroup",
    "html",
    "ResizerService",
    "onGridBeforeResize",
    "attachAutoResizeDataGrid",
    "newSizes",
    "gridDomElm",
    "resizeGrid",
    "window",
    "on",
    "_gridUid",
    "calculateGridNewDimensions",
    "containerElm",
    "autoResize",
    "containerId",
    "gridContainerId",
    "windowElm",
    "bottomPadding",
    "enablePagination",
    "gridHeight",
    "height",
    "coordOffsetTop",
    "availableHeight",
    "availableWidth",
    "minHeight",
    "newHeight",
    "newWidth",
    "sidePadding",
    "getLastResizeDimensions",
    "_lastDimensions",
    "delay",
    "availableDimensions",
    "gridElm",
    "gridContainerElm",
    "heightWithPagination",
    "exec",
    "userAgent",
    "resizeCanvas",
    "AvgAggregator",
    "_field",
    "_count",
    "_nonNullCount",
    "_sum",
    "accumulate",
    "storeResult",
    "groupTotals",
    "avg",
    "MinAggregator",
    "_min",
    "min",
    "MaxAggregator",
    "_max",
    "max",
    "SumAggregator",
    "sum",
    "Aggregators",
    "Avg",
    "Min",
    "Max",
    "Sum",
    "CheckboxEditor",
    "$input",
    "focus",
    "loadValue",
    "defaultValue",
    "preClick",
    "serializeValue",
    "applyValue",
    "state",
    "isValueChanged",
    "validate",
    "valid",
    "msg",
    "DateEditor",
    "save",
    "commitChanges",
    "domValue",
    "toDate",
    "validator",
    "validationResults",
    "FloatEditor",
    "keyCode",
    "KeyCode",
    "LEFT",
    "RIGHT",
    "getDecimalPlaces",
    "columnEditor",
    "internalColumnEditor",
    "rtn",
    "decimalPlaces",
    "decPlaces",
    "toFixed",
    "elmValue",
    "IntegerEditor",
    "LongTextEditor",
    "$container",
    "$wrapper",
    "cancel",
    "handleKeyDown",
    "ENTER",
    "ESCAPE",
    "preventDefault",
    "TAB",
    "navigatePrev",
    "navigateNext",
    "cancelChanges",
    "left",
    "MultipleSelectEditor",
    "_translate",
    "offsetLeft",
    "onOpen",
    "autoAdjustDropPosition",
    "$editorElm",
    "editorElmOptions",
    "c",
    "editorTemplate",
    "each",
    "$e",
    "currentValues",
    "multipleSelectDomElement",
    "multipleSelectOptions",
    "windowHeight",
    "innerHeight",
    "pageScroll",
    "scrollTop",
    "$msDrop",
    "msDropHeight",
    "msDropOffsetTop",
    "newOffsetTop",
    "elementOptions",
    "SingleSelectEditor",
    "TextEditor",
    "getValue",
    "setValue",
    "AvailableEditor",
    "Editors",
    "checkbox",
    "integer",
    "longText",
    "AVAILABLE_EDITORS",
    "EditorType",
    "arrayToCsvFormatter",
    "boldFormatter",
    "checkboxFormatter",
    "checkmarkFormatter",
    "collectionFormatter",
    "collectionEditorFormatter",
    "complexObjectFormatter",
    "dateIsoFormatter",
    "dateTimeIsoFormatter",
    "dateTimeIsoAmPmFormatter",
    "dateTimeUsAmPmFormatter",
    "dateTimeUsFormatter",
    "dateUsFormatter",
    "deleteIconFormatter",
    "dollarColoredBoldFormatter",
    "dollarColoredFormatter",
    "dollarFormatter",
    "editIconFormatter",
    "hyperlinkFormatter",
    "matchUrl",
    "hyperlinkUriPrefixFormatter",
    "uriPrefix",
    "infoIconFormatter",
    "lowercaseFormatter",
    "multipleFormatter",
    "formatters",
    "formatters_1",
    "formatters_1_1",
    "percentFormatter",
    "percentCompleteBarFormatter",
    "percentCompleteFormatter",
    "percentSymbolFormatter",
    "progressBarFormatter",
    "translateFormatter",
    "columnParams",
    "translateBooleanFormatter",
    "uppercaseFormatter",
    "yesNoFormatter",
    "Formatters",
    "arrayToCsv",
    "bold",
    "checkmark",
    "complexObject",
    "collectionEditor",
    "deleteIcon",
    "dollar",
    "dollarColored",
    "dollarColoredBold",
    "editIcon",
    "hyperlink",
    "hyperlinkUriPrefix",
    "infoIcon",
    "lowercase",
    "multiple",
    "percent",
    "percentComplete",
    "percentCompleteBar",
    "percentSymbol",
    "progressBar",
    "translateBoolean",
    "uppercase",
    "yesNo",
    "avgTotalsPercentageFormatter",
    "totals",
    "prefix",
    "groupFormatterPrefix",
    "suffix",
    "groupFormatterSuffix",
    "avgTotalsDollarFormatter",
    "avgTotalsFormatter",
    "minTotalsFormatter",
    "maxTotalsFormatter",
    "sumTotalsColoredFormatter",
    "sumTotalsDollarColoredBoldFormatter",
    "sumTotalsDollarColoredFormatter",
    "sumTotalsDollarBoldFormatter",
    "sumTotalsDollarFormatter",
    "sumTotalsFormatter",
    "sumTotalsBoldFormatter",
    "GroupTotalFormatters",
    "avgTotals",
    "avgTotalsDollar",
    "avgTotalsPercentage",
    "maxTotals",
    "minTotals",
    "sumTotals",
    "sumTotalsBold",
    "sumTotalsColored",
    "sumTotalsDollar",
    "sumTotalsDollarBold",
    "sumTotalsDollarColored",
    "sumTotalsDollarColoredBold",
    "SlickPaginationComponent",
    "_isFirstRender",
    "onPaginationChanged",
    "EventEmitter",
    "dataFrom",
    "dataTo",
    "pageCount",
    "totalItems",
    "paginationPageSizes",
    "fromToParams",
    "from",
    "to",
    "_gridPaginationOptions",
    "gridPaginationOptions",
    "refreshPagination",
    "ngOnDestroy",
    "ngAfterViewInit",
    "ceil",
    "changeToFirstPage",
    "onPageChanged",
    "changeToLastPage",
    "changeToNextPage",
    "changeToPreviousPage",
    "changeToCurrentPage",
    "currentTarget",
    "onChangeItemPerPage",
    "itemsPerPage",
    "isPageNumberReset",
    "pageSizes",
    "recalculateFromToIndexes",
    "emit",
    "Component",
    "selector",
    "template",
    "GlobalGridOptions",
    "alwaysShowVerticalScroll",
    "Output",
    "Input",
    "asyncEditorLoading",
    "autoFitColumnsOnFirstLoad",
    "cellHighlightCssClass",
    "cssClass",
    "datasetIdPropertyName",
    "enableAutoResize",
    "enableCellNavigation",
    "enableColumnReorder",
    "enableMouseHoverHighlightRow",
    "enableTextSelectionOnCells",
    "explicitInitialization",
    "forceFitColumns",
    "resizeOnShowHeaderRow",
    "autoAlign",
    "headerRowHeight",
    "numberedMultiColumnSort",
    "tristateMultiColumnSort",
    "sortColNumberInSeparateSpan",
    "suppressActiveCellChangeOnEdit",
    "rowHeight",
    "topPanelHeight",
    "AngularSlickgridComponent",
    "controlAndPluginService",
    "gridService",
    "gridEventService",
    "gridStateService",
    "groupingAndColspanService",
    "resizer",
    "forRootConfig",
    "groupingDefinition",
    "showPagination",
    "isGridInitialized",
    "onAngularGridCreated",
    "onDataviewCreated",
    "onGridCreated",
    "onGridInitialized",
    "onBeforeGridCreate",
    "onBeforeGridDestroy",
    "onAfterGridDestroyed",
    "onGridStateServiceChanged",
    "gridWidth",
    "updateColumnDefinitionsList",
    "getItems",
    "dataset",
    "_dataset",
    "refreshGridData",
    "ngOnInit",
    "gridHeightString",
    "gridWidthString",
    "_translateSubscriber",
    "_gridStateSubscriber",
    "initialization",
    "mergeGridOptions",
    "createBackendApiInternalPostProcessCallback",
    "Data",
    "GroupItemMetadataProvider",
    "DataView",
    "inlineFilters",
    "getEditor",
    "Grid",
    "attachDifferentHooks",
    "beginUpdate",
    "setItems",
    "endUpdate",
    "attachResizeHook",
    "attachBackendCallbackFunctions",
    "slickGrid",
    "groupingService",
    "pluginService",
    "resizerService",
    "editorFound",
    "backendApi_1",
    "nodes",
    "totalCount",
    "onLangChange",
    "_loop_3",
    "this_3",
    "customElm",
    "nativeElement",
    "dispatchEvent",
    "slickgridEventPrefix",
    "bubbles",
    "detail",
    "eventData",
    "_loop_4",
    "this_4",
    "gridStateChange",
    "updateRowCount",
    "onRowsChanged",
    "invalidateRows",
    "rows",
    "colspanCallback",
    "isExecuteCommandOnInit",
    "onInit",
    "observableOrPromise_1",
    "tslib_1.__awaiter",
    "paginationChanged",
    "reSort",
    "isShowing",
    "toggleHeaderRow",
    "providers",
    "decorators",
    "Inject",
    "ViewChild",
    "read",
    "ElementRef",
    "AngularSlickgridModule",
    "forRoot",
    "config",
    "ngModule",
    "provide",
    "useValue",
    "NgModule",
    "imports",
    "CommonModule",
    "TranslateModule",
    "declarations",
    "exports",
    "entryComponents",
    "buf",
    "charCodeAt"
  ],
  "mappings": "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"
}
